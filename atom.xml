<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>风清袖一的博客</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://fengqingxiuyi.github.io/"/>
  <updated>2016-08-14T13:16:54.000Z</updated>
  <id>https://fengqingxiuyi.github.io/</id>
  
  <author>
    <name>青峰</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ListView-Header</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/14/Android/View/ListView/ListView-Header/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/14/Android/View/ListView/ListView-Header/</id>
    <published>2016-08-14T11:15:21.000Z</published>
    <updated>2016-08-14T13:16:54.000Z</updated>
    
    <content type="html">&lt;p&gt;问：ListView没有数据时怎么显示Header？&lt;/p&gt;
&lt;p&gt;答：只要ListView不设置为GONE，然后再setAdapter之前添加了headerView，就会显示Header。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/14/Android/View/ListView/ListView-Header/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/14/Android/View/ListView/ListView-Header/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;问：ListView没有数据时怎么显示Header？&lt;/p&gt;
&lt;p&gt;答：只要ListView不设置为GONE，然后再setAdapter之前添加了headerView，就会显示Header。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;
    
    </summary>
    
      <category term="Android_View_ListView" scheme="https://fengqingxiuyi.github.io/categories/Android-View-ListView/"/>
    
    
  </entry>
  
  <entry>
    <title>TextView占位符</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/TextView%E5%8D%A0%E4%BD%8D%E7%AC%A6/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/TextView占位符/</id>
    <published>2016-08-14T11:15:21.000Z</published>
    <updated>2016-08-14T11:15:40.000Z</updated>
    
    <content type="html">&lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍如何简单使用TextView占位符。&lt;/p&gt;
&lt;p&gt;这个其实很简单，这里我就直接上例子了：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;textView.setText(String.format(&lt;span class=&quot;string&quot;&gt;&quot;%s考了%d分&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;小明&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;88&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;想必大家一看就懂了，置于那些想要深入研究，还有哪些占位符的小伙伴们，可以看以下文章：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/fsjohnhuang/p/4094777.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java魔法堂：String.format详解&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/TextView占位符/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/TextView占位符/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍如何简单使用TextView占位符。&lt;/p&gt;
&lt;p&gt;这个其实很简单，这里我就直接上例子了：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;
    
    </summary>
    
      <category term="Android_Wiki" scheme="https://fengqingxiuyi.github.io/categories/Android-Wiki/"/>
    
    
  </entry>
  
  <entry>
    <title>ImageView引用图片上下方空白</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/ImageView%E5%BC%95%E7%94%A8%E5%9B%BE%E7%89%87%E4%B8%8A%E4%B8%8B%E6%96%B9%E7%A9%BA%E7%99%BD/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/ImageView引用图片上下方空白/</id>
    <published>2016-08-14T10:57:21.000Z</published>
    <updated>2016-08-14T11:15:54.000Z</updated>
    
    <content type="html">&lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍如何解决ImageView引用图片上下方空白的问题。&lt;/p&gt;
&lt;h1 id=&quot;疑问&quot;&gt;&lt;a href=&quot;#疑问&quot; class=&quot;headerlink&quot; title=&quot;疑问&quot;&gt;&lt;/a&gt;疑问&lt;/h1&gt;&lt;p&gt;疑问：当我们将一张图片引用到我们指定的ImageView容器中，可能由于图片尺寸、比例等原因，无法铺满整个容器（表述不好），导致白边的出现，而且怎么去也去不掉。如下布局代码：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;LinearLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:orientation=&lt;span class=&quot;string&quot;&gt;&quot;vertical&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;ImageView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	android:src=&lt;span class=&quot;string&quot;&gt;&quot;@mipmap/share_invite&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	android:text=&lt;span class=&quot;string&quot;&gt;&quot;测试空白区域文本&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/LinearLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如上述布局代码，本身没有任何问题，但是因为图片的尺寸，比例等原因，就可能出现图片和文本之间存在空白区域的问题。&lt;/p&gt;
&lt;h1 id=&quot;解决&quot;&gt;&lt;a href=&quot;#解决&quot; class=&quot;headerlink&quot; title=&quot;解决&quot;&gt;&lt;/a&gt;解决&lt;/h1&gt;&lt;p&gt;那么怎么解决呢？&lt;/p&gt;
&lt;p&gt;其实很简单，我们只需要为ImageView添加以下属性就可以了：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;android:adjustViewBounds=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;adjustViewBounds&quot;&gt;&lt;a href=&quot;#adjustViewBounds&quot; class=&quot;headerlink&quot; title=&quot;adjustViewBounds&quot;&gt;&lt;/a&gt;adjustViewBounds&lt;/h1&gt;&lt;p&gt;我想，你一定会问，这句话代表着什么意思？为什么这样就可以了呢？这里我就给大家简要解释一下：&lt;/p&gt;
&lt;p&gt;Google官方对于&lt;code&gt;adjustViewBounds&lt;/code&gt;这个属性是这样介绍的：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;谷歌原文：&lt;/code&gt;Set this to true if you want the ImageView to adjust its bounds to preserve the aspect ratio of its drawable.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;个人翻译（不喜勿喷）：&lt;/code&gt;如果你想要ImageView适应边界，同时保持图片宽高比，可以将它设置为true。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;我们也可以这样理解：&lt;/code&gt;将 android:adjustViewBounds 设置为true，即可去除因图片宽高比等原因导致ImageView直接引用图片时上下方存在空白区域的问题。&lt;/p&gt;
&lt;h1 id=&quot;注意点&quot;&gt;&lt;a href=&quot;#注意点&quot; class=&quot;headerlink&quot; title=&quot;注意点&quot;&gt;&lt;/a&gt;注意点&lt;/h1&gt;&lt;font color=&quot;red&quot;&gt;图片本身上下方无空白区域!!!&lt;/font&gt;



&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/ImageView引用图片上下方空白/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/ImageView引用图片上下方空白/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍如何解决ImageView引用图片上下方空白的问题。&lt;/p&gt;
&lt;h1 id=&quot;疑问&quot;&gt;&lt;a href=&quot;#疑问&quot; class=&quot;headerlink&quot; title=&quot;疑问&quot;&gt;&lt;/a&gt;疑问&lt;/h1&gt;&lt;p&gt;疑问：当我们将一张图片
    
    </summary>
    
      <category term="Android_Wiki" scheme="https://fengqingxiuyi.github.io/categories/Android-Wiki/"/>
    
    
  </entry>
  
  <entry>
    <title>设置Hint字体大小</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/%E8%AE%BE%E7%BD%AEHint%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/设置Hint字体大小/</id>
    <published>2016-08-14T10:47:21.000Z</published>
    <updated>2016-08-14T10:52:50.000Z</updated>
    
    <content type="html">&lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍如何为EditText的Hint设置字体大小。&lt;/p&gt;
&lt;p&gt;设置Hint字体大小通常有以下两种方式：&lt;/p&gt;
&lt;h1 id=&quot;静态设置&quot;&gt;&lt;a href=&quot;#静态设置&quot; class=&quot;headerlink&quot; title=&quot;静态设置&quot;&gt;&lt;/a&gt;静态设置&lt;/h1&gt;&lt;p&gt;静态设置即在布局文件中设置相关属性。&lt;/p&gt;
&lt;p&gt;很简单，我们只要在布局文件中，在EditText标签下设置textSize即可实现，但是有些情况好像设置了也没有用，尚不清楚。&lt;/p&gt;
&lt;h1 id=&quot;动态设置&quot;&gt;&lt;a href=&quot;#动态设置&quot; class=&quot;headerlink&quot; title=&quot;动态设置&quot;&gt;&lt;/a&gt;动态设置&lt;/h1&gt;&lt;p&gt;动态设置即在代码中动态实现Hint字体大小，有以下两种情况：&lt;/p&gt;
&lt;h2 id=&quot;已在布局中设置好Hint值&quot;&gt;&lt;a href=&quot;#已在布局中设置好Hint值&quot; class=&quot;headerlink&quot; title=&quot;已在布局中设置好Hint值&quot;&gt;&lt;/a&gt;已在布局中设置好Hint值&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setHint&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(EditText editText, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; fontSize)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    CharSequence hint = registerGoodsName.getHint();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 新建一个可以添加属性的文本对象&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    SpannableString ss = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SpannableString(hint);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 新建一个属性对象,设置文字的大小&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    AbsoluteSizeSpan ass = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AbsoluteSizeSpan(fontSize, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 附加属性到文本&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ss.setSpan(ass, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, ss.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 设置hint&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    editText.setHint(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SpannedString(ss)); &lt;span class=&quot;comment&quot;&gt;// 一定要进行转换,否则属性会消失&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;未在布局中设置好Hint值&quot;&gt;&lt;a href=&quot;#未在布局中设置好Hint值&quot; class=&quot;headerlink&quot; title=&quot;未在布局中设置好Hint值&quot;&gt;&lt;/a&gt;未在布局中设置好Hint值&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setHint&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(EditText editText, String hint, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; fontSize)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 新建一个可以添加属性的文本对象&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    SpannableString ss = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SpannableString(hint);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 新建一个属性对象,设置文字的大小&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    AbsoluteSizeSpan ass = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AbsoluteSizeSpan(fontSize, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 附加属性到文本&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ss.setSpan(ass, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, ss.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 设置hint&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    editText.setHint(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SpannedString(ss)); &lt;span class=&quot;comment&quot;&gt;// 一定要进行转换,否则属性会消失&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/设置Hint字体大小/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/设置Hint字体大小/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍如何为EditText的Hint设置字体大小。&lt;/p&gt;
&lt;p&gt;设置Hint字体大小通常有以下两种方式：&lt;/p&gt;
&lt;h1 id=&quot;静态设置&quot;&gt;&lt;a href=&quot;#静态设置&quot; class=&quot;headerlink&quot; title=&quot;
    
    </summary>
    
      <category term="Android_Wiki" scheme="https://fengqingxiuyi.github.io/categories/Android-Wiki/"/>
    
    
  </entry>
  
  <entry>
    <title>接口回调</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/%E6%8E%A5%E5%8F%A3%E5%9B%9E%E8%B0%83/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/接口回调/</id>
    <published>2016-08-14T10:40:23.000Z</published>
    <updated>2016-08-14T11:31:44.000Z</updated>
    
    <content type="html">&lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍&lt;code&gt;接口回调&lt;/code&gt;的相关知识。&lt;/p&gt;
&lt;h1 id=&quot;接口的概念&quot;&gt;&lt;a href=&quot;#接口的概念&quot; class=&quot;headerlink&quot; title=&quot;接口的概念&quot;&gt;&lt;/a&gt;接口的概念&lt;/h1&gt;&lt;p&gt;接口的概念：使用 interface 关键字来声明，可以看做是一种特殊的抽象类，可以指定一个类必须做什么，而不是规定它如何去做。&lt;/p&gt;
&lt;h1 id=&quot;接口的分类&quot;&gt;&lt;a href=&quot;#接口的分类&quot; class=&quot;headerlink&quot; title=&quot;接口的分类&quot;&gt;&lt;/a&gt;接口的分类&lt;/h1&gt;&lt;p&gt;个人看法：接口分为以下两种：&lt;/p&gt;
&lt;p&gt;情况一：狭义的接口：即上述所述(&lt;code&gt;接口的概念&lt;/code&gt;)。&lt;/p&gt;
&lt;p&gt;情况二：广义的接口：即为了给其他类调用而存在。&lt;/p&gt;
&lt;p&gt;接下来依次讲述一番他们的使用方法：&lt;/p&gt;
&lt;h2 id=&quot;狭义的接口&quot;&gt;&lt;a href=&quot;#狭义的接口&quot; class=&quot;headerlink&quot; title=&quot;狭义的接口&quot;&gt;&lt;/a&gt;狭义的接口&lt;/h2&gt;&lt;p&gt;情况一：狭义的接口（本文所述为同步回调），即使用 interface 关键字来声明，通常需要经历以下几个步骤：&lt;/p&gt;
&lt;p&gt;（1）定义接口 Callback ,包含回调方法 click()，该接口可以重新定义一个，也可以在其他类（如：adapter类）内部，具体代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Callback&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（2）在需要设置接口回调的类中“注册接口”，比如类名为Caller，具体代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Callback callback;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setCallback&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Callback callback)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.callback = callback;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（3）在需要设置接口回调的位置，调用回调方法，例如，为了解耦，需要将adapter中得点击事件回调到外部activity进行操作，具体代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;adapterView.setOnClickListener(v -&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != callback) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		callback.click();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（4）在activity类中监听回调，具体代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Caller().setCallback(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Callback() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	&lt;span class=&quot;comment&quot;&gt;// do something...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;广义的接口&quot;&gt;&lt;a href=&quot;#广义的接口&quot; class=&quot;headerlink&quot; title=&quot;广义的接口&quot;&gt;&lt;/a&gt;广义的接口&lt;/h2&gt;&lt;p&gt;情况二：广义的接口：即为了给其他类调用而存在&lt;/p&gt;
&lt;p&gt;这种情况非常多，比如说，你自定义了一个View，但是缺少了给这个View设置颜色的方法，这个时候我们就可以定义一个公共的setColor方法，提供给外部调用，这就是一个接口，具体执行步骤如下所示：&lt;/p&gt;
&lt;p&gt;（1）在自定义的View中定义如下方法：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setColor&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; color)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.setColor(context.getResources().getColor(color));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（2）在activity中调用该方法即可：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;activityView.setColor(android.R.color.black);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;总结&quot;&gt;&lt;a href=&quot;#总结&quot; class=&quot;headerlink&quot; title=&quot;总结&quot;&gt;&lt;/a&gt;总结&lt;/h1&gt;&lt;p&gt;至此接口回调就讲完了，如果想要深入理解接口回调机制，可以查看以下文章：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/xiaanming/article/details/8703708&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;一个经典例子让你彻彻底底理解java回调机制&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/接口回调/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/接口回调/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍&lt;code&gt;接口回调&lt;/code&gt;的相关知识。&lt;/p&gt;
&lt;h1 id=&quot;接口的概念&quot;&gt;&lt;a href=&quot;#接口的概念&quot; class=&quot;headerlink&quot; title=&quot;接口的概念&quot;&gt;&lt;/a&gt;接口的概念&lt;/h1&gt;&lt;p&gt;接口
    
    </summary>
    
      <category term="Android_Wiki" scheme="https://fengqingxiuyi.github.io/categories/Android-Wiki/"/>
    
    
  </entry>
  
  <entry>
    <title>将layout转换为Bitmap</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/%E5%B0%86layout%E8%BD%AC%E6%8D%A2%E4%B8%BABitmap/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/将layout转换为Bitmap/</id>
    <published>2016-08-14T10:23:23.000Z</published>
    <updated>2016-08-14T11:24:58.000Z</updated>
    
    <content type="html">&lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍如何将layout转换为Bitmap，以及遇到的一些注意点。&lt;/p&gt;
&lt;p&gt;（1）编写好要转换为图片的布局文件，必须设置根控件的id。&lt;/p&gt;
&lt;p&gt;（2）在要执行该业务的类中使用View.inflate的方式将布局转换为View。&lt;/p&gt;
&lt;p&gt;（3）转换为View之后，找到布局文件中的控件，并为其设置数据，如果无需设置可省略。&lt;/p&gt;
&lt;p&gt;（4）将View添加到要执行该业务的类的某个控件中，并将这个控件设置为invisible，便于&lt;code&gt;隐藏渲染&lt;/code&gt;。&lt;font color=&quot;red&quot;&gt;注意：此控件的父控件应该为RealtiveLayout，避免出现空白区域，影响用户体验。&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;（5）调用以下方法，将layout转换为Bitmap：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;layout2Bitmap&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ViewGroup viewGroup)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width = viewGroup.getMeasuredWidth();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height = viewGroup.getMeasuredHeight();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Bitmap b = Bitmap.createBitmap(width, height, Bitmap.Config.RGB_565);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Canvas canvas = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Canvas(b);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    viewGroup.draw(canvas);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    img.setImageBitmap(b);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（6）&lt;font color=&quot;red&quot;&gt;注意：执行完第4步后，不能立刻执行第5步，因为此时页面可能还没有渲染完毕，直接执行第5步会导致提示width和height必须大于0的异常发生，需要根据业务需要，在合适的地方执行。&lt;/font&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/将layout转换为Bitmap/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/将layout转换为Bitmap/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍如何将layout转换为Bitmap，以及遇到的一些注意点。&lt;/p&gt;
&lt;p&gt;（1）编写好要转换为图片的布局文件，必须设置根控件的id。&lt;/p&gt;
&lt;p&gt;（2）在要执行该业务的类中使用View.inflate的方式将布局转换为V
    
    </summary>
    
      <category term="Android_Wiki" scheme="https://fengqingxiuyi.github.io/categories/Android-Wiki/"/>
    
    
  </entry>
  
  <entry>
    <title>获取指定包名下的Activity</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E5%8C%85%E5%90%8D%E4%B8%8B%E7%9A%84Activity/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/获取指定包名下的Activity/</id>
    <published>2016-08-14T10:11:23.000Z</published>
    <updated>2016-08-14T10:23:20.000Z</updated>
    
    <content type="html">&lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍如何获取指定包名下的所有Activity，并实现Activity的跳转。&lt;/p&gt;
&lt;h1 id=&quot;Activity类文件&quot;&gt;&lt;a href=&quot;#Activity类文件&quot; class=&quot;headerlink&quot; title=&quot;Activity类文件&quot;&gt;&lt;/a&gt;Activity类文件&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getActivities&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    PackageInfo packageInfo;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        packageInfo = context.getPackageManager().getPackageInfo(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                context.getPackageName(), PackageManager.GET_ACTIVITIES);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        List&amp;lt;String&amp;gt; activityNames = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        List&amp;lt;ActivityInfo&amp;gt; activityInfos = Arrays.asList(packageInfo.activities);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 将activityInfos中的name添加到集合activityNames中&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (ActivityInfo activityInfo : activityInfos) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        activityNames.add(activityInfo.name.substring(activityInfo.name.lastIndexOf(&lt;span class=&quot;string&quot;&gt;&quot;.&quot;&lt;/span&gt;)+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 显示ListView&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (activityNames != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            testListview.setAdapter(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayAdapter&amp;lt;&amp;gt;(context,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    android.R.layout.simple_list_item_1, activityNames));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 跳转到指定的Activity页面&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        testListview.setOnItemClickListener((parent, view, position, id) -&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                activity.startActivity(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Intent(activity, Class.forName(activityInfos.get(position).name)));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (ClassNotFoundException e) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (PackageManager.NameNotFoundException e) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;布局文件&quot;&gt;&lt;a href=&quot;#布局文件&quot; class=&quot;headerlink&quot; title=&quot;布局文件&quot;&gt;&lt;/a&gt;布局文件&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;string&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;RelativeLayout xmlns:android=&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/apk/res/android&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:background=&lt;span class=&quot;string&quot;&gt;&quot;@color/black&quot;&lt;/span&gt;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;ListView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/test_listview&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:divider=&lt;span class=&quot;string&quot;&gt;&quot;@color/white&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:dividerHeight=&lt;span class=&quot;string&quot;&gt;&quot;1dp&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/RelativeLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/获取指定包名下的Activity/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/14/Android/Wiki/获取指定包名下的Activity/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;注：本文属于工具类文章，可以直接使用；本文主要介绍如何获取指定包名下的所有Activity，并实现Activity的跳转。&lt;/p&gt;
&lt;h1 id=&quot;Activity类文件&quot;&gt;&lt;a href=&quot;#Activity类文件&quot; class=&quot;headerlink&quot; title=&quot;A
    
    </summary>
    
      <category term="Android_Wiki" scheme="https://fengqingxiuyi.github.io/categories/Android-Wiki/"/>
    
    
  </entry>
  
  <entry>
    <title>Android模板制作</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/13/Android/%E6%A8%A1%E6%9D%BF/Android%E6%A8%A1%E6%9D%BF%E5%88%B6%E4%BD%9C/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/13/Android/模板/Android模板制作/</id>
    <published>2016-08-13T05:01:25.000Z</published>
    <updated>2016-08-13T10:10:14.000Z</updated>
    
    <content type="html">&lt;p&gt;本文专门介绍和&lt;code&gt;模板&lt;/code&gt;相关的知识，那么问题来了：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;模板是什么&lt;/li&gt;
&lt;li&gt;模板使用位置&lt;/li&gt;
&lt;li&gt;模板如何创建(包含模板存放位置)&lt;/li&gt;
&lt;li&gt;模板如何使用&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;接下来，我就按照以上顺序为大家解读看起来高大上的&lt;code&gt;模板&lt;/code&gt;。&lt;/p&gt;
&lt;h1 id=&quot;警告&quot;&gt;&lt;a href=&quot;#警告&quot; class=&quot;headerlink&quot; title=&quot;警告&quot;&gt;&lt;/a&gt;警告&lt;/h1&gt;&lt;font color=&quot;red&quot;&gt;本文所有模板路径均为Mac下的路径，Windows用户也可以查看路径中的相关信息，进而快速定位。&lt;/font&gt;

&lt;h1 id=&quot;模板是什么&quot;&gt;&lt;a href=&quot;#模板是什么&quot; class=&quot;headerlink&quot; title=&quot;模板是什么&quot;&gt;&lt;/a&gt;模板是什么&lt;/h1&gt;&lt;p&gt;个人理解：模板即为了帮助人们简化某些固定而繁琐的操作而制作的工具，用于快速实现这些固定而繁琐的操作。&lt;/p&gt;
&lt;h1 id=&quot;模板使用位置&quot;&gt;&lt;a href=&quot;#模板使用位置&quot; class=&quot;headerlink&quot; title=&quot;模板使用位置&quot;&gt;&lt;/a&gt;模板使用位置&lt;/h1&gt;&lt;p&gt;当我们在使用AndroidStudio进行开发的时候，将鼠标选中工程项目，然后右击可以在New选项下面看到很多AndroidStudio提供给我们的模板类别，例如：Activity、AIDL等。具体可看下图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;../../../../../../images/Android/模板/工程右击-New.png&quot; alt=&quot;工程右击-New&quot;&gt;&lt;/p&gt;
&lt;p&gt;细心的你会发现在这些模板的上面有一个选项，叫：Edit File Templates…，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;../../../../../../images/Android/模板/Edit-File-Templates.png&quot; alt=&quot;Edit-File-Templates&quot;&gt;&lt;/p&gt;
&lt;p&gt;点击这个选项，会进入自定义模板页面，其中内置的变量在页面下方都有解释，是不是很方便，但是它有一个致命的缺点：一次只能创建一个java文件。具体可看下图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;../../../../../../images/Android/模板/Edit-File-Templates-in.png&quot; alt=&quot;Edit-File-Templates-in&quot;&gt;&lt;/p&gt;
&lt;p&gt;因为觉得这个很简单，所以我就不做过多阐述了，接下来我就仔细阐述一下，如何一次创建多个java文件，而且还可以选择是否包含xml文件。&lt;/p&gt;
&lt;h1 id=&quot;模板如何创建-包含模板存放位置&quot;&gt;&lt;a href=&quot;#模板如何创建-包含模板存放位置&quot; class=&quot;headerlink&quot; title=&quot;模板如何创建(包含模板存放位置)&quot;&gt;&lt;/a&gt;模板如何创建(包含模板存放位置)&lt;/h1&gt;&lt;h2 id=&quot;警告-1&quot;&gt;&lt;a href=&quot;#警告-1&quot; class=&quot;headerlink&quot; title=&quot;警告&quot;&gt;&lt;/a&gt;警告&lt;/h2&gt;&lt;p&gt;如果直接复制相关代码的话，请注意其中的注释，可能会带来一些问题，如果出现问题，可以把#开头的注释去除，再尝试！！！&lt;/p&gt;
&lt;p&gt;如果不懂上面这段话的意思的话，可以先行跳过。&lt;/p&gt;
&lt;h2 id=&quot;FreeMarker&quot;&gt;&lt;a href=&quot;#FreeMarker&quot; class=&quot;headerlink&quot; title=&quot;FreeMarker&quot;&gt;&lt;/a&gt;FreeMarker&lt;/h2&gt;&lt;p&gt;AndroidStudio的模板是使用&lt;code&gt;FreeMarker&lt;/code&gt;模板引擎制作的，有兴趣的可以了解一下。&lt;/p&gt;
&lt;p&gt;本文参考：&lt;a href=&quot;http://www.i-programmer.info/professional-programmer/resources-and-tools/6845-android-adt-template-format-document.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.i-programmer.info/professional-programmer/resources-and-tools/6845-android-adt-template-format-document.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;案例-amp-解答&quot;&gt;&lt;a href=&quot;#案例-amp-解答&quot; class=&quot;headerlink&quot; title=&quot;案例&amp;amp;解答&quot;&gt;&lt;/a&gt;案例&amp;amp;解答&lt;/h2&gt;&lt;font color=&quot;00AF60&quot;&gt;&lt;strong&gt;&lt;em&gt;案例：&lt;/em&gt;&lt;/strong&gt;&lt;/font&gt;

&lt;p&gt;由于现在的项目使用的是&lt;code&gt;类MVP架构&lt;/code&gt;，所以基本上每个模块都需要entity、request、activity、presenter、viewmodel这五个类，无论是登录注册模块，还是商品详情页、首页、收益页面等模块，都无法摆脱这几个类，因此准备为这个&lt;code&gt;类MVP架构&lt;/code&gt;制作一个通用模板。&lt;/p&gt;
&lt;font color=&quot;00AF60&quot;&gt;&lt;strong&gt;&lt;em&gt;解答：&lt;/em&gt;&lt;/strong&gt;&lt;/font&gt;

&lt;p&gt;制作好模板之后，我想说，其实很简单，只是把会变化的部分用&lt;code&gt;${...}&lt;/code&gt;替换罢了，不过在这里我们还是老老实实的从头开始吧！&lt;/p&gt;
&lt;h2 id=&quot;步骤&quot;&gt;&lt;a href=&quot;#步骤&quot; class=&quot;headerlink&quot; title=&quot;步骤&quot;&gt;&lt;/a&gt;步骤&lt;/h2&gt;&lt;h3 id=&quot;模板存放位置&quot;&gt;&lt;a href=&quot;#模板存放位置&quot; class=&quot;headerlink&quot; title=&quot;模板存放位置&quot;&gt;&lt;/a&gt;模板存放位置&lt;/h3&gt;&lt;p&gt;首页我们进入AndroidStudio安装目录下的&lt;code&gt;/plugins/android/lib/templates&lt;/code&gt;文件夹，这就是AndroidStudio模板文件的目录了，到这里你可能还有所迷惑，因为你没有发现像我刚开始所说的Activity、AIDL等模板文件，没关系，你再进入&lt;code&gt;activities&lt;/code&gt;文件夹下面就可以看到Activity的相关模板了，进入&lt;code&gt;other&lt;/code&gt;文件夹就可以看到AIDL的相关模板了。&lt;/p&gt;
&lt;h3 id=&quot;模板副本&quot;&gt;&lt;a href=&quot;#模板副本&quot; class=&quot;headerlink&quot; title=&quot;模板副本&quot;&gt;&lt;/a&gt;模板副本&lt;/h3&gt;&lt;p&gt;这里我们选择&lt;code&gt;activities&lt;/code&gt;文件夹，然后你是不是觉得手足无措，不知道如何下手？其实一开始我也不知道怎么做，但是没关系，AndroidStudio不是已经提供给我们这么多模板了么，为了简单起见，我们在这里拷贝一份&lt;code&gt;EmptyActivity&lt;/code&gt;，并将其重命名为&lt;code&gt;MVPActivity&lt;/code&gt;，&lt;font color=&quot;red&quot;&gt;&lt;strong&gt;&lt;em&gt;放在当前目录下&lt;/em&gt;&lt;/strong&gt;&lt;/font&gt;。&lt;/p&gt;
&lt;h3 id=&quot;目录结构&quot;&gt;&lt;a href=&quot;#目录结构&quot; class=&quot;headerlink&quot; title=&quot;目录结构&quot;&gt;&lt;/a&gt;目录结构&lt;/h3&gt;&lt;p&gt;打开文件夹后，我们看到以下目录结构：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;EmptyActivity&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  |----globals.xml.ftl &lt;span class=&quot;comment&quot;&gt;# 全局变量文件&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  |----recipe.xml.ftl  &lt;span class=&quot;comment&quot;&gt;# 配置要引用的模板路径以及生成文件的路径&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  |----root&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    |----src&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      |----app_package&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        |----SimpleActivity.java.ftl &lt;span class=&quot;comment&quot;&gt;# 模板文件&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  |----template_blank_activity.png   &lt;span class=&quot;comment&quot;&gt;# 创建模板时界面左边的预览图&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  |----template.xml &lt;span class=&quot;comment&quot;&gt;# 模板的配置信息以及要输入的参数&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;接下我们可以根据目录结构顺序（建议按以下顺序看），打开看一下，这里大致介绍一下：&lt;/p&gt;
&lt;h4 id=&quot;globals-xml-ftl&quot;&gt;&lt;a href=&quot;#globals-xml-ftl&quot; class=&quot;headerlink&quot; title=&quot;globals.xml.ftl&quot;&gt;&lt;/a&gt;globals.xml.ftl&lt;/h4&gt;&lt;p&gt;&lt;code&gt;globals.xml.ftl&lt;/code&gt;中都是类似&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;global id=&lt;span class=&quot;string&quot;&gt;&quot;hasNoActionBar&quot;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;boolean&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这样的语句，显然它的意思就是我定义了一个全局变量hasNoActionBar，它的类型是boolean，默认值为false。&lt;/p&gt;
&lt;h4 id=&quot;recipe-xml-ftl&quot;&gt;&lt;a href=&quot;#recipe-xml-ftl&quot; class=&quot;headerlink&quot; title=&quot;recipe.xml.ftl&quot;&gt;&lt;/a&gt;recipe.xml.ftl&lt;/h4&gt;&lt;p&gt;&lt;code&gt;recipe.xml.ftl&lt;/code&gt;稍微有些复杂，这里讲解以下instantiate、open等几个重要参数：&lt;/p&gt;
&lt;p&gt;&lt;font color=&quot;00AF60&quot;&gt;&lt;strong&gt;&lt;em&gt;copy&lt;/em&gt;&lt;/strong&gt;&lt;/font&gt;：复制–将from中的文件复制到to路径下，但并不会将ftl中得变量进行转换，即如果源文件中的类名为${activityClass}，复制过后类名还是${activityClass}转换为我们需要的类名。&lt;/p&gt;
&lt;p&gt;&lt;font color=&quot;00AF60&quot;&gt;&lt;strong&gt;&lt;em&gt;merge&lt;/em&gt;&lt;/strong&gt;&lt;/font&gt;：合并–将from中的文件合并到to路径下的文件中。&lt;/p&gt;
&lt;p&gt;&lt;font color=&quot;00AF60&quot;&gt;&lt;strong&gt;&lt;em&gt;instantiate&lt;/em&gt;&lt;/strong&gt;&lt;/font&gt;：和copy类似，也是将from中的文件复制到to路径下，但是它会将${activityClass}转换为我们需要的类名。其实有这样一个过程：&lt;font color=&quot;red&quot;&gt;ftl-&amp;gt;freemarker process -&amp;gt; java&lt;/font&gt;。&lt;/p&gt;
&lt;p&gt;&lt;font color=&quot;00AF60&quot;&gt;&lt;strong&gt;&lt;em&gt;open&lt;/em&gt;&lt;/strong&gt;&lt;/font&gt;：代码生成后，打开file中指定的文件。&lt;/p&gt;
&lt;h4 id=&quot;SimpleActivity-java-ftl&quot;&gt;&lt;a href=&quot;#SimpleActivity-java-ftl&quot; class=&quot;headerlink&quot; title=&quot;SimpleActivity.java.ftl&quot;&gt;&lt;/a&gt;SimpleActivity.java.ftl&lt;/h4&gt;&lt;p&gt;打开&lt;code&gt;SimpleActivity.java.ftl&lt;/code&gt;文件，会发现和我们创建Activity类后及其类似，只是把包名、类名、布局名等用&lt;code&gt;${...}&lt;/code&gt;替换了，其实&lt;code&gt;${...}&lt;/code&gt;中得内容都是id名，这里不做过多阐述，我们继续往下看。&lt;/p&gt;
&lt;h4 id=&quot;template-xml&quot;&gt;&lt;a href=&quot;#template-xml&quot; class=&quot;headerlink&quot; title=&quot;template.xml&quot;&gt;&lt;/a&gt;template.xml&lt;/h4&gt;&lt;p&gt;&lt;code&gt;template.xml&lt;/code&gt;：打开以后你会发现这个文件好长，看来是重头戏了！！！是的，我们来详细解读一下：&lt;/p&gt;
&lt;p&gt;一眼看去是不是和AndroidManifest.xml中得Application节点中的内容结构很相似（包括Application节点）&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;string&quot;&gt;&quot;1.0&quot;&lt;/span&gt;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;template&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    format=&lt;span class=&quot;string&quot;&gt;&quot;5&quot;&lt;/span&gt;   &lt;span class=&quot;comment&quot;&gt;# The template format version that this template adheres to. Should be 3&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    revision=&lt;span class=&quot;string&quot;&gt;&quot;5&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 可选，当你想更新模板的时候可以以整数的形式增加此模板的版本号	&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    name=&lt;span class=&quot;string&quot;&gt;&quot;Empty Activity&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 模板显示的名字&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    minApi=&lt;span class=&quot;string&quot;&gt;&quot;7&quot;&lt;/span&gt;   &lt;span class=&quot;comment&quot;&gt;# 可选，模板所需的最小API值，IDE将确保在实例化模板之前，目标工程的minSdkVersion不低于这个值&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    minBuildApi=&lt;span class=&quot;string&quot;&gt;&quot;14&quot;&lt;/span&gt;      &lt;span class=&quot;comment&quot;&gt;# 可选，模板所需的最小编译API，值为API级别，IDE将确保在实例化模板之前，项目工程的API等级大于或等于这个值&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    description=&lt;span class=&quot;string&quot;&gt;&quot;Creates a new empty activity&quot;&lt;/span&gt;&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 模板的描述信息&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;category value=&lt;span class=&quot;string&quot;&gt;&quot;Activity&quot;&lt;/span&gt; /&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 模板类型，用于在菜单栏File-New下显示，如Activity、AIDL等&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;formfactor value=&lt;span class=&quot;string&quot;&gt;&quot;Mobile&quot;&lt;/span&gt; /&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 如同我们在创建module时所显示的类型，如：Wear、TV等。&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;parameter&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        id=&lt;span class=&quot;string&quot;&gt;&quot;activityClass&quot;&lt;/span&gt;   &lt;span class=&quot;comment&quot;&gt;# 唯一标示，在ftl文件中可以用$&amp;#123;activityClass&amp;#125;获取参数值&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name=&lt;span class=&quot;string&quot;&gt;&quot;Activity Name&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 创建模板时在文本框左边显示的该文本框名称&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt;        &lt;span class=&quot;comment&quot;&gt;# 这个参数的类型，如：string, boolean, enum等&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        constraints=&lt;span class=&quot;string&quot;&gt;&quot;class|unique|nonempty&quot;&lt;/span&gt;       &lt;span class=&quot;comment&quot;&gt;# 可选，这个参数的约束类型，可用|符号联合使用，constraints值类型大全请看4.5&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        suggest=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;layoutToActivity(layoutName)&amp;#125;&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 可选，自动提示，比如输入layout的值可以自动生成activityClass&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        default=&lt;span class=&quot;string&quot;&gt;&quot;MainActivity&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 可选，参数默认值，创建模板时在文本框中显示，相当于hint&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;help&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;The name of the activity class to create&quot;&lt;/span&gt; /&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 创建模板时，选中文本框后，在底部显示的关于该文本框的帮助信息&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;!-- 128x128 thumbnails relative to template.xml --&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;thumbs&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;!-- default thumbnail is required --&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;thumb&amp;gt;template_blank_activity.png&amp;lt;/thumb&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 可选，用于创建模板时，在左边显示名为template_blank_activity的预览图片&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/thumbs&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;globals file=&lt;span class=&quot;string&quot;&gt;&quot;globals.xml.ftl&quot;&lt;/span&gt; /&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 可选，将工程定义的全局变量包含进来&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;execute file=&lt;span class=&quot;string&quot;&gt;&quot;recipe.xml.ftl&quot;&lt;/span&gt; /&amp;gt;  &lt;span class=&quot;comment&quot;&gt;# 开始执行模板渲染&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/template&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;constraints值类型大全&quot;&gt;&lt;a href=&quot;#constraints值类型大全&quot; class=&quot;headerlink&quot; title=&quot;constraints值类型大全&quot;&gt;&lt;/a&gt;constraints值类型大全&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Valid constraint types are:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	nonempty — the value must not be empty&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	apilevel — the value should represent a numeric API level&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	package — the value should represent a valid Java package name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	class — the value should represent a valid Java class name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	activity — the value should represent a fully-qualified activity class name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	layout — the value should represent a valid layout resource name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	drawable — the value should represent a valid drawable resource name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	string — the value should represent a valid string resource name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	id — the value should represent a valid id resource name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	unique — the value must be unique; this constraint only makes sense when other constraints are specified, such as layout, &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; would mean that the value should not represent an existing layout resource name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	exists — the value must already exist; this constraint only makes sense when other constraints are specified, such as layout, &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; would mean that the value should represent an existing layout resource name&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;template-xml制作&quot;&gt;&lt;a href=&quot;#template-xml制作&quot; class=&quot;headerlink&quot; title=&quot;template.xml制作&quot;&gt;&lt;/a&gt;template.xml制作&lt;/h3&gt;&lt;p&gt;到这里相信大家对template.xml文件有了一定的了解了，好了，让我们来大干一场吧！&lt;/p&gt;
&lt;h4 id=&quot;MVP版template-xml&quot;&gt;&lt;a href=&quot;#MVP版template-xml&quot; class=&quot;headerlink&quot; title=&quot;MVP版template.xml&quot;&gt;&lt;/a&gt;MVP版template.xml&lt;/h4&gt;&lt;p&gt;既然这里详细的讲解了template.xml文件，我们先从template.xml文件入手吧，这里我就不一个个细说了，直接上完整代码：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;84&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;string&quot;&gt;&quot;1.0&quot;&lt;/span&gt;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;template&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    format=&lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;          &lt;span class=&quot;comment&quot;&gt;# 可修改，此处已修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    revision=&lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;        &lt;span class=&quot;comment&quot;&gt;# 可修改，此处已修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    name=&lt;span class=&quot;string&quot;&gt;&quot;MVP Activity&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 需要修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    minApi=&lt;span class=&quot;string&quot;&gt;&quot;7&quot;&lt;/span&gt;          &lt;span class=&quot;comment&quot;&gt;# 可修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    minBuildApi=&lt;span class=&quot;string&quot;&gt;&quot;14&quot;&lt;/span&gt;    &lt;span class=&quot;comment&quot;&gt;# 可修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    description=&lt;span class=&quot;string&quot;&gt;&quot;Creates a new MVP activity&quot;&lt;/span&gt;&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 需要修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;category value=&lt;span class=&quot;string&quot;&gt;&quot;AAShowJoyMVP&quot;&lt;/span&gt; /&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 可修改，此处已修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;formfactor value=&lt;span class=&quot;string&quot;&gt;&quot;Mobile&quot;&lt;/span&gt; /&amp;gt;     &lt;span class=&quot;comment&quot;&gt;# 一般不修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;parameter          &lt;span class=&quot;comment&quot;&gt;# Activity类&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        id=&lt;span class=&quot;string&quot;&gt;&quot;activityClass&quot;&lt;/span&gt;   &lt;span class=&quot;comment&quot;&gt;# 可修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name=&lt;span class=&quot;string&quot;&gt;&quot;Activity Name&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 可修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt;        &lt;span class=&quot;comment&quot;&gt;# 一般不修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        constraints=&lt;span class=&quot;string&quot;&gt;&quot;class|unique|nonempty&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 一般不修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        default=&lt;span class=&quot;string&quot;&gt;&quot;TestActivity&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 可修改，此处已修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;help&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;The name of the activity class to create&quot;&lt;/span&gt; /&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 可修改，此处未修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;parameter          &lt;span class=&quot;comment&quot;&gt;# Activity类的布局文件&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        id=&lt;span class=&quot;string&quot;&gt;&quot;layoutName&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name=&lt;span class=&quot;string&quot;&gt;&quot;Layout Name&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        constraints=&lt;span class=&quot;string&quot;&gt;&quot;layout|unique|nonempty&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        suggest=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;classToResource(activityClass)&amp;#125;&lt;/span&gt;_activity&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 可修改，此处已修改，若不明白可以跳过，之后会有详解！！！&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        default=&lt;span class=&quot;string&quot;&gt;&quot;test_activity&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;help&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;The name of the layout to create for the activity&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;parameter          &lt;span class=&quot;comment&quot;&gt;# 是否作为启动Activity&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        id=&lt;span class=&quot;string&quot;&gt;&quot;isLauncher&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name=&lt;span class=&quot;string&quot;&gt;&quot;Launcher Activity&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;boolean&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        default=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 默认非启动Activity&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;help&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;If true, this activity will have a CATEGORY_LAUNCHER intent filter, making it visible in the launcher&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;parameter          &lt;span class=&quot;comment&quot;&gt;# 包名&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        id=&lt;span class=&quot;string&quot;&gt;&quot;packageName&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name=&lt;span class=&quot;string&quot;&gt;&quot;Package name&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        constraints=&lt;span class=&quot;string&quot;&gt;&quot;package&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        default=&lt;span class=&quot;string&quot;&gt;&quot;com.showjoy.shop&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;parameter          &lt;span class=&quot;comment&quot;&gt;# viewModel类&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        id=&lt;span class=&quot;string&quot;&gt;&quot;viewModelClass&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name=&lt;span class=&quot;string&quot;&gt;&quot;View Model Name&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        constraints=&lt;span class=&quot;string&quot;&gt;&quot;class|nonempty|unique&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        default=&lt;span class=&quot;string&quot;&gt;&quot;TestViewModel&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        suggest=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;underscoreToCamelCase(classToResource(activityClass))&amp;#125;&lt;/span&gt;ViewModel&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# 此类同布局文件，之后会有详解！！！&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;help&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;The name of the ViewModel to create&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;parameter          &lt;span class=&quot;comment&quot;&gt;# presenter类&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        id=&lt;span class=&quot;string&quot;&gt;&quot;presenterClass&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name=&lt;span class=&quot;string&quot;&gt;&quot;Presenter Name&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        constraints=&lt;span class=&quot;string&quot;&gt;&quot;class|nonempty|unique&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        default=&lt;span class=&quot;string&quot;&gt;&quot;TestPresenter&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        suggest=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;underscoreToCamelCase(classToResource(activityClass))&amp;#125;&lt;/span&gt;Presenter&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;help&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;The name of the Presenter to create&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;parameter          &lt;span class=&quot;comment&quot;&gt;# request类&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        id=&lt;span class=&quot;string&quot;&gt;&quot;requestClass&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name=&lt;span class=&quot;string&quot;&gt;&quot;Request Name&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        constraints=&lt;span class=&quot;string&quot;&gt;&quot;class|nonempty|unique&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        default=&lt;span class=&quot;string&quot;&gt;&quot;TestRequest&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        suggest=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;underscoreToCamelCase(classToResource(activityClass))&amp;#125;&lt;/span&gt;Request&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;help&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;The name of the Request to create&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;parameter          &lt;span class=&quot;comment&quot;&gt;# entity类&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        id=&lt;span class=&quot;string&quot;&gt;&quot;entityClass&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name=&lt;span class=&quot;string&quot;&gt;&quot;Entity Name&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        constraints=&lt;span class=&quot;string&quot;&gt;&quot;class|nonempty|unique&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        default=&lt;span class=&quot;string&quot;&gt;&quot;TestEntity&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        suggest=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;underscoreToCamelCase(classToResource(activityClass))&amp;#125;&lt;/span&gt;Entity&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;help&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;The name of the Entity to create&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;globals file=&lt;span class=&quot;string&quot;&gt;&quot;globals.xml.ftl&quot;&lt;/span&gt; /&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 一般不修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;execute file=&lt;span class=&quot;string&quot;&gt;&quot;recipe.xml.ftl&quot;&lt;/span&gt; /&amp;gt;  &lt;span class=&quot;comment&quot;&gt;# 一般不修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/template&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;template.xml文件的使用到这里就结束了，还是比较简单的，以下阐述之前所留下的两个问题：&lt;/p&gt;
&lt;p&gt;（1）&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;suggest=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;classToResource(activityClass)&amp;#125;&lt;/span&gt;_activity&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;classToResource(activityClass)：这句话的意思是，当我们在创建该模板后，在activityClass对应的文本框中输入某个值，比如：test，它会直接在layoutName对应的文本框中显示，即：test，所以以完整的语句（1）而言，此时layoutName对应的文本框中显示的应该是test_activity。&lt;/p&gt;
&lt;p&gt;（2）&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;suggest=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;underscoreToCamelCase(classToResource(activityClass))&amp;#125;&lt;/span&gt;ViewModel&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;classToResource(activityClass)在（1）中描述的已经很清楚了，即为test，那么underscoreToCamelCase又是什么意思呢？其实就是将test转换为驼峰命名的方法，即Test。所以以完整的语句（2）而言，此时viewModelClass对应的文本框中显示的应该是TestViewModel。&lt;/p&gt;
&lt;p&gt;如果你觉得文字描述过于繁琐，仍然看不懂的话，可以查看以下gif：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;../../../../../../images/Android/模板/AndroidStudio自带模板列表-suggest.gif&quot; alt=&quot;AndroidStudio自带模板列表-suggest&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;MVP版目录结构&quot;&gt;&lt;a href=&quot;#MVP版目录结构&quot; class=&quot;headerlink&quot; title=&quot;MVP版目录结构&quot;&gt;&lt;/a&gt;MVP版目录结构&lt;/h4&gt;&lt;p&gt;接下来我们就可以把要制作成模板的类，拷贝到相应的文件夹中，此时的目录结构为：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;MVPActivity&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  |----globals.xml.filter&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  |----recipe.xml.ftl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  |----activity_layout_recipe.xml.filter &lt;span class=&quot;comment&quot;&gt;# 此文件与recipe类似，只是因为解耦思想，所以将class和layout分别引入&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  |----root&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    |----src&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      |----app_package&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        |----classes&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          |----Activity.java.ftl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          |----Entity.java.ftl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          |----Presenter.java.ftl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          |----Request.java.ftl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          |----ViewModel.java.ftl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        |----layout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          |----activity_layout.xml.ftl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  |----template.xml&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Request-java-ftl&quot;&gt;&lt;a href=&quot;#Request-java-ftl&quot; class=&quot;headerlink&quot; title=&quot;Request.java.ftl&quot;&gt;&lt;/a&gt;Request.java.ftl&lt;/h4&gt;&lt;p&gt;为了方便而又全面的进行讲解，此处我们以Request.java.ftl文件为例，这里我就直接上全部代码了：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;package &lt;span class=&quot;variable&quot;&gt;$&amp;#123;packageName&amp;#125;&lt;/span&gt;.request;                &lt;span class=&quot;comment&quot;&gt;# $&amp;#123;packageName&amp;#125;对应的是template.xml文件中id为packageName的参数设置的字符串，如果该类不在包名根目录下，可以在后面添加相应的module名。&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;import android.support.annotation.NonNull;     &lt;span class=&quot;comment&quot;&gt;# 如果包名中未涉及到在创建模板时设置的包名和类名，则无需修改&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;import &lt;span class=&quot;variable&quot;&gt;$&amp;#123;packageName&amp;#125;&lt;/span&gt;.entities.&lt;span class=&quot;variable&quot;&gt;$&amp;#123;entityClass&amp;#125;&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;# 如果包名中涉及到在创建模板时设置的包名和类名，则只需相对应的进行修改即可&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;/**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 将以下涉及到在创建模板时设置的包名和类名，进行如下相对应的替换即可，布局文件也是这样替换的！！！&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public class &lt;span class=&quot;variable&quot;&gt;$&amp;#123;requestClass&amp;#125;&lt;/span&gt; extends SHGetRequest&amp;lt;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;entityClass&amp;#125;&lt;/span&gt;&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected Class&amp;lt;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;entityClass&amp;#125;&lt;/span&gt;&amp;gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;getDataClass&lt;/span&gt;&lt;/span&gt;() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$&amp;#123;entityClass&amp;#125;&lt;/span&gt;.class;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected TypeReference&amp;lt;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;entityClass&amp;#125;&lt;/span&gt;&amp;gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;getDataTypeReference&lt;/span&gt;&lt;/span&gt;() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @NonNull&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected String &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;getRequestUrl&lt;/span&gt;&lt;/span&gt;() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;布局文件&quot;&gt;&lt;a href=&quot;#布局文件&quot; class=&quot;headerlink&quot; title=&quot;布局文件&quot;&gt;&lt;/a&gt;布局文件&lt;/h4&gt;&lt;p&gt;接下来我们来看一下布局文件的替换：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;string&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;RelativeLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    xmlns:android=&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/apk/res/android&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    xmlns:tools=&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/tools&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    tools:context=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;relativePackage&amp;#125;&lt;/span&gt;.&lt;span class=&quot;variable&quot;&gt;$&amp;#123;activityClass&amp;#125;&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/RelativeLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;虽然说tools命名空间一般都是可有可无的，这里为了全面，也讲述以下，你应该发现了一个从未见过的id：relativePackage，不用迷惑，估计你也想到了，其实我就是在globals.xml.ftl文件中定义了一个全局变量而已，它的值默认为包名，具体代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;global id=&lt;span class=&quot;string&quot;&gt;&quot;relativePackage&quot;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;packageName&amp;#125;&lt;/span&gt;&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;globals-xml-ftl-1&quot;&gt;&lt;a href=&quot;#globals-xml-ftl-1&quot; class=&quot;headerlink&quot; title=&quot;globals.xml.ftl&quot;&gt;&lt;/a&gt;globals.xml.ftl&lt;/h4&gt;&lt;p&gt;既然说到了globals.xml.ftl文件，我们就去看看好了：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;string&quot;&gt;&quot;1.0&quot;&lt;/span&gt;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;globals&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;global id=&lt;span class=&quot;string&quot;&gt;&quot;hasNoActionBar&quot;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;boolean&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;global id=&lt;span class=&quot;string&quot;&gt;&quot;parentActivityClass&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;global id=&lt;span class=&quot;string&quot;&gt;&quot;simpleLayoutName&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;layoutName&amp;#125;&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;global id=&lt;span class=&quot;string&quot;&gt;&quot;excludeMenu&quot;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;boolean&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;global id=&lt;span class=&quot;string&quot;&gt;&quot;generateActivityTitle&quot;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;boolean&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;global id=&lt;span class=&quot;string&quot;&gt;&quot;relativePackage&quot;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;packageName&amp;#125;&lt;/span&gt;&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;&lt;span class=&quot;comment&quot;&gt;#include &quot;../common/common_globals.xml.ftl&quot; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/globals&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;其实并没有什么，global代表的都是全局变量，#include代表的是引用的文件，相当于继承。&lt;/p&gt;
&lt;h4 id=&quot;recipe-xml-ftl-1&quot;&gt;&lt;a href=&quot;#recipe-xml-ftl-1&quot; class=&quot;headerlink&quot; title=&quot;recipe.xml.ftl&quot;&gt;&lt;/a&gt;recipe.xml.ftl&lt;/h4&gt;&lt;p&gt;然后就只有recipe.xml.ftl文件了，也快结束了：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;string&quot;&gt;&quot;1.0&quot;&lt;/span&gt;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;recipe&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;&lt;span class=&quot;comment&quot;&gt;#include &quot;../common/recipe_manifest.xml.ftl&quot; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# 引入同级目录中的activity_layout_recipe.xml.ftl文件，其内容会在下一节中讲述&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;&lt;span class=&quot;comment&quot;&gt;#include &quot;activity_layout_recipe.xml.ftl&quot; /&amp;gt;	&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;instantiate from=&lt;span class=&quot;string&quot;&gt;&quot;src/app_package/classes/Activity.java.ftl&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      to=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;escapeXmlAttribute(srcOut)&amp;#125;&lt;/span&gt;/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;activityClass&amp;#125;&lt;/span&gt;.java&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;instantiate from=&lt;span class=&quot;string&quot;&gt;&quot;src/app_package/classes/ViewModel.java.ftl&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      to=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;escapeXmlAttribute(srcOut)&amp;#125;&lt;/span&gt;/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;viewModelClass&amp;#125;&lt;/span&gt;.java&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;instantiate from=&lt;span class=&quot;string&quot;&gt;&quot;src/app_package/classes/Entity.java.ftl&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      to=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;escapeXmlAttribute(srcOut)&amp;#125;&lt;/span&gt;/entities/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;entityClass&amp;#125;&lt;/span&gt;.java&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;instantiate from=&lt;span class=&quot;string&quot;&gt;&quot;src/app_package/classes/Presenter.java.ftl&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      to=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;escapeXmlAttribute(srcOut)&amp;#125;&lt;/span&gt;/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;presenterClass&amp;#125;&lt;/span&gt;.java&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;instantiate from=&lt;span class=&quot;string&quot;&gt;&quot;src/app_package/classes/Request.java.ftl&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      to=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;escapeXmlAttribute(srcOut)&amp;#125;&lt;/span&gt;/request/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;requestClass&amp;#125;&lt;/span&gt;.java&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;open file=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;escapeXmlAttribute(srcOut)&amp;#125;&lt;/span&gt;/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;viewModelClass&amp;#125;&lt;/span&gt;.java&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;open file=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;escapeXmlAttribute(resOut)&amp;#125;&lt;/span&gt;/layout/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;layoutName&amp;#125;&lt;/span&gt;.xml&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/recipe&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;instantiate&lt;/code&gt;的作用在上面已经讲的很清楚了，简单来说就是将ftl文件转换为java文件，而&lt;code&gt;open&lt;/code&gt;指的是在创建模板成功后，打开指定的文件，很简单吧，这里只有一个注意点：&lt;font color=&quot;red&quot;&gt;&lt;strong&gt;&lt;em&gt;路径&lt;/em&gt;&lt;/strong&gt;&lt;/font&gt; 不要写错了！！！&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;escapeXmlAttribute(srcOut)&amp;#125;&lt;/span&gt;代表的即为包名所代表的路径&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;escapeXmlAttribute(resOut)&amp;#125;&lt;/span&gt;代表的是res根目录&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;activity-layout-recipe-xml-ftl&quot;&gt;&lt;a href=&quot;#activity-layout-recipe-xml-ftl&quot; class=&quot;headerlink&quot; title=&quot;activity_layout_recipe.xml.ftl&quot;&gt;&lt;/a&gt;activity_layout_recipe.xml.ftl&lt;/h4&gt;&lt;p&gt;之前因为解耦思想，所以把布局文件的recipe文件单独处理了，即为activity_layout_recipe.xml.ftl，打开文件，其实很简单：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;recipe&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;instantiate from=&lt;span class=&quot;string&quot;&gt;&quot;src/app_package/layout/activity_layout.xml.ftl&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                 to=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;escapeXmlAttribute(resOut)&amp;#125;&lt;/span&gt;/layout/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;layoutName&amp;#125;&lt;/span&gt;.xml&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/recipe&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这里就不做阐述了，大家看上一节就明白了。&lt;/p&gt;
&lt;h1 id=&quot;模板如何使用&quot;&gt;&lt;a href=&quot;#模板如何使用&quot; class=&quot;headerlink&quot; title=&quot;模板如何使用&quot;&gt;&lt;/a&gt;模板如何使用&lt;/h1&gt;&lt;p&gt;模板创建好之后，我们首先需要的是验证是否能够正确创建出我们需要的部分，且没有错误发生，这个过程其实就是模板使用的过程，具体可以参考&lt;code&gt;第2章模板使用位置&lt;/code&gt;。&lt;/p&gt;
&lt;h1 id=&quot;总结&quot;&gt;&lt;a href=&quot;#总结&quot; class=&quot;headerlink&quot; title=&quot;总结&quot;&gt;&lt;/a&gt;总结&lt;/h1&gt;&lt;p&gt;至此，Android模板制作已经全部完成了，本文篇幅还是比较长的，如果有什么疑问可以评论，我会尽力解决每一个问题的，谢谢，码字好累额！！！&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/13/Android/模板/Android模板制作/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/13/Android/模板/Android模板制作/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;本文专门介绍和&lt;code&gt;模板&lt;/code&gt;相关的知识，那么问题来了：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;模板是什么&lt;/li&gt;
&lt;li&gt;模板使用位置&lt;/li&gt;
&lt;li&gt;模板如何创建(包含模板存放位置)&lt;/li&gt;
&lt;li&gt;模板如何使用&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;接下来，我就按照以上
    
    </summary>
    
      <category term="Android_模板" scheme="https://fengqingxiuyi.github.io/categories/Android-%E6%A8%A1%E6%9D%BF/"/>
    
    
  </entry>
  
  <entry>
    <title>支付宝支付-注意点</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/13/Android/%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/%E6%94%AF%E4%BB%98%E5%AE%9D/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98-%E6%B3%A8%E6%84%8F%E7%82%B9/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-注意点/</id>
    <published>2016-08-13T01:35:23.000Z</published>
    <updated>2016-08-13T16:16:38.000Z</updated>
    
    <content type="html">&lt;p&gt;由于支付宝SDK对于整个支付流程已经介绍的十分详细了，在这里我就简单说一些注意点。&lt;/p&gt;
&lt;p&gt;由于存在支付宝可能没有安装的情况，所以我们在调用支付宝支付时，需要对其进行判断，做出不同的处理方式，即是使用客户端支付，还是使用H5支付，这里简单阐述一下：&lt;/p&gt;
&lt;h1 id=&quot;情况一：已安装支付宝客户端&quot;&gt;&lt;a href=&quot;#情况一：已安装支付宝客户端&quot; class=&quot;headerlink&quot; title=&quot;情况一：已安装支付宝客户端&quot;&gt;&lt;/a&gt;情况一：已安装支付宝客户端&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 唤醒支付宝支付&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; data 服务端返回订单数据&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;payOrder&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(JSONObject data)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    registerLoadingView.setVisibility(View.GONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    String redirectStr = data.getString(&lt;span class=&quot;string&quot;&gt;&quot;redirectStr&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(redirectStr)) &amp;#123;    &lt;span class=&quot;comment&quot;&gt;// 唤醒支付宝支付&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Thread payThread = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Thread(() -&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            PayTask alipay = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; PayTask(activity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String result = alipay.pay(redirectStr);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Message msg = Message.obtain();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            msg.what = MSG_PAY_RESPONSE;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            msg.obj = result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            handler.sendMessage(msg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        payThread.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Handler handler = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Handler(msg -&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (MSG_PAY_RESPONSE == msg.what) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Result result = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Result((String) msg.obj);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(result.getResult())) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (result.getResult()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;4000&quot;&lt;/span&gt;:    &lt;span class=&quot;comment&quot;&gt;// 系统异常 TODO&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Toast.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;订单支付失败&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;6001&quot;&lt;/span&gt;:    &lt;span class=&quot;comment&quot;&gt;// 用户中途取消支付操作   TODO&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Toast.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;订单支付已被取消&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;6002&quot;&lt;/span&gt;:    &lt;span class=&quot;comment&quot;&gt;// 网络连接出错   TODO&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Toast.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;网络连接出错&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;9000&quot;&lt;/span&gt;:    &lt;span class=&quot;comment&quot;&gt;// 操作成功 TODO&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Toast.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;订单支付成功&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// TODO do something...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;情况二：未安装支付宝客户端&quot;&gt;&lt;a href=&quot;#情况二：未安装支付宝客户端&quot; class=&quot;headerlink&quot; title=&quot;情况二：未安装支付宝客户端&quot;&gt;&lt;/a&gt;情况二：未安装支付宝客户端&lt;/h1&gt;&lt;p&gt;需要在Androidmanifest.xml文件中加入以下代码，即可进入H5支付流程。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!-- 支付宝 --&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;activity&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:name=&lt;span class=&quot;string&quot;&gt;&quot;com.alipay.sdk.app.H5PayActivity&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:configChanges=&lt;span class=&quot;string&quot;&gt;&quot;orientation|keyboardHidden|navigation&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:exported=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:screenOrientation=&lt;span class=&quot;string&quot;&gt;&quot;behind&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:windowSoftInputMode=&lt;span class=&quot;string&quot;&gt;&quot;adjustResize|stateHidden&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-注意点/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-注意点/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;由于支付宝SDK对于整个支付流程已经介绍的十分详细了，在这里我就简单说一些注意点。&lt;/p&gt;
&lt;p&gt;由于存在支付宝可能没有安装的情况，所以我们在调用支付宝支付时，需要对其进行判断，做出不同的处理方式，即是使用客户端支付，还是使用H5支付，这里简单阐述一下：&lt;/p&gt;
&lt;h1 i
    
    </summary>
    
      <category term="Android_支付流程" scheme="https://fengqingxiuyi.github.io/categories/Android-%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/"/>
    
    
      <category term="支付宝支付" scheme="https://fengqingxiuyi.github.io/tags/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98/"/>
    
  </entry>
  
  <entry>
    <title>支付宝支付-相关网址</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/13/Android/%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/%E6%94%AF%E4%BB%98%E5%AE%9D/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98-%E7%9B%B8%E5%85%B3%E7%BD%91%E5%9D%80/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-相关网址/</id>
    <published>2016-08-13T01:30:33.000Z</published>
    <updated>2016-08-13T02:09:04.000Z</updated>
    
    <content type="html">&lt;p&gt;本文只是介绍一下关于&lt;code&gt;支付宝支付&lt;/code&gt;的相关网址信息，便于大家快速定位到指定位置。&lt;/p&gt;
&lt;h1 id=&quot;资源下载&quot;&gt;&lt;a href=&quot;#资源下载&quot; class=&quot;headerlink&quot; title=&quot;资源下载&quot;&gt;&lt;/a&gt;资源下载&lt;/h1&gt;&lt;p&gt;网址：&lt;a href=&quot;https://doc.open.alipay.com/doc2/detail.htm?spm=a219a.7629140.0.0.FCGmVr&amp;amp;treeId=193&amp;amp;articleId=104509&amp;amp;docType=1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;App支付DEMO&amp;amp;SDK&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;内容：&lt;/p&gt;
&lt;h2 id=&quot;App支付DEMO-amp-SDK&quot;&gt;&lt;a href=&quot;#App支付DEMO-amp-SDK&quot; class=&quot;headerlink&quot; title=&quot;App支付DEMO&amp;amp;SDK&quot;&gt;&lt;/a&gt;App支付DEMO&amp;amp;SDK&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://doc.open.alipay.com/doc2/detail.htm?treeId=204&amp;amp;articleId=105051&amp;amp;docType=1&quot; target=&quot;_blank&quot;&gt;App支付功能&lt;/a&gt;（&lt;span style=&quot;background-color: #ffff00;&quot;&gt;&lt;strong&gt;支付产品全面升级，若您使用的是老接口，请移步&lt;a style=&quot;background-color: #ffff00;&quot; href=&quot;http://doc.open.alipay.com/doc2/detail?treeId=59&amp;amp;articleId=103563&amp;amp;docType=1&quot; target=&quot;_blank&quot;&gt;老版本移动支付文档&lt;/a&gt;。&lt;/strong&gt;&lt;/span&gt;）&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;说明&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;链接&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;p&gt;iOS&amp;amp;Android版资源&lt;/p&gt; &lt;p&gt;&lt;strong&gt;说明：&lt;span style=&quot;color: #404040; font-family: Helvetica;&quot;&gt;iOS&lt;/span&gt;&lt;span style=&quot;color: #404040; font-family: &#39;PingFang SC&#39;;&quot;&gt;版&lt;/span&gt;&lt;span style=&quot;color: #404040; font-family: Helvetica;&quot;&gt;SDK&lt;/span&gt;&lt;span style=&quot;color: #404040; font-family: &#39;PingFang SC&#39;;&quot;&gt;已支持&lt;/span&gt;&lt;span style=&quot;color: #404040; font-family: Helvetica;&quot;&gt;IPv6_only&lt;/span&gt;&lt;span style=&quot;color: #404040; font-family: &#39;PingFang SC&#39;;&quot;&gt;网络&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;http://aopsdkdownload.cn-hangzhou.alipay-pub.aliyun-inc.com/demo/WS_APP_PAY_SDK_BASE.zip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SDK&amp;amp;DEMO&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;iOS&amp;amp;Android版资源（适用于集成了百川sdk，出现UTDID冲突）&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;http://aopsdkdownload.cn-hangzhou.alipay-pub.aliyun-inc.com/demo/AlipaySDK_No_UTDID.zip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SDK&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&quot;支付调用&quot;&gt;&lt;a href=&quot;#支付调用&quot; class=&quot;headerlink&quot; title=&quot;支付调用&quot;&gt;&lt;/a&gt;支付调用&lt;/h1&gt;&lt;p&gt;网址：&lt;a href=&quot;https://doc.open.alipay.com/doc2/detail.htm?spm=a219a.7629140.0.0.o8hixH&amp;amp;treeId=204&amp;amp;articleId=105296&amp;amp;docType=1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;App支付Android集成流程详解&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-相关网址/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-相关网址/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;本文只是介绍一下关于&lt;code&gt;支付宝支付&lt;/code&gt;的相关网址信息，便于大家快速定位到指定位置。&lt;/p&gt;
&lt;h1 id=&quot;资源下载&quot;&gt;&lt;a href=&quot;#资源下载&quot; class=&quot;headerlink&quot; title=&quot;资源下载&quot;&gt;&lt;/a&gt;资源下载&lt;/h1&gt;&lt;p&gt;网址：&lt;
    
    </summary>
    
      <category term="Android_支付流程" scheme="https://fengqingxiuyi.github.io/categories/Android-%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/"/>
    
    
      <category term="支付宝支付" scheme="https://fengqingxiuyi.github.io/tags/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98/"/>
    
  </entry>
  
  <entry>
    <title>微信支付-相关网址</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/13/Android/%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/%E5%BE%AE%E4%BF%A1/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98-%E7%9B%B8%E5%85%B3%E7%BD%91%E5%9D%80/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/微信/微信支付-相关网址/</id>
    <published>2016-08-13T01:13:35.000Z</published>
    <updated>2016-08-13T02:09:16.000Z</updated>
    
    <content type="html">&lt;p&gt;本文只是介绍一下关于&lt;code&gt;微信支付&lt;/code&gt;的相关网址信息，便于大家快速定位到指定位置。&lt;/p&gt;
&lt;h1 id=&quot;资源下载&quot;&gt;&lt;a href=&quot;#资源下载&quot; class=&quot;headerlink&quot; title=&quot;资源下载&quot;&gt;&lt;/a&gt;资源下载&lt;/h1&gt;&lt;p&gt;网址：&lt;a href=&quot;https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;amp;t=resource/res_list&amp;amp;verify=1&amp;amp;id=open1419319167&amp;amp;token=&amp;amp;lang=zh_CN&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android资源下载&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;内容：&lt;/p&gt;
&lt;h2 id=&quot;Android资源下载&quot;&gt;&lt;a href=&quot;#Android资源下载&quot; class=&quot;headerlink&quot; title=&quot;Android资源下载&quot;&gt;&lt;/a&gt;Android资源下载&lt;/h2&gt;&lt;hr&gt;
&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WeChatSDK_Android221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(34, 34, 34); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;开发工具包（SDK）&lt;/span&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;no_extra&quot; style=&quot;margin-top: 0px; margin-bottom: 0px; padding-bottom: 0px;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;使用微信分享、登录、收藏、支付等功能需要的库以及文件。点击下载&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/Android_SDK_3.1.1.zip&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;Android开发工具包&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;no_extra&quot; style=&quot;margin-top: 0px; margin-bottom: 0px; padding-bottom: 0px;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;使用微信语音识别接口、语音合成接口。点击下载&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WXVoice_Android_3.0.2221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;语音SDK+Demo+开发文档&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;no_extra&quot; style=&quot;margin-top: 0px; margin-bottom: 0px; padding-bottom: 0px;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;使用微信图像识别接口。点击下载&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WXImg_Android_2.0.2221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;图像SDK+Demo+开发文档&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;no_extra&quot; style=&quot;margin-top: 0px; margin-bottom: 0px; padding-bottom: 0px;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;使用微信卡券功能接口。点击下载&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WXTicket_Android221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;卡券SDK+开发文档&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WeChatSDK_sample_Android221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(34, 34, 34); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;范例代码&lt;/span&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;包含了一个完整的范例工程。该范例的使用可以参阅Android平台上手指南：HelloWeixin@Android。&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WeChatSDK_sample_Android221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;点击下载&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;outline: 0px; color: rgb(34, 34, 34); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;outline: 0px; color: rgb(34, 34, 34); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/Gen_Signature_Android221cbf.apk&quot; style=&quot;outline: 0px; color: rgb(34, 34, 34); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;签名生成工具&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;用于获取安装到手机的第三方应用签名的apk包。点击下载&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/Gen_Signature_Android2.apk&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;签名生成工具&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;h1 id=&quot;支付调用&quot;&gt;&lt;a href=&quot;#支付调用&quot; class=&quot;headerlink&quot; title=&quot;支付调用&quot;&gt;&lt;/a&gt;支付调用&lt;/h1&gt;&lt;p&gt;网址：&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=8_1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;APP支付调用&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/微信/微信支付-相关网址/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/微信/微信支付-相关网址/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;本文只是介绍一下关于&lt;code&gt;微信支付&lt;/code&gt;的相关网址信息，便于大家快速定位到指定位置。&lt;/p&gt;
&lt;h1 id=&quot;资源下载&quot;&gt;&lt;a href=&quot;#资源下载&quot; class=&quot;headerlink&quot; title=&quot;资源下载&quot;&gt;&lt;/a&gt;资源下载&lt;/h1&gt;&lt;p&gt;网址：&lt;a
    
    </summary>
    
      <category term="Android_支付流程" scheme="https://fengqingxiuyi.github.io/categories/Android-%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/"/>
    
    
      <category term="微信支付" scheme="https://fengqingxiuyi.github.io/tags/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/"/>
    
  </entry>
  
  <entry>
    <title>类微信图片压缩算法</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/11/Android/%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/%E7%B1%BB%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩算法/</id>
    <published>2016-08-11T03:10:45.000Z</published>
    <updated>2016-08-11T03:24:42.000Z</updated>
    
    <content type="html">&lt;p&gt;原文出处：&lt;a href=&quot;https://github.com/Curzibn/Luban/blob/master/DESCRIPTION.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luban/blob/master/DESCRIPTION.md&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;官方网址：&lt;a href=&quot;https://github.com/Curzibn/Luban/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luban/&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;Luban 是图片压缩工具，通过参考或者自创压缩规则推求极致的压缩效果&lt;br&gt;目前的版本压缩效果主要参考微信。因为微信用户量最大，如果压缩后的图片越接近微信则越被用户接受。&lt;/p&gt;
&lt;h1 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h1&gt;&lt;p&gt;目前的 Luban 只是压缩结果接近微信，自身的算法只是为了达到这个效果而设计的。与微信并无任何联系，也不敢妄称是微信的算法。&lt;/p&gt;
&lt;h1 id=&quot;算法步骤&quot;&gt;&lt;a href=&quot;#算法步骤&quot; class=&quot;headerlink&quot; title=&quot;算法步骤&quot;&gt;&lt;/a&gt;算法步骤&lt;/h1&gt;&lt;p&gt;注：下文所说“比例”统一表示：图片短边除以长边为该图片比例&lt;/p&gt;
&lt;h2 id=&quot;第三挡压缩（参考最新版微信压缩效果）&quot;&gt;&lt;a href=&quot;#第三挡压缩（参考最新版微信压缩效果）&quot; class=&quot;headerlink&quot; title=&quot;第三挡压缩（参考最新版微信压缩效果）&quot;&gt;&lt;/a&gt;第三挡压缩（参考最新版微信压缩效果）&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;判断图片比例值，是否处于以下区间内；&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[1, 0.5625)    即图片处于 [1:1 ~ 9:16) 比例范围内&lt;/li&gt;
&lt;li&gt;[0.5625, 0.5)  即图片处于 [9:16 ~ 1:2) 比例范围内&lt;/li&gt;
&lt;li&gt;[0.5, 0)       即图片处于 [1:2 ~ 1:∞) 比例范围内&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;判断图片最长边是否过边界值；&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[1, 0.5625)   边界值为：1664 &lt;em&gt; n（n=1）, 4990 &lt;/em&gt; n（n=2）, 1280 * pow(2, n-1)（n≥3）&lt;/li&gt;
&lt;li&gt;[0.5625, 0.5) 边界值为：1280 * pow(2, n-1)（n≥1）&lt;/li&gt;
&lt;li&gt;[0.5, 0)      边界值为：1280 * pow(2, n-1)（n≥1）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;计算压缩图片实际边长值，以第2步计算结果为准，超过某个边界值则：width / pow(2, n-1)，height/pow(2, n-1)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;计算压缩图片的实际文件大小，以第2、3步结果为准，图片比例越大则文件越大。&lt;/p&gt;
&lt;p&gt; size = (newW &lt;em&gt; newH) / (width &lt;/em&gt; height) * m；&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[1, 0.5625) 则 width &amp;amp; height 对应 1664，4990，1280 * n（n≥3），m 对应 150，300，300；&lt;/li&gt;
&lt;li&gt;[0.5625, 0.5) 则 width = 1440，height = 2560, m = 200；&lt;/li&gt;
&lt;li&gt;[0.5, 0) 则 width = 1280，height = 1280 / scale，m = 500；注：scale为比例值&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;判断第4步的size是否过小&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[1, 0.5625) 则最小 size 对应 60，60，100&lt;/li&gt;
&lt;li&gt;[0.5625, 0.5) 则最小 size 都为 100&lt;/li&gt;
&lt;li&gt;[0.5, 0) 则最小 size 都为 100&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;6.将前面求到的值压缩图片 width, height, size 传入压缩流程，压缩图片直到满足以上数值&lt;/p&gt;
&lt;h1 id=&quot;附&quot;&gt;&lt;a href=&quot;#附&quot; class=&quot;headerlink&quot; title=&quot;附&quot;&gt;&lt;/a&gt;附&lt;/h1&gt;&lt;font color=&quot;red&quot;&gt;以上具体数值均由逆推微信朋友圈所得&lt;/font&gt;


&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩算法/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩算法/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;原文出处：&lt;a href=&quot;https://github.com/Curzibn/Luban/blob/master/DESCRIPTION.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luba
    
    </summary>
    
      <category term="Android_图片压缩" scheme="https://fengqingxiuyi.github.io/categories/Android-%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/"/>
    
    
  </entry>
  
  <entry>
    <title>类微信图片压缩使用</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/11/Android/%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/%E7%B1%BB%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E4%BD%BF%E7%94%A8/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩使用/</id>
    <published>2016-08-11T03:03:45.000Z</published>
    <updated>2016-08-11T03:24:34.000Z</updated>
    
    <content type="html">&lt;p&gt;原文出处：&lt;a href=&quot;https://github.com/Curzibn/Luban/blob/master/README.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luban/blob/master/README.md&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;官方网址：&lt;a href=&quot;https://github.com/Curzibn/Luban/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luban/&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;Luban&quot;&gt;&lt;a href=&quot;#Luban&quot; class=&quot;headerlink&quot; title=&quot;Luban&quot;&gt;&lt;/a&gt;Luban&lt;/h1&gt;&lt;p&gt;Luban(鲁班)——Android图片压缩工具，仿微信朋友圈压缩策略&lt;/p&gt;
&lt;h1 id=&quot;项目描述&quot;&gt;&lt;a href=&quot;#项目描述&quot; class=&quot;headerlink&quot; title=&quot;项目描述&quot;&gt;&lt;/a&gt;项目描述&lt;/h1&gt;&lt;p&gt;目前做app开发总绕不开图片这个元素。但是随着手机拍照分辨率的提升，图片的压缩成为一个很重要的问题。单纯对图片进行裁切，压缩已经有很多文章介绍。但是裁切成多少，压缩成多少却很难控制好，裁切过头图片太小，质量压缩过头则显示效果太差。&lt;/p&gt;
&lt;p&gt;于是自然想到app巨头“微信”会是怎么处理，Luban(鲁班)就是通过在微信朋友圈发送近100张不同分辨率图片，对比原图与微信压缩后的图片逆向推算出来的压缩算法。&lt;/p&gt;
&lt;p&gt;因为有其他语言也想要实现 Luban，所以描述了一遍&lt;a href=&quot;../类微信图片压缩算法/index.html&quot;&gt;算法步骤&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;因为是逆向推算，效果还没法跟微信一模一样，但是已经很接近微信朋友圈压缩后的效果，具体看以下对比！&lt;/p&gt;
&lt;h1 id=&quot;效果与对比&quot;&gt;&lt;a href=&quot;#效果与对比&quot; class=&quot;headerlink&quot; title=&quot;效果与对比&quot;&gt;&lt;/a&gt;效果与对比&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;内容&lt;/th&gt;
&lt;th&gt;原图&lt;/th&gt;
&lt;th&gt;Luban&lt;/th&gt;
&lt;th&gt;Wechat&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;截屏 720P&lt;/td&gt;
&lt;td&gt;720*1280,390k&lt;/td&gt;
&lt;td&gt;720*1280,87k&lt;/td&gt;
&lt;td&gt;720*1280,56k&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;截屏 1080P&lt;/td&gt;
&lt;td&gt;1080*1920,2.21M&lt;/td&gt;
&lt;td&gt;1080*1920,104k&lt;/td&gt;
&lt;td&gt;1080*1920,112k&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;拍照 13M(4:3)&lt;/td&gt;
&lt;td&gt;3096*4128,3.12M&lt;/td&gt;
&lt;td&gt;1548*2064,141k&lt;/td&gt;
&lt;td&gt;1548*2064,147k&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;拍照 9.6M(16:9)&lt;/td&gt;
&lt;td&gt;4128*2322,4.64M&lt;/td&gt;
&lt;td&gt;1032*581,97k&lt;/td&gt;
&lt;td&gt;1032*581,74k&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;滚动截屏&lt;/td&gt;
&lt;td&gt;1080*6433,1.56M&lt;/td&gt;
&lt;td&gt;1080*6433,351k&lt;/td&gt;
&lt;td&gt;1080*6433,482k&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&quot;导入&quot;&gt;&lt;a href=&quot;#导入&quot; class=&quot;headerlink&quot; title=&quot;导入&quot;&gt;&lt;/a&gt;导入&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;compile &amp;apos;io.reactivex:rxandroid:1.2.1&amp;apos;
compile &amp;apos;io.reactivex:rxjava:1.1.6&amp;apos;

compile &amp;apos;top.zibin:Luban:1.0.5&amp;apos;
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;使用&quot;&gt;&lt;a href=&quot;#使用&quot; class=&quot;headerlink&quot; title=&quot;使用&quot;&gt;&lt;/a&gt;使用&lt;/h1&gt;&lt;h2 id=&quot;Listener方式&quot;&gt;&lt;a href=&quot;#Listener方式&quot; class=&quot;headerlink&quot; title=&quot;Listener方式&quot;&gt;&lt;/a&gt;Listener方式&lt;/h2&gt;&lt;p&gt;Luban内部采用io线程进行图片压缩，外部调用只需设置好结果监听即可&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Luban.get(this)
    .load(File)                     //传人要压缩的图片
    .putGear(Luban.THIRD_GEAR)      //设定压缩档次，默认三挡
    .setCompressListener(new OnCompressListener() { //设置回调

        @Override
        public void onStart() {
            //TODO 压缩开始前调用，可以在方法内启动 loading UI
        }
        @Override
        public void onSuccess(File file) {
            //TODO 压缩成功后调用，返回压缩后的图片文件
        }

        @Override
        public void onError(Throwable e) {
            //TODO 当压缩过去出现问题时调用
        }
    }).launch();    //启动压缩
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;RxJava方式&quot;&gt;&lt;a href=&quot;#RxJava方式&quot; class=&quot;headerlink&quot; title=&quot;RxJava方式&quot;&gt;&lt;/a&gt;RxJava方式&lt;/h2&gt;&lt;p&gt;RxJava 调用方式请自行随意控制线程&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Luban.get(this)
        .load(file)
        .putGear(Luban.THIRD_GEAR)
        .asObservable()
        .subscribeOn(Schedulers.io())
        .observeOn(AndroidSchedulers.mainThread())
        .doOnError(new Action1&amp;lt;Throwable&amp;gt;() {
            @Override
            public void call(Throwable throwable) {
                throwable.printStackTrace();
            }
        })
        .onErrorResumeNext(new Func1&amp;lt;Throwable, Observable&amp;lt;? extends File&amp;gt;&amp;gt;() {
            @Override
            public Observable&amp;lt;? extends File&amp;gt; call(Throwable throwable) {
                return Observable.empty();
            }
        })
        .subscribe(new Action1&amp;lt;File&amp;gt;() {
            @Override
            public void call(File file) {
                //TODO 压缩成功后调用，返回压缩后的图片文件
            }
        });
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;License&quot;&gt;&lt;a href=&quot;#License&quot; class=&quot;headerlink&quot; title=&quot;License&quot;&gt;&lt;/a&gt;License&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;Copyright 2016 Zheng Zibin

Licensed under the Apache License, Version 2.0 (the &amp;quot;License&amp;quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &amp;quot;AS IS&amp;quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩使用/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩使用/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;原文出处：&lt;a href=&quot;https://github.com/Curzibn/Luban/blob/master/README.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luban/blo
    
    </summary>
    
      <category term="Android_图片压缩" scheme="https://fengqingxiuyi.github.io/categories/Android-%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/"/>
    
    
  </entry>
  
  <entry>
    <title>细说Android事件传递机制(dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent)</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/11/Android/%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6/%E7%BB%86%E8%AF%B4Android%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6(dispatchTouchEvent%E3%80%81onInterceptTouchEvent%E3%80%81onTouchEvent)/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/11/Android/事件传递机制/细说Android事件传递机制(dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent)/</id>
    <published>2016-08-11T02:17:45.000Z</published>
    <updated>2016-08-11T03:34:34.000Z</updated>
    
    <content type="html">&lt;p&gt;原文出处：&lt;a href=&quot;http://blog.csdn.net/yanzi1225627/article/details/22592831&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/yanzi1225627/article/details/22592831&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;作者: yanzi1225627&lt;/p&gt;
&lt;div id=&quot;article_content&quot; class=&quot;article_content&quot;&gt;&lt;br&gt;&lt;p&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;    &lt;/span&gt;本文背景:前些天用到了之前写的&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/yanzi1225627/article/details/8633872&quot;&gt;自定义图片文字复合控件&lt;/a&gt;，在给他设置监听时遇到了麻烦。虽然最后解决了问题，但发现在不重写LinearLayout的onInterceptTouchEvent时，子ImageView、子TextView、父Linearlayout三者不同的属性配置(android:clickable android:focuseable)会造成自定义控件onClick监听失败、或成功。复写了父Linearlayout 的onInterceptTouchEvent时，监听不受子图片、子文字的属性影响。为知其所以然，深入研究android的事件传递机制，记录于此。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;h1&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;一、View的dispatchTouchEvent和onTouchEvent&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;探讨Android事件传递机制前，明确android的两大基础控件类型:View和ViewGroup。View即普通的控件，没有子布局的，如Button、TextView. ViewGroup继承自View，表示可以有子控件，如Linearlayout、Listview这些。而事件即MotionEvent，最重要的有3个:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;(1)MotionEvent.ACTION_DOWN &amp;nbsp;按下View，是所有事件的开始&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;(2)MotionEvent.ACTION_MOVE &amp;nbsp; 滑动事件&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;(3)MotionEvent.ACTION_UP &amp;nbsp; &amp;nbsp; &amp;nbsp; 与down对应，表示抬起&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;另外，明确事件传递机制的最终目的都是为了触发执行View的点击监听和触摸监听:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;        &lt;/span&gt;&lt;strong&gt;**&lt;/strong&gt;.setOnClickListener(new View.OnClickListener() {&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;@Override&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;public void onClick(View v) {&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;                &lt;/span&gt;// TODO Auto-generated method stub&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;                &lt;/span&gt;Log.i(tag, &amp;quot;testLinelayout—onClick…&amp;quot;);&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;}&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;        &lt;/span&gt;});&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;        &lt;/span&gt;&lt;strong&gt;&lt;em&gt;*&lt;/em&gt;&lt;/strong&gt;.setOnTouchListener(new View.OnTouchListener() {&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;@Override&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;public boolean onTouch(View v, MotionEvent event) {&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;                &lt;/span&gt;// TODO Auto-generated method stub&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;                &lt;/span&gt;return false;&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;}&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;        &lt;/span&gt;});&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;我们简称为onClick监听和onTouch监听，一般程序会注册这两个监听。从上面可以看到，onTouch监听里默认return false。不要小看了这个return false，后面可以看到它有大用。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;对于View来说，事件传递机制有两个函数：&lt;span style=&quot;color:#ff0000;&quot;&gt;dispatchTouchEvent&lt;/span&gt;负责分发事件，在dispatch&lt;strong&gt;*里又会调用&lt;span style=&quot;color:#ff0000;&quot;&gt;onTouchEvent&lt;/span&gt;表示执行事件，或者说消费事件，结合源码分析其流程。事件传递的入口是View的dispatchTouchEvent()函数:&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_1_7835809&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;    /&lt;br&gt;     &lt;em&gt; Pass the touch screen motion event down to the target view, or this
     &lt;/em&gt; view if it is the target.&lt;br&gt;     &lt;em&gt;
     &lt;/em&gt; @param event The motion event to be dispatched.&lt;br&gt;     &lt;em&gt; @return True if the event was handled by the view, false otherwise.
     &lt;/em&gt;/&lt;br&gt;    public boolean dispatchTouchEvent(MotionEvent event) {&lt;br&gt;        if (mInputEventConsistencyVerifier != null) {&lt;br&gt;            mInputEventConsistencyVerifier.onTouchEvent(event, 0);&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        if (onFilterTouchEventForSecurity(event)) {&lt;br&gt;            //noinspection SimplifiableIfStatement&lt;br&gt;            ListenerInfo li = mListenerInfo;&lt;br&gt;            if (li != null &amp;amp;&amp;amp; li.mOnTouchListener != null &amp;amp;&amp;amp; (mViewFlags &amp;amp; ENABLED_MASK) == ENABLED&lt;br&gt;                    &amp;amp;&amp;amp; li.mOnTouchListener.onTouch(this, event)) {&lt;br&gt;                return true;&lt;br&gt;            }&lt;br&gt;&lt;br&gt;            if (onTouchEvent(event)) {&lt;br&gt;                return true;&lt;br&gt;            }&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        if (mInputEventConsistencyVerifier != null) {&lt;br&gt;            mInputEventConsistencyVerifier.onUnhandledEvent(event, 0);&lt;br&gt;        }&lt;br&gt;        return false;&lt;br&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;找到这个判断:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;color:#ff0000;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (li != null &amp;amp;&amp;amp; li.mOnTouchListener != null &amp;amp;&amp;amp; (mViewFlags &amp;amp; ENABLED_MASK) == ENABLED&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;amp;&amp;amp; li.mOnTouchListener.onTouch(this, event)) {&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return true;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;他会执行View的OnTouchListener.onTouch这个函数，也就是上面说的onTouch监听。里面有三个判断，如果三个都为1，就会执行return true，不往下走了。而默认的onTouch监听返回false，只要一个是false，就不会返回true。接着往下看，程序执行onTouchEvent：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_2_3419135&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;            if (onTouchEvent(event)) {&lt;br&gt;                return true;&lt;br&gt;            }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;onTouchEvent的源码比较多，贴最重要的:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_3_9450183&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;                        if (!mHasPerformedLongPress) {&lt;br&gt;                            // This is a tap, so remove the longpress check&lt;br&gt;                            removeLongPressCallback();&lt;br&gt;&lt;br&gt;                            // Only perform take click actions if we were in the pressed state&lt;br&gt;                            if (!focusTaken) {&lt;br&gt;                                // Use a Runnable and post this rather than calling&lt;br&gt;                                // performClick directly. This lets other visual state&lt;br&gt;                                // of the view update before click actions start.&lt;br&gt;                                if (mPerformClick == null) {&lt;br&gt;                                    mPerformClick = new PerformClick();&lt;br&gt;                                }&lt;br&gt;                                if (!post(mPerformClick)) {&lt;br&gt;                                   &lt;span style=&quot;color:#ff0000;&quot;&gt; performClick();&lt;/span&gt;&lt;br&gt;                                }&lt;br&gt;                            }&lt;br&gt;                        }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;可以看到有个&lt;span style=&quot;color:#ff0000;&quot;&gt;performClick()&lt;/span&gt;,它的源码里有这么一句&lt;span style=&quot;color:#ff0000;&quot;&gt;&amp;nbsp;li.mOnClickListener.onClick(this);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_4_5829896&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;    public boolean performClick() {&lt;br&gt;        sendAccessibilityEvent(AccessibilityEvent.TYPE_VIEW_CLICKED);&lt;br&gt;&lt;br&gt;        ListenerInfo li = mListenerInfo;&lt;br&gt;        if (li != null &amp;amp;&amp;amp; li.mOnClickListener != null) {&lt;br&gt;            playSoundEffect(SoundEffectConstants.CLICK);&lt;br&gt;            &lt;span style=&quot;color:#ff0000;&quot;&gt;&lt;strong&gt;li.mOnClickListener.onClick(this);&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;            return true;&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        return false;&lt;br&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;终于对上了，它执行了我们注册的onClick监听。当然执行前会经过一系列判断，是否注册了监听等。&lt;br&gt;总结:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;1、事件入口是dispatchTouchEvent(),它会先执行注册的onTouch监听,如果一切顺利的话，接着执行onTouchEvent，在onTouchEvent里会执行onClick监听。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;2、无论是dispatchTouchEvent还是onTouchEvent，如果返回true表示这个事件已经被消费、处理了，不再往下传了。在dispathTouchEvent的源码里可以看到，如果onTouchEvent返回了true，那么它也返回true。如果dispatch&lt;strong&gt;&lt;em&gt;在执行onTouch监听的时候，onTouch返回了true，那么它也返回true，这个事件提前被onTouch消费掉了。就不再执行onTouchEvent了，更别说onClick监听了。&lt;/em&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;3、我们通常在onTouch监听了设置图片一旦被触摸就改变它的背景、透明度之类的，这个onTouch表示事件的时机。而在onClick监听了去具体干某些事。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;下面通过代码来说明,自定义一个TestButton继承自Button，重写它的dispath和onTouchEvent方法，为了简单只关注down和up事件。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_5_8796282&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;package org.yanzi.ui;&lt;br&gt;&lt;br&gt;import android.content.Context;&lt;br&gt;import android.util.AttributeSet;&lt;br&gt;import android.util.Log;&lt;br&gt;import android.view.MotionEvent;&lt;br&gt;import android.widget.Button;&lt;br&gt;&lt;br&gt;public class TestButton extends Button {&lt;br&gt;    private final static String tag = &amp;quot;yan&amp;quot;;&lt;br&gt;    public TestButton(Context context, AttributeSet attrs) {&lt;br&gt;        super(context, attrs);&lt;br&gt;        // TODO Auto-generated constructor stub&lt;br&gt;    }&lt;br&gt;    @Override&lt;br&gt;    public boolean onTouchEvent(MotionEvent event) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(event.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;TestButton-onTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;TestButton-onTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.onTouchEvent(event);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    @Override&lt;br&gt;    public boolean dispatchTouchEvent(MotionEvent event) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(event.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;TestButton-dispatchTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;TestButton-dispatchTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        return super.dispatchTouchEvent(event);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;在Activity里注册两个监听:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_6_6255790&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;        testBtn.setOnClickListener(new View.OnClickListener() {&lt;br&gt;&lt;br&gt;            @Override&lt;br&gt;            public void onClick(View v) {&lt;br&gt;                // TODO Auto-generated method stub&lt;br&gt;                Log.i(tag, &amp;quot;testBtn—onClick…&amp;quot;);&lt;br&gt;            }&lt;br&gt;        });&lt;br&gt;        testBtn.setOnTouchListener(new View.OnTouchListener() {&lt;br&gt;&lt;br&gt;            @Override&lt;br&gt;            public boolean onTouch(View v, MotionEvent event) {&lt;br&gt;                // TODO Auto-generated method stub&lt;br&gt;                switch(event.getAction()){&lt;br&gt;                case MotionEvent.ACTION_DOWN:&lt;br&gt;                    Log.i(tag, &amp;quot;testBtn-onTouch-ACTION_DOWN…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                case MotionEvent.ACTION_UP:&lt;br&gt;                    Log.i(tag, &amp;quot;testBtn-onTouch-ACTION_UP…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                default:break;&lt;br&gt;&lt;br&gt;                }&lt;br&gt;                return false;&lt;br&gt;            }&lt;br&gt;        });&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;同时复写Activity的dispatch方法和onTouchEvent方法：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_7_683656&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;@Override&lt;br&gt;    public boolean dispatchTouchEvent(MotionEvent ev) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(ev.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;MainActivity-dispatchTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;MainActivity-dispatchTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.dispatchTouchEvent(ev);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    @Override&lt;br&gt;    public boolean onTouchEvent(MotionEvent event) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(event.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;MainActivity-onTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;MainActivity-onTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.onTouchEvent(event);&lt;br&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;最终一次点击，打印信息如下:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 33: 01-08 14:59:45.847 I/yan &amp;nbsp; &amp;nbsp; ( 4613): MainActivity-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 35: 01-08 14:59:45.849 I/yan &amp;nbsp; &amp;nbsp; ( 4613): TestButton-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 37: 01-08 14:59:45.849 I/yan &amp;nbsp; &amp;nbsp; ( 4613): testBtn-onTouch-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 39: 01-08 14:59:45.849 I/yan &amp;nbsp; &amp;nbsp; ( 4613): TestButton-onTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 41: 01-08 14:59:45.939 I/yan &amp;nbsp; &amp;nbsp; ( 4613): MainActivity-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 43: 01-08 14:59:45.941 I/yan &amp;nbsp; &amp;nbsp; ( 4613): TestButton-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 45: 01-08 14:59:45.944 I/yan &amp;nbsp; &amp;nbsp; ( 4613): testBtn-onTouch-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 47: 01-08 14:59:45.946 I/yan &amp;nbsp; &amp;nbsp; ( 4613): TestButton-onTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 49: 01-08 14:59:45.974 I/yan &amp;nbsp; &amp;nbsp; ( 4613): testBtn—onClick…&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;事件先由Activity的dispatchTouchEvent进行分发，然后TestButton的dispatchTouchEvent进行分发，接着执行onTouch监听，然后执行onTouchEvent。第二次UP动作的时候，在onTouchEvent里又执行了onClick监听。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;如果我们想这个TestButton只能执行onTouch监听不能执行onClick监听，方法有很多。在onTouch监听里默认返回false改为true，如下:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_8_3475319&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;testBtn.setOnTouchListener(new View.OnTouchListener() {&lt;br&gt;&lt;br&gt;            @Override&lt;br&gt;            public boolean onTouch(View v, MotionEvent event) {&lt;br&gt;                // TODO Auto-generated method stub&lt;br&gt;                switch(event.getAction()){&lt;br&gt;                case MotionEvent.ACTION_DOWN:&lt;br&gt;                    Log.i(tag, &amp;quot;testBtn-onTouch-ACTION_DOWN…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                case MotionEvent.ACTION_UP:&lt;br&gt;                    Log.i(tag, &amp;quot;testBtn-onTouch-ACTION_UP…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                default:break;&lt;br&gt;&lt;br&gt;                }&lt;br&gt;                return true;&lt;br&gt;            }&lt;br&gt;        });&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;事件流程为:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 75: 01-08 15:05:51.627 I/yan &amp;nbsp; &amp;nbsp; ( 5262): MainActivity-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 77: 01-08 15:05:51.628 I/yan &amp;nbsp; &amp;nbsp; ( 5262): TestButton-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 79: 01-08 15:05:51.629 I/yan &amp;nbsp; &amp;nbsp; ( 5262): testBtn-onTouch-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 81: 01-08 15:05:51.689 I/yan &amp;nbsp; &amp;nbsp; ( 5262): MainActivity-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 83: 01-08 15:05:51.691 I/yan &amp;nbsp; &amp;nbsp; ( 5262): TestButton-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 85: 01-08 15:05:51.695 I/yan &amp;nbsp; &amp;nbsp; ( 5262): testBtn-onTouch-ACTION_UP…&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;可以看到压根就没执行onTouchEvent。因为onTouch返回了true，已提前将这个事件消费了，就不往下传了，dispatch流程提前终止。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;h1&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;二、ViewGroup的dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;再来看ViewGroup，在复写ViewGroup时可以发现它的onTouchEvent在在View里的，表示这两个方法是一样的。但dispatchTouchEvent是在ViewGroup里的，表示和View的dispatchTouchEvent不一样，多了一个onInterceptTouchEvent函数，表示拦截的意思。&lt;a target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/xiaoQLu/archive/2012/04/28/2474443.html&quot;&gt;链接&lt;/a&gt;&amp;nbsp;打个很形象的比喻，这玩意就像个秘书、谋士。为啥View没有呢，因为它级别不够，一个Button里面是不可能有子View的。但LinearLayout(继承ViewGroup)就有孩子(子布局)，这个onInterceptTouchEvent就会判断事件要不要通知它的孩子呢。它的源码如下：&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_9_378420&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;    public boolean dispatchTouchEvent(MotionEvent ev) {&lt;br&gt;        if (mInputEventConsistencyVerifier != null) {&lt;br&gt;            mInputEventConsistencyVerifier.onTouchEvent(ev, 1);&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        boolean handled = false;&lt;br&gt;        if (onFilterTouchEventForSecurity(ev)) {&lt;br&gt;            final int action = ev.getAction();&lt;br&gt;            final int actionMasked = action &amp;amp; MotionEvent.ACTION_MASK;&lt;br&gt;&lt;br&gt;            // Handle an initial down.&lt;br&gt;            if (actionMasked == MotionEvent.ACTION_DOWN) {&lt;br&gt;                // Throw away all previous state when starting a new touch gesture.&lt;br&gt;                // The framework may have dropped the up or cancel event for the previous gesture&lt;br&gt;                // due to an app switch, ANR, or some other state change.&lt;br&gt;                cancelAndClearTouchTargets(ev);&lt;br&gt;                resetTouchState();&lt;br&gt;            }&lt;br&gt;&lt;br&gt;            // Check for interception.&lt;br&gt;            final boolean intercepted;&lt;br&gt;            if (actionMasked == MotionEvent.ACTION_DOWN&lt;br&gt;                    || mFirstTouchTarget != null) {&lt;br&gt;                final boolean disallowIntercept = (mGroupFlags &amp;amp; FLAG_DISALLOW_INTERCEPT) != 0;&lt;br&gt;                if (!disallowIntercept) {&lt;br&gt;                    &lt;strong&gt;&lt;span style=&quot;color:#ff0000;&quot;&gt;intercepted = onInterceptTouchEvent(ev);&lt;/span&gt;&lt;/strong&gt;&lt;br&gt;                    ev.setAction(action); // restore action in case it was changed&lt;br&gt;                } else {&lt;br&gt;                    intercepted = false;&lt;br&gt;                }&lt;br&gt;            } else {&lt;br&gt;                // There are no touch targets and this action is not an initial down&lt;br&gt;                // so this view group continues to intercept touches.&lt;br&gt;                intercepted = true;&lt;br&gt;            }&lt;br&gt;&lt;br&gt;            // Check for cancelation.&lt;br&gt;            final boolean canceled = resetCancelNextUpFlag(this)&lt;br&gt;                    || actionMasked == MotionEvent.ACTION_CANCEL;&lt;br&gt;&lt;br&gt;            // Update list of touch targets for pointer down, if needed.&lt;br&gt;            final boolean split = (mGroupFlags &amp;amp; FLAG_SPLIT_MOTION_EVENTS) != 0;&lt;br&gt;            TouchTarget newTouchTarget = null;&lt;br&gt;            boolean alreadyDispatchedToNewTouchTarget = false;&lt;br&gt;            &lt;strong&gt;&lt;span style=&quot;color:#ff0000;&quot;&gt;if (!canceled &amp;amp;&amp;amp; !intercepted)&lt;/span&gt;&lt;/strong&gt; {&lt;br&gt;                if (actionMasked == MotionEvent.ACTION_DOWN&lt;br&gt;                        || (split &amp;amp;&amp;amp; actionMasked == MotionEvent.ACTION_POINTER_DOWN)&lt;br&gt;                        || actionMasked == MotionEvent.ACTION_HOVER_MOVE) {&lt;br&gt;                    final int actionIndex = ev.getActionIndex(); // always 0 for down&lt;br&gt;                    final int idBitsToAssign = split ? 1 &amp;lt;&amp;lt; ev.getPointerId(actionIndex)&lt;br&gt;                            : TouchTarget.ALL_POINTER_IDS;&lt;br&gt;&lt;br&gt;                    // Clean up earlier touch targets for this pointer id in case they&lt;br&gt;                    // have become out of sync.&lt;br&gt;                    removePointersFromTouchTargets(idBitsToAssign);&lt;br&gt;&lt;br&gt;                    final int childrenCount = mChildrenCount;&lt;br&gt;                    if (childrenCount != 0) {&lt;br&gt;                        // Find a child that can receive the event.&lt;br&gt;                        // Scan children from front to back.&lt;br&gt;                        final View[] children = mChildren;&lt;br&gt;                        final float x = ev.getX(actionIndex);&lt;br&gt;                        final float y = ev.getY(actionIndex);&lt;br&gt;&lt;br&gt;                        final boolean customOrder = isChildrenDrawingOrderEnabled();&lt;br&gt;                        for (int i = childrenCount - 1; i &amp;gt;= 0; i–) {&lt;br&gt;                            final int childIndex = customOrder ?&lt;br&gt;                                    getChildDrawingOrder(childrenCount, i) : i;&lt;br&gt;                            final View child = children[childIndex];&lt;br&gt;                            if (!canViewReceivePointerEvents(child)&lt;br&gt;                                    || !isTransformedTouchPointInView(x, y, child, null)) {&lt;br&gt;                                continue;&lt;br&gt;                            }&lt;br&gt;&lt;br&gt;                            newTouchTarget = getTouchTarget(child);&lt;br&gt;                            if (newTouchTarget != null) {&lt;br&gt;                                // Child is already receiving touch within its bounds.&lt;br&gt;                                // Give it the new pointer in addition to the ones it is handling.&lt;br&gt;                                newTouchTarget.pointerIdBits |= idBitsToAssign;&lt;br&gt;                                break;&lt;br&gt;                            }&lt;br&gt;&lt;br&gt;                            resetCancelNextUpFlag(child);&lt;br&gt;                            if (dispatchTransformedTouchEvent(ev, false, child, idBitsToAssign)) {&lt;br&gt;                                // Child wants to receive touch within its bounds.&lt;br&gt;                                mLastTouchDownTime = ev.getDownTime();&lt;br&gt;                                mLastTouchDownIndex = childIndex;&lt;br&gt;                                mLastTouchDownX = ev.getX();&lt;br&gt;                                mLastTouchDownY = ev.getY();&lt;br&gt;                                newTouchTarget = addTouchTarget(child, idBitsToAssign);&lt;br&gt;                                alreadyDispatchedToNewTouchTarget = true;&lt;br&gt;                                break;&lt;br&gt;                            }&lt;br&gt;                        }&lt;br&gt;                    }&lt;br&gt;&lt;br&gt;                    if (newTouchTarget == null &amp;amp;&amp;amp; mFirstTouchTarget != null) {&lt;br&gt;                        // Did not find a child to receive the event.&lt;br&gt;                        // Assign the pointer to the least recently added target.&lt;br&gt;                        newTouchTarget = mFirstTouchTarget;&lt;br&gt;                        while (newTouchTarget.next != null) {&lt;br&gt;                            newTouchTarget = newTouchTarget.next;&lt;br&gt;                        }&lt;br&gt;                        newTouchTarget.pointerIdBits |= idBitsToAssign;&lt;br&gt;                    }&lt;br&gt;                }&lt;br&gt;            }&lt;br&gt;&lt;br&gt;            // Dispatch to touch targets.&lt;br&gt;            if (mFirstTouchTarget == null) {&lt;br&gt;                // No touch targets so treat this as an ordinary view.&lt;br&gt;                handled = dispatchTransformedTouchEvent(ev, canceled, null,&lt;br&gt;                        TouchTarget.ALL_POINTER_IDS);&lt;br&gt;            } else {&lt;br&gt;                // Dispatch to touch targets, excluding the new touch target if we already&lt;br&gt;                // dispatched to it.  Cancel touch targets if necessary.&lt;br&gt;                TouchTarget predecessor = null;&lt;br&gt;                TouchTarget target = mFirstTouchTarget;&lt;br&gt;                while (target != null) {&lt;br&gt;                    final TouchTarget next = target.next;&lt;br&gt;                    if (alreadyDispatchedToNewTouchTarget &amp;amp;&amp;amp; target == newTouchTarget) {&lt;br&gt;                        handled = true;&lt;br&gt;                    } else {&lt;br&gt;                        final boolean cancelChild = resetCancelNextUpFlag(target.child)&lt;br&gt;                        || intercepted;&lt;br&gt;                        if (dispatchTransformedTouchEvent(ev, cancelChild,&lt;br&gt;                                target.child, target.pointerIdBits)) {&lt;br&gt;                            handled = true;&lt;br&gt;                        }&lt;br&gt;                        if (cancelChild) {&lt;br&gt;                            if (predecessor == null) {&lt;br&gt;                                mFirstTouchTarget = next;&lt;br&gt;                            } else {&lt;br&gt;                                predecessor.next = next;&lt;br&gt;                            }&lt;br&gt;                            target.recycle();&lt;br&gt;                            target = next;&lt;br&gt;                            continue;&lt;br&gt;                        }&lt;br&gt;                    }&lt;br&gt;                    predecessor = target;&lt;br&gt;                    target = next;&lt;br&gt;                }&lt;br&gt;            }&lt;br&gt;&lt;br&gt;            // Update list of touch targets for pointer up or cancel, if needed.&lt;br&gt;            if (canceled&lt;br&gt;                    || actionMasked == MotionEvent.ACTION_UP&lt;br&gt;                    || actionMasked == MotionEvent.ACTION_HOVER_MOVE) {&lt;br&gt;                resetTouchState();&lt;br&gt;            } else if (split &amp;amp;&amp;amp; actionMasked == MotionEvent.ACTION_POINTER_UP) {&lt;br&gt;                final int actionIndex = ev.getActionIndex();&lt;br&gt;                final int idBitsToRemove = 1 &amp;lt;&amp;lt; ev.getPointerId(actionIndex);&lt;br&gt;                removePointersFromTouchTargets(idBitsToRemove);&lt;br&gt;            }&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        if (!handled &amp;amp;&amp;amp; mInputEventConsistencyVerifier != null) {&lt;br&gt;            mInputEventConsistencyVerifier.onUnhandledEvent(ev, 1);&lt;br&gt;        }&lt;br&gt;        return handled;&lt;br&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;可以看到标红的有两句(&lt;span style=&quot;color:#ff0000;&quot;&gt;intercepted = onInterceptTouchEvent(ev); &amp;nbsp;&amp;nbsp;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color:#ff0000;&quot;&gt;if (!canceled &amp;amp;&amp;amp; !intercepted)&amp;nbsp;&amp;nbsp;&lt;/span&gt;)，它会先调用&amp;nbsp;intercepted = onInterceptTouchEvent(ev);然后通过if判断。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_10_7489263&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;  public boolean onInterceptTouchEvent(MotionEvent ev) {&lt;br&gt;        return false;&lt;br&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;它就一句话，默认false。也就是说这个谋士默认的意见是，&lt;span style=&quot;color:#ff0000;&quot;&gt;&lt;strong&gt;永远不拦截！！！！只要有孩子，就&lt;/strong&gt;&lt;/span&gt;交给孩子们处理吧。下面给出实例说明，新建TestLinearLayout继承自Linearlayout。&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_11_6344211&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;package org.yanzi.ui;&lt;br&gt;&lt;br&gt;import android.content.Context;&lt;br&gt;import android.util.AttributeSet;&lt;br&gt;import android.util.Log;&lt;br&gt;import android.view.MotionEvent;&lt;br&gt;import android.widget.LinearLayout;&lt;br&gt;&lt;br&gt;public class TestLinearLayout extends LinearLayout{&lt;br&gt;    private final static String tag = &amp;quot;yan&amp;quot;;&lt;br&gt;    public TestLinearLayout(Context context, AttributeSet attrs) {&lt;br&gt;        super(context, attrs);&lt;br&gt;        // TODO Auto-generated constructor stub&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    @Override&lt;br&gt;    public boolean dispatchTouchEvent(MotionEvent ev) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(ev.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-dispatchTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-dispatchTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.dispatchTouchEvent(ev);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    @Override&lt;br&gt;    public boolean onInterceptTouchEvent(MotionEvent ev) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(ev.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-onInterceptTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-onInterceptTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.onInterceptTouchEvent(ev);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    @Override&lt;br&gt;    public boolean onTouchEvent(MotionEvent event) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(event.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-onTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-onTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.onTouchEvent(event);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;布局文件改成:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_12_215670&quot; name=&quot;code&quot; class=&quot;html&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&amp;lt;RelativeLayout xmlns:android=&amp;quot;&lt;a href=&quot;http://schemas.android.com/apk/res/android&amp;amp;quot&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://schemas.android.com/apk/res/android&amp;amp;quot&lt;/a&gt;;&lt;br&gt;    xmlns:tools=&amp;quot;&lt;a href=&quot;http://schemas.android.com/tools&amp;amp;quot&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://schemas.android.com/tools&amp;amp;quot&lt;/a&gt;;&lt;br&gt;    android:layout_width=&amp;quot;match_parent&amp;quot;&lt;br&gt;    android:layout_height=&amp;quot;match_parent&amp;quot;&lt;br&gt;    android:paddingBottom=&amp;quot;@dimen/activity_vertical_margin&amp;quot;&lt;br&gt;    android:paddingLeft=&amp;quot;@dimen/activity_horizontal_margin&amp;quot;&lt;br&gt;    android:paddingRight=&amp;quot;@dimen/activity_horizontal_margin&amp;quot;&lt;br&gt;    android:paddingTop=&amp;quot;@dimen/activity_vertical_margin&amp;quot;&lt;br&gt;    tools:context=&amp;quot;.MainActivity&amp;quot; &amp;gt;&lt;br&gt;&lt;br&gt;    &amp;lt;TextView&lt;br&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;br&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;br&gt;        android:text=&amp;quot;@string/hello_world&amp;quot; /&amp;gt;&lt;br&gt;&lt;br&gt;    &amp;lt;org.yanzi.ui.TestLinearLayout&lt;br&gt;        android:id=&amp;quot;@+id/linearlayout_test&amp;quot;&lt;br&gt;        android:layout_width=&amp;quot;200dip&amp;quot;&lt;br&gt;        android:layout_height=&amp;quot;200dip&amp;quot; &amp;gt;&lt;br&gt;&lt;br&gt;        &amp;lt;org.yanzi.ui.TestButton&lt;br&gt;            android:id=&amp;quot;@+id/btn_test&amp;quot;&lt;br&gt;            android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;br&gt;            android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;br&gt;            android:text=&amp;quot;测试按钮&amp;quot; /&amp;gt;&lt;br&gt;    &amp;lt;/org.yanzi.ui.TestLinearLayout&amp;gt;&lt;br&gt;&lt;br&gt;&amp;lt;/RelativeLayout&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;在Activity里给这个自定义LinearLayout也注册上onClick监听、onTouch监听。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_13_9103636&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;testLinelayout = (TestLinearLayout)findViewById(R.id.linearlayout_test);&lt;br&gt;        testLinelayout.setOnTouchListener(new View.OnTouchListener() {&lt;br&gt;&lt;br&gt;            @Override&lt;br&gt;            public boolean onTouch(View v, MotionEvent event) {&lt;br&gt;                // TODO Auto-generated method stub&lt;br&gt;                switch(event.getAction()){&lt;br&gt;                case MotionEvent.ACTION_DOWN:&lt;br&gt;                    Log.i(tag, &amp;quot;testLinelayout-onTouch-ACTION_DOWN…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                case MotionEvent.ACTION_UP:&lt;br&gt;                    Log.i(tag, &amp;quot;testLinelayout-onTouch-ACTION_UP…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                default:break;&lt;br&gt;&lt;br&gt;                }&lt;br&gt;                return false;&lt;br&gt;            }&lt;br&gt;        });&lt;br&gt;&lt;br&gt;        testLinelayout.setOnClickListener(new View.OnClickListener() {&lt;br&gt;&lt;br&gt;            @Override&lt;br&gt;            public void onClick(View v) {&lt;br&gt;                // TODO Auto-generated method stub&lt;br&gt;                Log.i(tag, &amp;quot;testLinelayout—onClick…&amp;quot;);&lt;br&gt;            }&lt;br&gt;        });&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;不复写事件传递里的 任何方法，流程如下:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 57: 01-08 15:29:42.167 I/yan &amp;nbsp; &amp;nbsp; ( 5826): MainActivity-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 59: 01-08 15:29:42.169 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestLinearLayout-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 61: 01-08 15:29:42.169 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestLinearLayout-onInterceptTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 63: 01-08 15:29:42.169 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestButton-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 65: 01-08 15:29:42.170 I/yan &amp;nbsp; &amp;nbsp; ( 5826): testBtn-onTouch-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 67: 01-08 15:29:42.170 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestButton-onTouchEvent-ACTION_DOWN…&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;—————————————————————————————————————————&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 69: 01-08 15:29:42.279 I/yan &amp;nbsp; &amp;nbsp; ( 5826): MainActivity-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 71: 01-08 15:29:42.280 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestLinearLayout-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 73: 01-08 15:29:42.283 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestLinearLayout-onInterceptTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 75: 01-08 15:29:42.287 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestButton-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 81: 01-08 15:29:42.298 I/yan &amp;nbsp; &amp;nbsp; ( 5826): testBtn-onTouch-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 83: 01-08 15:29:42.301 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestButton-onTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 85: 01-08 15:29:42.313 I/yan &amp;nbsp; &amp;nbsp; ( 5826): testBtn—onClick…&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;由Activity的dispatchTouchEvent—-Linearlayout的dispatchTouchEvent————问问它的谋士要不要让孩子知道onInterceptTouchEvent———孩子的dispatchTouchEvent—–孩子的onTouch监听——孩子的onTouchEvent—-孩子的onClick监听。为了更清晰这个流程，下面作如下改动：&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;1、如果事件传给了孩子们，但孩子没有onTouch和onClick监听怎么办？即将button的onclick和onTouch都注释掉:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;流程如下:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 131: 01-08 15:36:16.574 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestLinearLayout-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 133: 01-08 15:36:16.574 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestLinearLayout-onInterceptTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 135: 01-08 15:36:16.574 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestButton-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 137: 01-08 15:36:16.575 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestButton-onTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 143: 01-08 15:36:16.746 I/yan &amp;nbsp; &amp;nbsp; ( 6124): MainActivity-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 145: 01-08 15:36:16.747 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestLinearLayout-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 147: 01-08 15:36:16.747 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestLinearLayout-onInterceptTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 149: 01-08 15:36:16.748 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestButton-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 151: 01-08 15:36:16.748 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestButton-onTouchEvent-ACTION_UP…&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;因为事件给了孩子们，它没监听也关系不到父亲了，父亲的onClick和onTouch都没执行。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;2,如果将TestLinearlayout的onInterceptTouchEvent 改成return true，即不让孩子们知道。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 57: 01-08 15:40:06.832 I/yan &amp;nbsp; &amp;nbsp; ( 6640): MainActivity-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 59: 01-08 15:40:06.835 I/yan &amp;nbsp; &amp;nbsp; ( 6640): TestLinearLayout-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 61: 01-08 15:40:06.836 I/yan &amp;nbsp; &amp;nbsp; ( 6640): TestLinearLayout-onInterceptTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 63: 01-08 15:40:06.836 I/yan &amp;nbsp; &amp;nbsp; ( 6640): testLinelayout-onTouch-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 65: 01-08 15:40:06.836 I/yan &amp;nbsp; &amp;nbsp; ( 6640): TestLinearLayout-onTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 67: 01-08 15:40:07.016 I/yan &amp;nbsp; &amp;nbsp; ( 6640): MainActivity-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 69: 01-08 15:40:07.017 I/yan &amp;nbsp; &amp;nbsp; ( 6640): TestLinearLayout-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 73: 01-08 15:40:07.025 I/yan &amp;nbsp; &amp;nbsp; ( 6640): testLinelayout-onTouch-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 75: 01-08 15:40:07.026 I/yan &amp;nbsp; &amp;nbsp; ( 6640): TestLinearLayout-onTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 77: 01-08 15:40:07.052 I/yan &amp;nbsp; &amp;nbsp; ( 6640): testLinelayout—onClick…&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;果然事件就此打住，孩子们压根不知道，父亲执行了onClick和onTouch监听。可见父亲还是伟大的啊，只要谋士不拦截事件，那么事件就给孩子。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;最后的结论:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;1、如果是自定义复合控件，如图片+文字，我再Activity里给你注册了onClick监听，期望点击它执行。那么最简单的方法就是将图片+文字的父布局，也即让其容器ViewGroup的秘书将事件拦下，这样父亲就可以执行onClick了。这时候的父亲就像一个独立的孩子一样了(View)，无官一身轻，再也不用管它的孩子了,可以正常onClick onTouch.&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;2、如果希望一个View只onTouch而不onClick，在onTouch里return true就ok了。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;3、dispatch是为了onTouch监听，onTouchEvent是为了onClick监听。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;4、自定义布局时，一般情况下：&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;@Override&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;public boolean onTouchEvent(MotionEvent event) {return super.onTouchEvent(event);} &amp;nbsp;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;@Override&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;public boolean dispatchTouchEvent(MotionEvent event) {return super.dispatchTouchEvent(event);&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;我们可以复写，但是最后的super.&lt;strong&gt;&lt;em&gt;是万万不能少滴。如果少了，表示连dispatch&lt;/em&gt;&lt;/strong&gt; onTouchEvent压根就不调用了，事件就此打住。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;貌似真相水落石出了，但究竟清楚了没有请看下篇根据自定义复合控件的监听问题再探讨下。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;参考: &amp;nbsp;&amp;nbsp;&lt;a target=&quot;_blank&quot; href=&quot;http://ryantang.me/blog/2014/01/02/android-event-dispatch/&quot;&gt;链接1&lt;/a&gt;&amp;nbsp;(灰常感谢前辈的大作啊) &amp;nbsp; &amp;nbsp;&lt;a target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/xiaoQLu/archive/2012/04/28/2474443.html&quot;&gt;链接2&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;测试代码: &amp;nbsp;&lt;a target=&quot;_blank&quot; href=&quot;http://download.csdn.net/detail/yanzi1225627/7121063&quot;&gt;http://download.csdn.net/detail/yanzi1225627/7121063&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;—————————本文系原创，转载注明作者:yanzi1225627&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;


&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/11/Android/事件传递机制/细说Android事件传递机制(dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent)/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/11/Android/事件传递机制/细说Android事件传递机制(dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent)/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;原文出处：&lt;a href=&quot;http://blog.csdn.net/yanzi1225627/article/details/22592831&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/yanzi122562
    
    </summary>
    
      <category term="Android_事件传递机制" scheme="https://fengqingxiuyi.github.io/categories/Android-%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6/"/>
    
    
  </entry>
  
  <entry>
    <title>View注意点</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/View%E6%B3%A8%E6%84%8F%E7%82%B9/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/View注意点/</id>
    <published>2016-08-10T09:38:15.000Z</published>
    <updated>2016-08-13T16:11:58.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;Fresco图片框架注意点&quot;&gt;&lt;a href=&quot;#Fresco图片框架注意点&quot; class=&quot;headerlink&quot; title=&quot;Fresco图片框架注意点&quot;&gt;&lt;/a&gt;Fresco图片框架注意点&lt;/h1&gt;&lt;p&gt;Fresco官方文档：&lt;a href=&quot;http://fresco-cn.org/docs/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://fresco-cn.org/docs/getting-started.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;注意点1：凡是使用Fresco设置的图片，必须设置具体的宽高才可以正常显示&quot;&gt;&lt;a href=&quot;#注意点1：凡是使用Fresco设置的图片，必须设置具体的宽高才可以正常显示&quot; class=&quot;headerlink&quot; title=&quot;注意点1：凡是使用Fresco设置的图片，必须设置具体的宽高才可以正常显示&quot;&gt;&lt;/a&gt;注意点1：凡是使用Fresco设置的图片，必须设置具体的宽高才可以正常显示&lt;/h2&gt;&lt;p&gt;例如：SHImageView&lt;/p&gt;
&lt;p&gt;模块地址：&lt;br&gt;同级目录下的SHImageView.java文件&lt;br&gt;或&lt;br&gt;&lt;a href=&quot;http://git.showjoy.net/android/showjoyandroid_image/tree/master&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://git.showjoy.net/android/showjoyandroid_image/tree/master&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;注意点2：为Fresco图片设置圆形背景&quot;&gt;&lt;a href=&quot;#注意点2：为Fresco图片设置圆形背景&quot; class=&quot;headerlink&quot; title=&quot;注意点2：为Fresco图片设置圆形背景&quot;&gt;&lt;/a&gt;注意点2：为Fresco图片设置圆形背景&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;// 去除fresco:roundedCornerRadius=&lt;span class=&quot;string&quot;&gt;&quot;5dp&quot;&lt;/span&gt;可预览&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;com.showjoy.image.SHCircleImageView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/home_best_seller_img&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fresco:actualImageScaleType=&lt;span class=&quot;string&quot;&gt;&quot;centerCrop&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fresco:backgroundImage=&lt;span class=&quot;string&quot;&gt;&quot;@color/white&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fresco:roundedCornerRadius=&lt;span class=&quot;string&quot;&gt;&quot;5dp&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fresco:roundingBorderColor=&lt;span class=&quot;string&quot;&gt;&quot;@color/grey2&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fresco:roundingBorderWidth=&lt;span class=&quot;string&quot;&gt;&quot;2dp&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;答：因为已经设置了round属性，所以已经是圆形了，这个时候，如果想要设置其圆形边框内的背景，需要通过这个属性backgroundImage设置背景才是圆形边框内的背景色&lt;/p&gt;
&lt;h1 id=&quot;ShopEditText&quot;&gt;&lt;a href=&quot;#ShopEditText&quot; class=&quot;headerlink&quot; title=&quot;ShopEditText&quot;&gt;&lt;/a&gt;ShopEditText&lt;/h1&gt;&lt;p&gt;ShopEditText必须设置字体大小（注：已提供属性），否则字体显示特别小&lt;br&gt;模块地址：同级目录下ShopEditText文件夹下的ShopEditText.java文件&lt;/p&gt;
&lt;h1 id=&quot;tools-Designtime-Attributes&quot;&gt;&lt;a href=&quot;#tools-Designtime-Attributes&quot; class=&quot;headerlink&quot; title=&quot;tools-Designtime Attributes&quot;&gt;&lt;/a&gt;tools-Designtime Attributes&lt;/h1&gt;&lt;p&gt;Google文档地址：&lt;a href=&quot;http://tools.android.com/tips/layout-designtime-attributes&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://tools.android.com/tips/layout-designtime-attributes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;中文翻译：这些属性用于渲染布局，而不会影响到程序运行。也就是说只在预览布局时出现，在程序运行时相当于该属性不存在。&lt;/p&gt;
&lt;p&gt;例子：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;string&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;RelativeLayout xmlns:android=&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/apk/res/android&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    xmlns:tools=&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/tools&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        tools:text=&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/RelativeLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;更加全面的tools详解：&lt;a href=&quot;http://blog.csdn.net/zhengdan66/article/details/46960985&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/zhengdan66/article/details/46960985&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;android-paddingstart-paddingend&quot;&gt;&lt;a href=&quot;#android-paddingstart-paddingend&quot; class=&quot;headerlink&quot; title=&quot;android:paddingstart(paddingend)&quot;&gt;&lt;/a&gt;android:paddingstart(paddingend)&lt;/h1&gt;&lt;p&gt;android:paddingstart(paddingend)：左右对齐时使用。左对齐时：paddingstart对应paddingleft；paddingend对应paddingright；右对齐时则刚好相反；&lt;/p&gt;
&lt;h1 id=&quot;附&quot;&gt;&lt;a href=&quot;#附&quot; class=&quot;headerlink&quot; title=&quot;附&quot;&gt;&lt;/a&gt;附&lt;/h1&gt;&lt;font color=&quot;red&quot;&gt;本文持续更新&lt;/font&gt;

&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/View注意点/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/View注意点/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Fresco图片框架注意点&quot;&gt;&lt;a href=&quot;#Fresco图片框架注意点&quot; class=&quot;headerlink&quot; title=&quot;Fresco图片框架注意点&quot;&gt;&lt;/a&gt;Fresco图片框架注意点&lt;/h1&gt;&lt;p&gt;Fresco官方文档：&lt;a href=&quot;http:/
    
    </summary>
    
      <category term="ShowJoy_View" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-View/"/>
    
    
  </entry>
  
  <entry>
    <title>ShopEditText</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/ShopEditText/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/ShopEditText/</id>
    <published>2016-08-10T09:35:15.000Z</published>
    <updated>2016-08-13T16:10:22.000Z</updated>
    
    <content type="html">&lt;p&gt;本文介绍 统一文本编辑框 的制作与使用，统一文本编辑框继承于RelativeLayout，同时也支持大范围区域的点击效果！&lt;/p&gt;
&lt;h1 id=&quot;统一文本编辑框-的制作&quot;&gt;&lt;a href=&quot;#统一文本编辑框-的制作&quot; class=&quot;headerlink&quot; title=&quot;统一文本编辑框 的制作&quot;&gt;&lt;/a&gt;统一文本编辑框 的制作&lt;/h1&gt;&lt;h2 id=&quot;Java文件内容&quot;&gt;&lt;a href=&quot;#Java文件内容&quot; class=&quot;headerlink&quot; title=&quot;Java文件内容&quot;&gt;&lt;/a&gt;Java文件内容&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;84&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;85&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;86&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;87&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;88&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;89&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;90&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;91&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;92&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;93&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;94&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;95&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;96&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;97&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;98&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;99&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;100&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;101&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;102&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;103&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;104&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;105&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;106&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;107&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;108&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;109&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;110&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;111&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;112&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;113&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;114&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;115&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;116&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;117&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;118&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;119&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;120&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;121&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;122&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;123&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;124&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;125&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;126&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;127&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;128&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;129&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;130&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;131&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;132&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;133&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;134&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;135&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;136&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;137&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;138&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;139&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;140&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;141&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;142&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;143&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; com.showjoy.shop.common.view;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.content.Context;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.content.res.TypedArray;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.text.InputType;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.text.TextUtils;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.util.AttributeSet;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.util.TypedValue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.Gravity;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.View;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.EditText;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.LinearLayout;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.RelativeLayout;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.TextView;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; com.showjoy.shop.R;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; com.showjoy.view.SHIconFontTextView;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 达人店专用的统一编辑框&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * Created by lufei on 7/20/16.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ShopEditText&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;RelativeLayout&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; RelativeLayout viewShopEditRoot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; SHIconFontTextView viewShopEditLeftIcon;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; SHIconFontTextView viewShopEditRightIcon;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; EditText viewShopEditInput;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; LinearLayout inviteErrorTip;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; SHIconFontTextView inviteErrorIcon;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; TextView inviteErrorTextView;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ShopEditText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init(context, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ShopEditText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init(context, attrs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ShopEditText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; defStyleAttr)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs, defStyleAttr);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init(context, attrs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inflate(context, R.layout.view_shop_edit, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditRoot = (RelativeLayout) findViewById(R.id.view_shop_edit_root);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditLeftIcon = (SHIconFontTextView) findViewById(R.id.view_shop_edit_left_icon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditRightIcon = (SHIconFontTextView) findViewById(R.id.view_shop_edit_right_icon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditInput = (EditText) findViewById(R.id.view_shop_edit_input);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inviteErrorTip = (LinearLayout) findViewById(R.id.invite_error_tip);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inviteErrorIcon = (SHIconFontTextView) findViewById(R.id.invite_error_icon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inviteErrorTextView = (TextView) findViewById(R.id.invite_error_text_view);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != attrs) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            TypedArray typeArray = context.obtainStyledAttributes(attrs, R.styleable.ShopEditText);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String emptyText = typeArray.getString(R.styleable.ShopEditText_shop_edit_empty_text);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(emptyText)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                inviteErrorTextView.setText(emptyText);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String hint = typeArray.getString(R.styleable.ShopEditText_shop_edit_hint);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(hint)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditInput.setHint(hint);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String leftIcon = typeArray.getString(R.styleable.ShopEditText_shop_edit_left_icon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(leftIcon)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditLeftIcon.setText(leftIcon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String rightIcon = typeArray.getString(R.styleable.ShopEditText_shop_edit_right_icon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(rightIcon)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditRightIcon.setText(rightIcon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; gravity = typeArray.getInt(R.styleable.ShopEditText_shop_edit_gravity, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (gravity == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditInput.setGravity(Gravity.LEFT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                inviteErrorTip.setGravity(Gravity.LEFT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (gravity == &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditInput.setGravity(Gravity.CENTER);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                inviteErrorTip.setGravity(Gravity.CENTER);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (gravity == &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditInput.setGravity(Gravity.RIGHT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                inviteErrorTip.setGravity(Gravity.RIGHT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; size = typeArray.getDimension(R.styleable.ShopEditText_shop_edit_text_size, &lt;span class=&quot;number&quot;&gt;14f&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewShopEditInput.setTextSize(TypedValue.COMPLEX_UNIT_PX, size);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            typeArray.recycle();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inviteErrorTip.setOnClickListener(v -&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            setErrorVisible(&lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setInputType&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; inputType)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditInput.setInputType(inputType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; viewShopEditInput.getText().toString();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setErrorText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String text)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inviteErrorTextView.setText(text);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setErrorVisible&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; visible)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (visible) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            inviteErrorTip.setVisibility(VISIBLE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewShopEditInput.setVisibility(GONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            inviteErrorTip.setVisibility(GONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewShopEditInput.setVisibility(VISIBLE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setReadOnly&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; readOnly)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (readOnly) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewShopEditInput.setInputType(InputType.TYPE_NULL);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewShopEditInput.setInputType(InputType.TYPE_CLASS_TEXT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String text)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditInput.setText(text);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; View &lt;span class=&quot;title&quot;&gt;getRightIcon&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; viewShopEditRightIcon;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setOnClickListener&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(OnClickListener l)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setOnClickListener(l);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditInput.setOnClickListener(l);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;属性文件内容&quot;&gt;&lt;a href=&quot;#属性文件内容&quot; class=&quot;headerlink&quot; title=&quot;属性文件内容&quot;&gt;&lt;/a&gt;属性文件内容&lt;/h2&gt;&lt;font color=&quot;red&quot;&gt;PS: 以下内容位于styles.xml文件中&lt;/font&gt;

&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;&lt;span class=&quot;built_in&quot;&gt;declare&lt;/span&gt;-styleable name=&lt;span class=&quot;string&quot;&gt;&quot;ShopEditText&quot;&lt;/span&gt;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&lt;span class=&quot;string&quot;&gt;&quot;shop_edit_hint&quot;&lt;/span&gt; format=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&lt;span class=&quot;string&quot;&gt;&quot;shop_edit_empty_text&quot;&lt;/span&gt; format=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&lt;span class=&quot;string&quot;&gt;&quot;shop_edit_left_icon&quot;&lt;/span&gt; format=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&lt;span class=&quot;string&quot;&gt;&quot;shop_edit_right_icon&quot;&lt;/span&gt; format=&lt;span class=&quot;string&quot;&gt;&quot;string&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&lt;span class=&quot;string&quot;&gt;&quot;shop_edit_text_size&quot;&lt;/span&gt; format=&lt;span class=&quot;string&quot;&gt;&quot;dimension&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&lt;span class=&quot;string&quot;&gt;&quot;shop_edit_gravity&quot;&lt;/span&gt; format=&lt;span class=&quot;string&quot;&gt;&quot;integer&quot;&lt;/span&gt;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;flag name=&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;flag name=&lt;span class=&quot;string&quot;&gt;&quot;center&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;flag name=&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/attr&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/&lt;span class=&quot;built_in&quot;&gt;declare&lt;/span&gt;-styleable&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;布局文件内容&quot;&gt;&lt;a href=&quot;#布局文件内容&quot; class=&quot;headerlink&quot; title=&quot;布局文件内容&quot;&gt;&lt;/a&gt;布局文件内容&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;string&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;RelativeLayout xmlns:android=&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/apk/res/android&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/view_shop_edit_root&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:orientation=&lt;span class=&quot;string&quot;&gt;&quot;vertical&quot;&lt;/span&gt;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;LinearLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/view_shop_edit&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:orientation=&lt;span class=&quot;string&quot;&gt;&quot;horizontal&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:gravity=&lt;span class=&quot;string&quot;&gt;&quot;center&quot;&lt;/span&gt;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;com.showjoy.view.SHIconFontTextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/view_shop_edit_left_icon&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_marginRight=&lt;span class=&quot;string&quot;&gt;&quot;5.5dp&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textColor=&lt;span class=&quot;string&quot;&gt;&quot;@color/grey4&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textSize=&lt;span class=&quot;string&quot;&gt;&quot;18sp&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;EditText&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/view_shop_edit_input&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;0dp&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_weight=&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:background=&lt;span class=&quot;string&quot;&gt;&quot;@null&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:hint=&lt;span class=&quot;string&quot;&gt;&quot;请填写邀请码&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textSize=&lt;span class=&quot;string&quot;&gt;&quot;18sp&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;com.showjoy.view.SHIconFontTextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/view_shop_edit_right_icon&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textColor=&lt;span class=&quot;string&quot;&gt;&quot;@color/grey4&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textSize=&lt;span class=&quot;string&quot;&gt;&quot;18sp&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/LinearLayout&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;View&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/view_shop_edit_line&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;1px&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_marginTop=&lt;span class=&quot;string&quot;&gt;&quot;10dp&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_below=&lt;span class=&quot;string&quot;&gt;&quot;@id/view_shop_edit&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:background=&lt;span class=&quot;string&quot;&gt;&quot;@color/grey4&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;LinearLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/invite_error_tip&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:orientation=&lt;span class=&quot;string&quot;&gt;&quot;horizontal&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_marginTop=&lt;span class=&quot;string&quot;&gt;&quot;10dp&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_below=&lt;span class=&quot;string&quot;&gt;&quot;@+id/view_shop_edit_line&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:visibility=&lt;span class=&quot;string&quot;&gt;&quot;gone&quot;&lt;/span&gt;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;com.showjoy.view.SHIconFontTextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/invite_error_icon&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textSize=&lt;span class=&quot;string&quot;&gt;&quot;18sp&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/invite_error_text_view&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:gravity=&lt;span class=&quot;string&quot;&gt;&quot;center&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textColor=&lt;span class=&quot;string&quot;&gt;&quot;@color/redPink&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textSize=&lt;span class=&quot;string&quot;&gt;&quot;18sp&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/LinearLayout&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/RelativeLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;统一文本编辑框-的使用&quot;&gt;&lt;a href=&quot;#统一文本编辑框-的使用&quot; class=&quot;headerlink&quot; title=&quot;统一文本编辑框 的使用&quot;&gt;&lt;/a&gt;统一文本编辑框 的使用&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;com.showjoy.shop.common.view.ShopEditText&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/login_user_name&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;250dp&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_below=&lt;span class=&quot;string&quot;&gt;&quot;@+id/login_logo&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_centerHorizontal=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_marginTop=&lt;span class=&quot;string&quot;&gt;&quot;35dp&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:shop_edit_hint=&lt;span class=&quot;string&quot;&gt;&quot;输入用户名&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:shop_edit_text_size=&lt;span class=&quot;string&quot;&gt;&quot;16sp&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/ShopEditText/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/ShopEditText/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍 统一文本编辑框 的制作与使用，统一文本编辑框继承于RelativeLayout，同时也支持大范围区域的点击效果！&lt;/p&gt;
&lt;h1 id=&quot;统一文本编辑框-的制作&quot;&gt;&lt;a href=&quot;#统一文本编辑框-的制作&quot; class=&quot;headerlink&quot; title=&quot;统
    
    </summary>
    
      <category term="ShowJoy_View" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-View/"/>
    
    
  </entry>
  
  <entry>
    <title>SHImageView</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/SHImageView/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/SHImageView/</id>
    <published>2016-08-10T09:35:15.000Z</published>
    <updated>2016-08-13T16:27:40.000Z</updated>
    
    <content type="html">&lt;p&gt;本文介绍 统一图片组件 的制作与使用&lt;/p&gt;
&lt;p&gt;本图片组件封装于Fresco组件，本文用于介绍 统一图片组件 的制作与使用，可查看Fresco官方文档：&lt;a href=&quot;http://fresco-cn.org/docs/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://fresco-cn.org/docs/getting-started.html&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;统一图片组件-的制作&quot;&gt;&lt;a href=&quot;#统一图片组件-的制作&quot; class=&quot;headerlink&quot; title=&quot;统一图片组件 的制作&quot;&gt;&lt;/a&gt;统一图片组件 的制作&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;84&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;85&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;86&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;87&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;88&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;89&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;90&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;91&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;92&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;93&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;94&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;95&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;96&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;97&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;98&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;99&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;100&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;101&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;102&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;103&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;104&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;105&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;106&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;107&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;108&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;109&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; com.showjoy.image;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.content.Context;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.graphics.drawable.Drawable;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.text.TextUtils;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.util.AttributeSet;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; com.showjoy.image.base.ISHImageLoadListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; com.showjoy.image.fresco.FrescoImageView;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 尚妆统一图片组件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * Created by lufei on 3/30/16.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHImageView&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;FrescoImageView&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    String imageUrl;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ISHImageLoadListener loadListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHImageView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHImageView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHImageView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; defStyle)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs, defStyle);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHImageView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; defStyleAttr, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; defStyleRes)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs, defStyleAttr, defStyleRes);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (TextUtils.equals(imageUrl, url)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageUrl = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageUrl(url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setFailureImage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setFailureImage();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;placeholderImage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resource)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.placeholderImage(resource);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;placeholderImage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Drawable drawable)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.placeholderImage(drawable);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageRes&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resId)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageRes(resId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url, ISHImageLoadListener loadListener)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (TextUtils.equals(imageUrl, url) &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.loadListener == loadListener) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageUrl = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.loadListener = loadListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageUrl(url, loadListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (TextUtils.equals(imageUrl, url) &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.width == width &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.height == height) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageUrl = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.width = width;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.height = height;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageUrl(url, width, height);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height, ISHImageLoadListener loadListener)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (TextUtils.equals(imageUrl, url) &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.width == width &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.height == height&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.loadListener == loadListener) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageUrl = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.loadListener = loadListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.width = width;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.height = height;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageUrl(url, width, height, loadListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageRes&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resId, ISHImageLoadListener loadListener)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageRes(resId, loadListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;统一图片组件-的使用&quot;&gt;&lt;a href=&quot;#统一图片组件-的使用&quot; class=&quot;headerlink&quot; title=&quot;统一图片组件 的使用&quot;&gt;&lt;/a&gt;统一图片组件 的使用&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;com.showjoy.image.SHImageView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/image&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;30dp&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;30dp&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;注意：此 统一图片组件 的宽和高不能同时为wrap_content，具体参考Fresco文档。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/SHImageView/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/SHImageView/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍 统一图片组件 的制作与使用&lt;/p&gt;
&lt;p&gt;本图片组件封装于Fresco组件，本文用于介绍 统一图片组件 的制作与使用，可查看Fresco官方文档：&lt;a href=&quot;http://fresco-cn.org/docs/getting-started.html&quot; ta
    
    </summary>
    
      <category term="ShowJoy_View" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-View/"/>
    
    
  </entry>
  
  <entry>
    <title>Android-Relativelayout属性总结</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/Android-Relativelayout%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/Android-Relativelayout属性总结/</id>
    <published>2016-08-10T09:34:15.000Z</published>
    <updated>2016-08-10T09:55:44.000Z</updated>
    
    <content type="html">&lt;p&gt;文章转载自：&lt;a href=&quot;http://blog.csdn.net/kimifdw/article/details/11981509&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/kimifdw/article/details/11981509&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;指定偏移量&quot;&gt;&lt;a href=&quot;#指定偏移量&quot; class=&quot;headerlink&quot; title=&quot;指定偏移量&quot;&gt;&lt;/a&gt;指定偏移量&lt;/h1&gt;&lt;p&gt;1.android:paddingleft(paddingright/paddingtop/paddingbottom)：控件内部内容（如文本距离该控件的边距）；&lt;br&gt;2.android:paddingstart(paddingend)：左右对齐时使用。左对齐时：paddingstart对应paddingleft；paddingend对应paddingright；右对齐时则刚好相反；&lt;br&gt;3.android:layout_margin：该控件距离父控件的边距；（layout_marginleft/layout_marginright/layout_margintop/layout_marginbottom）；&lt;/p&gt;
&lt;h1 id=&quot;给定控件ID&quot;&gt;&lt;a href=&quot;#给定控件ID&quot; class=&quot;headerlink&quot; title=&quot;给定控件ID&quot;&gt;&lt;/a&gt;给定控件ID&lt;/h1&gt;&lt;p&gt;4.android:layout_above ：将该控件的底部至于给定ID的控件之上；&lt;br&gt;5.android:layout_below ：将该控件的顶部至于给定ID的控件之下；&lt;br&gt;6.android:layout_toLeftOf ：将该控件的右边缘和给定ID的控件的左边缘对齐；&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;android:layout_toRightOf：将该控件的左边缘和给定ID的控件的右边缘对齐；&lt;br&gt;8.android:layout_alignBaseline： 该控件的baseline和给定ID的控件的baseline对齐；（baseline为控件的基准线）；&lt;br&gt;9.android:layout_alignBottom：将该控件的底部边缘与给定ID控件的底部边缘；&lt;/li&gt;
&lt;li&gt;android:layout_alignLeft：将该控件的左边缘与给定ID控件的左边缘对齐；&lt;br&gt;11.android:layout_alignRight ：将该控件的右边缘与给定ID控件的右边缘对齐；&lt;br&gt;12.android:layout_alignTop ： 将给定控件的顶部边缘与给定ID控件的顶部对齐；&lt;h1 id=&quot;相对于父组件&quot;&gt;&lt;a href=&quot;#相对于父组件&quot; class=&quot;headerlink&quot; title=&quot;相对于父组件&quot;&gt;&lt;/a&gt;相对于父组件&lt;/h1&gt;13.android:alignParentBottom ：如果该值为true，则将该控件的底部和父控件的底部对齐；&lt;br&gt;14.android:layout_alignParentLeft：如果该值为true，则将该控件的左边与父控件的左边对齐；&lt;br&gt;15.android:layout_alignParentRight ：如果该值为true，则将该控件的右边与父控件的右边对齐；&lt;br&gt;16.android:layout_alignParentTop：如果该值为true，则将空间的顶部与父控件的顶部对齐；&lt;br&gt;17.android:layout_alignWithParentIfMissing 如果对应的兄弟元素找不到的话就以父元素做参照物；&lt;h1 id=&quot;居中&quot;&gt;&lt;a href=&quot;#居中&quot; class=&quot;headerlink&quot; title=&quot;居中&quot;&gt;&lt;/a&gt;居中&lt;/h1&gt;18.android:layout_centerHorizontal ：如果值为真，该控件将被至于水平方向的中央；&lt;br&gt;19.android:layout_centerInParent：如果值为真，该控件将被至于父控件水平方向和垂直方向的中央；&lt;br&gt;20.android:layout_centerVertical： 如果值为真，该控件将被至于垂直方向的中央；&lt;h1 id=&quot;其它&quot;&gt;&lt;a href=&quot;#其它&quot; class=&quot;headerlink&quot; title=&quot;其它&quot;&gt;&lt;/a&gt;其它&lt;/h1&gt;21.android:gravity：设置容器中的内容的位置，默认为靠左；&lt;br&gt;22.android:layout_gravity：设置容器中内容相对于容器的位置（无法在relativelayout中使用）；&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/Android-Relativelayout属性总结/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/Android-Relativelayout属性总结/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;文章转载自：&lt;a href=&quot;http://blog.csdn.net/kimifdw/article/details/11981509&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/kimifdw/article
    
    </summary>
    
      <category term="ShowJoy_View" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-View/"/>
    
    
  </entry>
  
  <entry>
    <title>网络请求注意点</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E6%B3%A8%E6%84%8F%E7%82%B9/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/网络请求注意点/</id>
    <published>2016-08-10T09:14:35.000Z</published>
    <updated>2016-08-13T16:14:48.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;快速创建数据实体类&quot;&gt;&lt;a href=&quot;#快速创建数据实体类&quot; class=&quot;headerlink&quot; title=&quot;快速创建数据实体类&quot;&gt;&lt;/a&gt;快速创建数据实体类&lt;/h1&gt;&lt;p&gt;步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在AndroidStudio上安装GsonFormat插件，重启AndroidStudio。&lt;/li&gt;
&lt;li&gt;创建实体类，如GoodsResult类。&lt;/li&gt;
&lt;li&gt;复制接口返回的data下的数据，如{…}，如果data是JSONArray类型，则取其中一个{…}即可。&lt;/li&gt;
&lt;li&gt;将光标置于GoodsResult类的{}中，然后按快捷键option+s，出现GsonFormat弹框后，粘贴即可&lt;/li&gt;
&lt;li&gt;如果数据格式正确，点击OK会自动生成实体类，否则会出现错误提示：data err!&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;返回数据类型问题&quot;&gt;&lt;a href=&quot;#返回数据类型问题&quot; class=&quot;headerlink&quot; title=&quot;返回数据类型问题&quot;&gt;&lt;/a&gt;返回数据类型问题&lt;/h1&gt;&lt;p&gt;如果有数据返回，则服务端返回的数据格式有以下两种形式：&lt;/p&gt;
&lt;h2 id=&quot;形式1：data是JSONObject类型&quot;&gt;&lt;a href=&quot;#形式1：data是JSONObject类型&quot; class=&quot;headerlink&quot; title=&quot;形式1：data是JSONObject类型&quot;&gt;&lt;/a&gt;形式1：data是JSONObject类型&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;count&quot;&lt;/span&gt;: 0,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;data&quot;&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;isRedirect&quot;&lt;/span&gt;: 0,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;isSuccess&quot;&lt;/span&gt;: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;login&quot;&lt;/span&gt;: 0&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;形式2：data是JSONArray类型&quot;&gt;&lt;a href=&quot;#形式2：data是JSONArray类型&quot; class=&quot;headerlink&quot; title=&quot;形式2：data是JSONArray类型&quot;&gt;&lt;/a&gt;形式2：data是JSONArray类型&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;count&quot;&lt;/span&gt;: 2,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;data&quot;&lt;/span&gt;: [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;isRedirect&quot;&lt;/span&gt;: 0,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;isSuccess&quot;&lt;/span&gt;: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;login&quot;&lt;/span&gt;: 0&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;根据不同的数据格式，我们需要创建不同的请求类：&lt;/p&gt;
&lt;h2 id=&quot;形式1：data是JSONObject类型-1&quot;&gt;&lt;a href=&quot;#形式1：data是JSONObject类型-1&quot; class=&quot;headerlink&quot; title=&quot;形式1：data是JSONObject类型&quot;&gt;&lt;/a&gt;形式1：data是JSONObject类型&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;HomeRequest&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHGetRequest&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;HomeResult&lt;/span&gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; Class&amp;lt;HomeResult&amp;gt; &lt;span class=&quot;title&quot;&gt;getDataClass&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; HomeResult.class;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; TypeReference&amp;lt;HomeResult&amp;gt; &lt;span class=&quot;title&quot;&gt;getDataTypeReference&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getRequestUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; SHHost.getMainHost()+&lt;span class=&quot;string&quot;&gt;&quot;/api/shop&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;形式2：data是JSONArray类型-1&quot;&gt;&lt;a href=&quot;#形式2：data是JSONArray类型-1&quot; class=&quot;headerlink&quot; title=&quot;形式2：data是JSONArray类型&quot;&gt;&lt;/a&gt;形式2：data是JSONArray类型&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GoodsRequest&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHGetRequest&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;GoodsRequest&lt;/span&gt;&amp;gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; Class&amp;lt;List&amp;lt;GoodsRequest&amp;gt;&amp;gt; getDataClass() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 因为TypeReference是抽象类，不可以直接new，所以需要在最后添加&amp;#123;&amp;#125;，作为匿名内部类。&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; TypeReference&amp;lt;List&amp;lt;GoodsRequest&amp;gt;&amp;gt; getDataTypeReference() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TypeReference&amp;lt;List&amp;lt;GoodsRequest&amp;gt;&amp;gt;()&amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getRequestUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; SHHost.getMainHost()+&lt;span class=&quot;string&quot;&gt;&quot;/api/shop/products&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;addParam问题&quot;&gt;&lt;a href=&quot;#addParam问题&quot; class=&quot;headerlink&quot; title=&quot;addParam问题&quot;&gt;&lt;/a&gt;addParam问题&lt;/h1&gt;&lt;p&gt;例如：request.addParam(“page”, page);&lt;br&gt;案例：在一开始的时候我们添加了page字段，此时page值为1；当我们需要加载下一页的时候，怎么修改page字段的值呢？&lt;br&gt;答：有人说直接page++即可实现，但是由于配置参数，开启请求这些操作都是在presenter类里面实现的，我们无法在viewModel类里面直接修改；此时我们只需要覆盖page字段即可，如下所示：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;loadNext&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// page如果存在, 则会被覆盖&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    goodsRequest.addParam(&lt;span class=&quot;string&quot;&gt;&quot;page&quot;&lt;/span&gt;, page);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    goodsRequest.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;显示调用接口时，手机网络请求响应过程&quot;&gt;&lt;a href=&quot;#显示调用接口时，手机网络请求响应过程&quot; class=&quot;headerlink&quot; title=&quot;显示调用接口时，手机网络请求响应过程&quot;&gt;&lt;/a&gt;显示调用接口时，手机网络请求响应过程&lt;/h1&gt;&lt;p&gt;核心思想：使用Charles软件，利用电脑代理手机网络进行监测&lt;br&gt;步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;打开手机上已经的网络的详情页&lt;/li&gt;
&lt;li&gt;在代理选项下“主机名”文本框中输入电脑上已连接网络的IP地址&lt;/li&gt;
&lt;li&gt;在代理选项下“端口”文本框中输入端口号：8888&lt;/li&gt;
&lt;li&gt;打开Charles软件，在Structure对应的文本框中选择我们请求的接口地址，进行数据监测。&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;附&quot;&gt;&lt;a href=&quot;#附&quot; class=&quot;headerlink&quot; title=&quot;附&quot;&gt;&lt;/a&gt;附&lt;/h1&gt;&lt;font color=&quot;red&quot;&gt;本文持续更新&lt;/font&gt;

&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/网络请求注意点/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/网络请求注意点/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;快速创建数据实体类&quot;&gt;&lt;a href=&quot;#快速创建数据实体类&quot; class=&quot;headerlink&quot; title=&quot;快速创建数据实体类&quot;&gt;&lt;/a&gt;快速创建数据实体类&lt;/h1&gt;&lt;p&gt;步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在AndroidStudio上安装GsonForm
    
    </summary>
    
      <category term="ShowJoy_网络请求" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
    
      <category term="网络请求" scheme="https://fengqingxiuyi.github.io/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
  </entry>
  
  <entry>
    <title>达人店-网络请求过程</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/%E8%BE%BE%E4%BA%BA%E5%BA%97-%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E8%BF%87%E7%A8%8B/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/达人店-网络请求过程/</id>
    <published>2016-08-10T09:04:14.000Z</published>
    <updated>2016-08-13T02:14:10.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;1、创建BaseActivity，执行onCreate方法，发现如下代码：&quot;&gt;&lt;a href=&quot;#1、创建BaseActivity，执行onCreate方法，发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;1、创建BaseActivity，执行onCreate方法，发现如下代码：&quot;&gt;&lt;/a&gt;1、创建BaseActivity，执行onCreate方法，发现如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;viewModel = getViewModel();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;2、进入getViewModel-方法，发现如下代码：&quot;&gt;&lt;a href=&quot;#2、进入getViewModel-方法，发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;2、进入getViewModel()方法，发现如下代码：&quot;&gt;&lt;/a&gt;2、进入getViewModel()方法，发现如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;T &lt;span class=&quot;title&quot;&gt;getViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;可以得知它是在BaseActivity的子类实现的，随便进入一个子类看看，发现原来是创建了一个子类对象，即如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; CategoryViewModel &lt;span class=&quot;title&quot;&gt;getViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; CategoryViewModel(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;3、再进入这个子类的构造方法可以发现如下代码：&quot;&gt;&lt;a href=&quot;#3、再进入这个子类的构造方法可以发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;3、再进入这个子类的构造方法可以发现如下代码：&quot;&gt;&lt;/a&gt;3、再进入这个子类的构造方法可以发现如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;CategoryViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(BaseActivity activity)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(activity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;4、继续进入查看-发现了如下代码：&quot;&gt;&lt;a href=&quot;#4、继续进入查看-发现了如下代码：&quot; class=&quot;headerlink&quot; title=&quot;4、继续进入查看,发现了如下代码：&quot;&gt;&lt;/a&gt;4、继续进入查看,发现了如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(BaseActivity activity)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.activity = activity;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.context = activity.getApplicationContext();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    init();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;5、进入init-方法发现如下代码：&quot;&gt;&lt;a href=&quot;#5、进入init-方法发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;5、进入init()方法发现如下代码：&quot;&gt;&lt;/a&gt;5、进入init()方法发现如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    presenter = getPresenter();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != presenter) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        presenter.initParams(getParams());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (presenter.requestOnStart()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            presenter.startRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;至此可以明白：在getViewModel的时候已经开始请求数据了！！！&lt;/p&gt;
&lt;h1 id=&quot;6、重新回到BaseActivity的onCreate方法中，发现它继续执行如下代码：&quot;&gt;&lt;a href=&quot;#6、重新回到BaseActivity的onCreate方法中，发现它继续执行如下代码：&quot; class=&quot;headerlink&quot; title=&quot;6、重新回到BaseActivity的onCreate方法中，发现它继续执行如下代码：&quot;&gt;&lt;/a&gt;6、重新回到BaseActivity的onCreate方法中，发现它继续执行如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;setContentView(getContentViewRes());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;activity = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;context = activity.getApplicationContext();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;viewModel.initView();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;viewModel.viewCreated();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这里我们主要查看viewCreated方法就可以了。&lt;/p&gt;
&lt;h1 id=&quot;7、进入viewCreated方法，可以发现如下代码：&quot;&gt;&lt;a href=&quot;#7、进入viewCreated方法，可以发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;7、进入viewCreated方法，可以发现如下代码：&quot;&gt;&lt;/a&gt;7、进入viewCreated方法，可以发现如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;viewCreated&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    initData();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    viewCreated = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != presenter) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        presenter.updateView();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这里我们发现了重要方法，即updateView，显而易见它是用来显示数据的，继续进入可以发现如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;updateView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!responsed) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        showCache();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (responseSuccess) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        responseSuccess(response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        responseError(responseErrorCode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;8、好，到这里重点来了，之前我们已经说过，在getViewModel的时候已经开始网络请求的，因为是异步请求，所以我们无法得知在执行第7步的时候，是否已经请求完毕，这里分两种情况：&lt;/p&gt;
&lt;h1 id=&quot;情况一：网络请求尚未完成&quot;&gt;&lt;a href=&quot;#情况一：网络请求尚未完成&quot; class=&quot;headerlink&quot; title=&quot;情况一：网络请求尚未完成&quot;&gt;&lt;/a&gt;情况一：网络请求尚未完成&lt;/h1&gt;&lt;p&gt;继续执行updateView中的代码，因为responsed默认为false，所以，此时页面是以缓存的数据进行展示的（注：如果有缓存的话）；&lt;br&gt;之后网络请求完成了，假设请求成功，则执行如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResponseSuccess&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(R r)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responsed = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseSuccess = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    response = r;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (viewModel.isViewCreated()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        updateView();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;因为responsed和viewCreated都已经是true，所以再次执行updateView方法，但因为responsed是true，所以此时的updateView方法执行以下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (responseSuccess) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseSuccess(response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseError(responseErrorCode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;即使用网络请求得到的数据重新展示页面&lt;/p&gt;
&lt;h1 id=&quot;情况二：网络请求已完成&quot;&gt;&lt;a href=&quot;#情况二：网络请求已完成&quot; class=&quot;headerlink&quot; title=&quot;情况二：网络请求已完成&quot;&gt;&lt;/a&gt;情况二：网络请求已完成&lt;/h1&gt;&lt;p&gt;这里以响应成功为例，则会执行onResponseSuccess方法，即如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResponseSuccess&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(R r)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responsed = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseSuccess = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    response = r;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (viewModel.isViewCreated()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        updateView();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;此时因为尚未执行viewCreated方法，所以不执行updateView方法，然后代码继续向下执行，即执行viewCreated方法，即如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;viewCreated&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    initData();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    viewCreated = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != presenter) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        presenter.updateView();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;显而易见，执行的是updateView方法，只不过此时responsed已经为true，所以updateView执行的是以下内容：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (responseSuccess) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseSuccess(response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseError(responseErrorCode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;即显示数据的时候不再使用缓存显示，而是用响应的数据进行展示。&lt;/p&gt;
&lt;p&gt;9、至此我们就讲完了目前 达人店 项目的网络请求过程。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/达人店-网络请求过程/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/达人店-网络请求过程/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1、创建BaseActivity，执行onCreate方法，发现如下代码：&quot;&gt;&lt;a href=&quot;#1、创建BaseActivity，执行onCreate方法，发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;1、创建BaseActivity，执
    
    </summary>
    
      <category term="ShowJoy_网络请求" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
    
      <category term="网络请求" scheme="https://fengqingxiuyi.github.io/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
  </entry>
  
</feed>
