<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>风清袖一的博客</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://fengqingxiuyi.github.io/"/>
  <updated>2016-08-13T02:08:18.000Z</updated>
  <id>https://fengqingxiuyi.github.io/</id>
  
  <author>
    <name>青峰</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>支付宝支付-注意点</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/13/Android/%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/%E6%94%AF%E4%BB%98%E5%AE%9D/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98-%E6%B3%A8%E6%84%8F%E7%82%B9/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-注意点/</id>
    <published>2016-08-13T01:35:23.000Z</published>
    <updated>2016-08-13T02:08:18.000Z</updated>
    
    <content type="html">&lt;p&gt;由于支付宝SDK对于整个支付流程已经介绍的十分详细了，在这里我就简单说一些注意点。&lt;/p&gt;
&lt;p&gt;由于存在支付宝可能没有安装的情况，所以我们在调用支付宝支付时，需要对其进行判断，做出不同的处理方式，即是使用客户端支付，还是使用H5支付，这里简单阐述一下：&lt;/p&gt;
&lt;h1 id=&quot;情况一：已安装支付宝客户端&quot;&gt;&lt;a href=&quot;#情况一：已安装支付宝客户端&quot; class=&quot;headerlink&quot; title=&quot;情况一：已安装支付宝客户端&quot;&gt;&lt;/a&gt;情况一：已安装支付宝客户端&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 唤醒支付宝支付&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; data 服务端返回订单数据&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;payOrder&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(JSONObject data)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    registerLoadingView.setVisibility(View.GONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    String redirectStr = data.getString(&lt;span class=&quot;string&quot;&gt;&quot;redirectStr&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(redirectStr)) &amp;#123;    &lt;span class=&quot;comment&quot;&gt;// 唤醒支付宝支付&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Thread payThread = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Thread(() -&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            PayTask alipay = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; PayTask(activity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String result = alipay.pay(redirectStr);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Message msg = Message.obtain();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            msg.what = MSG_PAY_RESPONSE;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            msg.obj = result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            handler.sendMessage(msg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        payThread.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Handler handler = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Handler(msg -&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (MSG_PAY_RESPONSE == msg.what) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Result result = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Result((String) msg.obj);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(result.getResult())) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (result.getResult()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;4000&quot;&lt;/span&gt;:    &lt;span class=&quot;comment&quot;&gt;// 系统异常 TODO&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Toast.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;订单支付失败&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;6001&quot;&lt;/span&gt;:    &lt;span class=&quot;comment&quot;&gt;// 用户中途取消支付操作   TODO&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Toast.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;订单支付已被取消&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;6002&quot;&lt;/span&gt;:    &lt;span class=&quot;comment&quot;&gt;// 网络连接出错   TODO&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Toast.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;网络连接出错&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;9000&quot;&lt;/span&gt;:    &lt;span class=&quot;comment&quot;&gt;// 操作成功 TODO&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Toast.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;订单支付成功&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// TODO do something...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;情况二：未安装支付宝客户端&quot;&gt;&lt;a href=&quot;#情况二：未安装支付宝客户端&quot; class=&quot;headerlink&quot; title=&quot;情况二：未安装支付宝客户端&quot;&gt;&lt;/a&gt;情况二：未安装支付宝客户端&lt;/h1&gt;&lt;p&gt;需要在Androidmanifest.xml文件中加入以下代码，即可进入H5支付流程。&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!-- 支付宝 --&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;activity&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:name=&lt;span class=&quot;string&quot;&gt;&quot;com.alipay.sdk.app.H5PayActivity&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:configChanges=&lt;span class=&quot;string&quot;&gt;&quot;orientation|keyboardHidden|navigation&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:exported=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:screenOrientation=&lt;span class=&quot;string&quot;&gt;&quot;behind&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:windowSoftInputMode=&lt;span class=&quot;string&quot;&gt;&quot;adjustResize|stateHidden&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-注意点/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-注意点/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;由于支付宝SDK对于整个支付流程已经介绍的十分详细了，在这里我就简单说一些注意点。&lt;/p&gt;
&lt;p&gt;由于存在支付宝可能没有安装的情况，所以我们在调用支付宝支付时，需要对其进行判断，做出不同的处理方式，即是使用客户端支付，还是使用H5支付，这里简单阐述一下：&lt;/p&gt;
&lt;h1 i
    
    </summary>
    
      <category term="Android_支付流程" scheme="https://fengqingxiuyi.github.io/categories/Android-%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/"/>
    
    
      <category term="支付宝支付" scheme="https://fengqingxiuyi.github.io/tags/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98/"/>
    
  </entry>
  
  <entry>
    <title>支付宝支付-相关网址</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/13/Android/%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/%E6%94%AF%E4%BB%98%E5%AE%9D/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98-%E7%9B%B8%E5%85%B3%E7%BD%91%E5%9D%80/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-相关网址/</id>
    <published>2016-08-13T01:30:33.000Z</published>
    <updated>2016-08-13T02:09:04.000Z</updated>
    
    <content type="html">&lt;p&gt;本文只是介绍一下关于&lt;code&gt;支付宝支付&lt;/code&gt;的相关网址信息，便于大家快速定位到指定位置。&lt;/p&gt;
&lt;h1 id=&quot;资源下载&quot;&gt;&lt;a href=&quot;#资源下载&quot; class=&quot;headerlink&quot; title=&quot;资源下载&quot;&gt;&lt;/a&gt;资源下载&lt;/h1&gt;&lt;p&gt;网址：&lt;a href=&quot;https://doc.open.alipay.com/doc2/detail.htm?spm=a219a.7629140.0.0.FCGmVr&amp;amp;treeId=193&amp;amp;articleId=104509&amp;amp;docType=1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;App支付DEMO&amp;amp;SDK&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;内容：&lt;/p&gt;
&lt;h2 id=&quot;App支付DEMO-amp-SDK&quot;&gt;&lt;a href=&quot;#App支付DEMO-amp-SDK&quot; class=&quot;headerlink&quot; title=&quot;App支付DEMO&amp;amp;SDK&quot;&gt;&lt;/a&gt;App支付DEMO&amp;amp;SDK&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://doc.open.alipay.com/doc2/detail.htm?treeId=204&amp;amp;articleId=105051&amp;amp;docType=1&quot; target=&quot;_blank&quot;&gt;App支付功能&lt;/a&gt;（&lt;span style=&quot;background-color: #ffff00;&quot;&gt;&lt;strong&gt;支付产品全面升级，若您使用的是老接口，请移步&lt;a style=&quot;background-color: #ffff00;&quot; href=&quot;http://doc.open.alipay.com/doc2/detail?treeId=59&amp;amp;articleId=103563&amp;amp;docType=1&quot; target=&quot;_blank&quot;&gt;老版本移动支付文档&lt;/a&gt;。&lt;/strong&gt;&lt;/span&gt;）&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;说明&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;链接&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;p&gt;iOS&amp;amp;Android版资源&lt;/p&gt; &lt;p&gt;&lt;strong&gt;说明：&lt;span style=&quot;color: #404040; font-family: Helvetica;&quot;&gt;iOS&lt;/span&gt;&lt;span style=&quot;color: #404040; font-family: &#39;PingFang SC&#39;;&quot;&gt;版&lt;/span&gt;&lt;span style=&quot;color: #404040; font-family: Helvetica;&quot;&gt;SDK&lt;/span&gt;&lt;span style=&quot;color: #404040; font-family: &#39;PingFang SC&#39;;&quot;&gt;已支持&lt;/span&gt;&lt;span style=&quot;color: #404040; font-family: Helvetica;&quot;&gt;IPv6_only&lt;/span&gt;&lt;span style=&quot;color: #404040; font-family: &#39;PingFang SC&#39;;&quot;&gt;网络&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;http://aopsdkdownload.cn-hangzhou.alipay-pub.aliyun-inc.com/demo/WS_APP_PAY_SDK_BASE.zip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SDK&amp;amp;DEMO&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;iOS&amp;amp;Android版资源（适用于集成了百川sdk，出现UTDID冲突）&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;http://aopsdkdownload.cn-hangzhou.alipay-pub.aliyun-inc.com/demo/AlipaySDK_No_UTDID.zip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SDK&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&quot;支付调用&quot;&gt;&lt;a href=&quot;#支付调用&quot; class=&quot;headerlink&quot; title=&quot;支付调用&quot;&gt;&lt;/a&gt;支付调用&lt;/h1&gt;&lt;p&gt;网址：&lt;a href=&quot;https://doc.open.alipay.com/doc2/detail.htm?spm=a219a.7629140.0.0.o8hixH&amp;amp;treeId=204&amp;amp;articleId=105296&amp;amp;docType=1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;App支付Android集成流程详解&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-相关网址/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/支付宝/支付宝支付-相关网址/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;本文只是介绍一下关于&lt;code&gt;支付宝支付&lt;/code&gt;的相关网址信息，便于大家快速定位到指定位置。&lt;/p&gt;
&lt;h1 id=&quot;资源下载&quot;&gt;&lt;a href=&quot;#资源下载&quot; class=&quot;headerlink&quot; title=&quot;资源下载&quot;&gt;&lt;/a&gt;资源下载&lt;/h1&gt;&lt;p&gt;网址：&lt;
    
    </summary>
    
      <category term="Android_支付流程" scheme="https://fengqingxiuyi.github.io/categories/Android-%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/"/>
    
    
      <category term="支付宝支付" scheme="https://fengqingxiuyi.github.io/tags/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98/"/>
    
  </entry>
  
  <entry>
    <title>微信支付-相关网址</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/13/Android/%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/%E5%BE%AE%E4%BF%A1/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98-%E7%9B%B8%E5%85%B3%E7%BD%91%E5%9D%80/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/微信/微信支付-相关网址/</id>
    <published>2016-08-13T01:13:35.000Z</published>
    <updated>2016-08-13T02:09:16.000Z</updated>
    
    <content type="html">&lt;p&gt;本文只是介绍一下关于&lt;code&gt;微信支付&lt;/code&gt;的相关网址信息，便于大家快速定位到指定位置。&lt;/p&gt;
&lt;h1 id=&quot;资源下载&quot;&gt;&lt;a href=&quot;#资源下载&quot; class=&quot;headerlink&quot; title=&quot;资源下载&quot;&gt;&lt;/a&gt;资源下载&lt;/h1&gt;&lt;p&gt;网址：&lt;a href=&quot;https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;amp;t=resource/res_list&amp;amp;verify=1&amp;amp;id=open1419319167&amp;amp;token=&amp;amp;lang=zh_CN&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android资源下载&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;内容：&lt;/p&gt;
&lt;h2 id=&quot;Android资源下载&quot;&gt;&lt;a href=&quot;#Android资源下载&quot; class=&quot;headerlink&quot; title=&quot;Android资源下载&quot;&gt;&lt;/a&gt;Android资源下载&lt;/h2&gt;&lt;hr&gt;
&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WeChatSDK_Android221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(34, 34, 34); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;开发工具包（SDK）&lt;/span&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;no_extra&quot; style=&quot;margin-top: 0px; margin-bottom: 0px; padding-bottom: 0px;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;使用微信分享、登录、收藏、支付等功能需要的库以及文件。点击下载&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/Android_SDK_3.1.1.zip&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;Android开发工具包&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;no_extra&quot; style=&quot;margin-top: 0px; margin-bottom: 0px; padding-bottom: 0px;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;使用微信语音识别接口、语音合成接口。点击下载&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WXVoice_Android_3.0.2221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;语音SDK+Demo+开发文档&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;no_extra&quot; style=&quot;margin-top: 0px; margin-bottom: 0px; padding-bottom: 0px;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;使用微信图像识别接口。点击下载&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WXImg_Android_2.0.2221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;图像SDK+Demo+开发文档&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;no_extra&quot; style=&quot;margin-top: 0px; margin-bottom: 0px; padding-bottom: 0px;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;使用微信卡券功能接口。点击下载&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WXTicket_Android221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;卡券SDK+开发文档&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WeChatSDK_sample_Android221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(34, 34, 34); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;范例代码&lt;/span&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;包含了一个完整的范例工程。该范例的使用可以参阅Android平台上手指南：HelloWeixin@Android。&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/WeChatSDK_sample_Android221cbf.zip&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;点击下载&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;outline: 0px; color: rgb(34, 34, 34); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;outline: 0px; color: rgb(34, 34, 34); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/Gen_Signature_Android221cbf.apk&quot; style=&quot;outline: 0px; color: rgb(34, 34, 34); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;签名生成工具&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;用于获取安装到手机的第三方应用签名的apk包。点击下载&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/Gen_Signature_Android2.apk&quot; style=&quot;outline: 0px; color: rgb(50, 146, 255); text-decoration: underline; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;签名生成工具&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;h1 id=&quot;支付调用&quot;&gt;&lt;a href=&quot;#支付调用&quot; class=&quot;headerlink&quot; title=&quot;支付调用&quot;&gt;&lt;/a&gt;支付调用&lt;/h1&gt;&lt;p&gt;网址：&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=8_1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;APP支付调用&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/微信/微信支付-相关网址/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/13/Android/支付流程/微信/微信支付-相关网址/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;本文只是介绍一下关于&lt;code&gt;微信支付&lt;/code&gt;的相关网址信息，便于大家快速定位到指定位置。&lt;/p&gt;
&lt;h1 id=&quot;资源下载&quot;&gt;&lt;a href=&quot;#资源下载&quot; class=&quot;headerlink&quot; title=&quot;资源下载&quot;&gt;&lt;/a&gt;资源下载&lt;/h1&gt;&lt;p&gt;网址：&lt;a
    
    </summary>
    
      <category term="Android_支付流程" scheme="https://fengqingxiuyi.github.io/categories/Android-%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B/"/>
    
    
      <category term="微信支付" scheme="https://fengqingxiuyi.github.io/tags/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/"/>
    
  </entry>
  
  <entry>
    <title>类微信图片压缩算法</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/11/Android/%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/%E7%B1%BB%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩算法/</id>
    <published>2016-08-11T03:10:45.000Z</published>
    <updated>2016-08-11T03:24:42.000Z</updated>
    
    <content type="html">&lt;p&gt;原文出处：&lt;a href=&quot;https://github.com/Curzibn/Luban/blob/master/DESCRIPTION.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luban/blob/master/DESCRIPTION.md&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;官方网址：&lt;a href=&quot;https://github.com/Curzibn/Luban/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luban/&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;Luban 是图片压缩工具，通过参考或者自创压缩规则推求极致的压缩效果&lt;br&gt;目前的版本压缩效果主要参考微信。因为微信用户量最大，如果压缩后的图片越接近微信则越被用户接受。&lt;/p&gt;
&lt;h1 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h1&gt;&lt;p&gt;目前的 Luban 只是压缩结果接近微信，自身的算法只是为了达到这个效果而设计的。与微信并无任何联系，也不敢妄称是微信的算法。&lt;/p&gt;
&lt;h1 id=&quot;算法步骤&quot;&gt;&lt;a href=&quot;#算法步骤&quot; class=&quot;headerlink&quot; title=&quot;算法步骤&quot;&gt;&lt;/a&gt;算法步骤&lt;/h1&gt;&lt;p&gt;注：下文所说“比例”统一表示：图片短边除以长边为该图片比例&lt;/p&gt;
&lt;h2 id=&quot;第三挡压缩（参考最新版微信压缩效果）&quot;&gt;&lt;a href=&quot;#第三挡压缩（参考最新版微信压缩效果）&quot; class=&quot;headerlink&quot; title=&quot;第三挡压缩（参考最新版微信压缩效果）&quot;&gt;&lt;/a&gt;第三挡压缩（参考最新版微信压缩效果）&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;判断图片比例值，是否处于以下区间内；&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[1, 0.5625)    即图片处于 [1:1 ~ 9:16) 比例范围内&lt;/li&gt;
&lt;li&gt;[0.5625, 0.5)  即图片处于 [9:16 ~ 1:2) 比例范围内&lt;/li&gt;
&lt;li&gt;[0.5, 0)       即图片处于 [1:2 ~ 1:∞) 比例范围内&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;判断图片最长边是否过边界值；&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[1, 0.5625)   边界值为：1664 &lt;em&gt; n（n=1）, 4990 &lt;/em&gt; n（n=2）, 1280 * pow(2, n-1)（n≥3）&lt;/li&gt;
&lt;li&gt;[0.5625, 0.5) 边界值为：1280 * pow(2, n-1)（n≥1）&lt;/li&gt;
&lt;li&gt;[0.5, 0)      边界值为：1280 * pow(2, n-1)（n≥1）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;计算压缩图片实际边长值，以第2步计算结果为准，超过某个边界值则：width / pow(2, n-1)，height/pow(2, n-1)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;计算压缩图片的实际文件大小，以第2、3步结果为准，图片比例越大则文件越大。&lt;/p&gt;
&lt;p&gt; size = (newW &lt;em&gt; newH) / (width &lt;/em&gt; height) * m；&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[1, 0.5625) 则 width &amp;amp; height 对应 1664，4990，1280 * n（n≥3），m 对应 150，300，300；&lt;/li&gt;
&lt;li&gt;[0.5625, 0.5) 则 width = 1440，height = 2560, m = 200；&lt;/li&gt;
&lt;li&gt;[0.5, 0) 则 width = 1280，height = 1280 / scale，m = 500；注：scale为比例值&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;判断第4步的size是否过小&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[1, 0.5625) 则最小 size 对应 60，60，100&lt;/li&gt;
&lt;li&gt;[0.5625, 0.5) 则最小 size 都为 100&lt;/li&gt;
&lt;li&gt;[0.5, 0) 则最小 size 都为 100&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;6.将前面求到的值压缩图片 width, height, size 传入压缩流程，压缩图片直到满足以上数值&lt;/p&gt;
&lt;h1 id=&quot;附&quot;&gt;&lt;a href=&quot;#附&quot; class=&quot;headerlink&quot; title=&quot;附&quot;&gt;&lt;/a&gt;附&lt;/h1&gt;&lt;font color=&quot;red&quot;&gt;以上具体数值均由逆推微信朋友圈所得&lt;/font&gt;


&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩算法/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩算法/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;原文出处：&lt;a href=&quot;https://github.com/Curzibn/Luban/blob/master/DESCRIPTION.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luba
    
    </summary>
    
      <category term="Android_图片压缩" scheme="https://fengqingxiuyi.github.io/categories/Android-%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/"/>
    
    
  </entry>
  
  <entry>
    <title>类微信图片压缩使用</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/11/Android/%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/%E7%B1%BB%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E4%BD%BF%E7%94%A8/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩使用/</id>
    <published>2016-08-11T03:03:45.000Z</published>
    <updated>2016-08-11T03:24:34.000Z</updated>
    
    <content type="html">&lt;p&gt;原文出处：&lt;a href=&quot;https://github.com/Curzibn/Luban/blob/master/README.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luban/blob/master/README.md&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;官方网址：&lt;a href=&quot;https://github.com/Curzibn/Luban/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luban/&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;Luban&quot;&gt;&lt;a href=&quot;#Luban&quot; class=&quot;headerlink&quot; title=&quot;Luban&quot;&gt;&lt;/a&gt;Luban&lt;/h1&gt;&lt;p&gt;Luban(鲁班)——Android图片压缩工具，仿微信朋友圈压缩策略&lt;/p&gt;
&lt;h1 id=&quot;项目描述&quot;&gt;&lt;a href=&quot;#项目描述&quot; class=&quot;headerlink&quot; title=&quot;项目描述&quot;&gt;&lt;/a&gt;项目描述&lt;/h1&gt;&lt;p&gt;目前做app开发总绕不开图片这个元素。但是随着手机拍照分辨率的提升，图片的压缩成为一个很重要的问题。单纯对图片进行裁切，压缩已经有很多文章介绍。但是裁切成多少，压缩成多少却很难控制好，裁切过头图片太小，质量压缩过头则显示效果太差。&lt;/p&gt;
&lt;p&gt;于是自然想到app巨头“微信”会是怎么处理，Luban(鲁班)就是通过在微信朋友圈发送近100张不同分辨率图片，对比原图与微信压缩后的图片逆向推算出来的压缩算法。&lt;/p&gt;
&lt;p&gt;因为有其他语言也想要实现 Luban，所以描述了一遍&lt;a href=&quot;../类微信图片压缩算法/index.html&quot;&gt;算法步骤&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;因为是逆向推算，效果还没法跟微信一模一样，但是已经很接近微信朋友圈压缩后的效果，具体看以下对比！&lt;/p&gt;
&lt;h1 id=&quot;效果与对比&quot;&gt;&lt;a href=&quot;#效果与对比&quot; class=&quot;headerlink&quot; title=&quot;效果与对比&quot;&gt;&lt;/a&gt;效果与对比&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;内容&lt;/th&gt;
&lt;th&gt;原图&lt;/th&gt;
&lt;th&gt;Luban&lt;/th&gt;
&lt;th&gt;Wechat&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;截屏 720P&lt;/td&gt;
&lt;td&gt;720*1280,390k&lt;/td&gt;
&lt;td&gt;720*1280,87k&lt;/td&gt;
&lt;td&gt;720*1280,56k&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;截屏 1080P&lt;/td&gt;
&lt;td&gt;1080*1920,2.21M&lt;/td&gt;
&lt;td&gt;1080*1920,104k&lt;/td&gt;
&lt;td&gt;1080*1920,112k&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;拍照 13M(4:3)&lt;/td&gt;
&lt;td&gt;3096*4128,3.12M&lt;/td&gt;
&lt;td&gt;1548*2064,141k&lt;/td&gt;
&lt;td&gt;1548*2064,147k&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;拍照 9.6M(16:9)&lt;/td&gt;
&lt;td&gt;4128*2322,4.64M&lt;/td&gt;
&lt;td&gt;1032*581,97k&lt;/td&gt;
&lt;td&gt;1032*581,74k&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;滚动截屏&lt;/td&gt;
&lt;td&gt;1080*6433,1.56M&lt;/td&gt;
&lt;td&gt;1080*6433,351k&lt;/td&gt;
&lt;td&gt;1080*6433,482k&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&quot;导入&quot;&gt;&lt;a href=&quot;#导入&quot; class=&quot;headerlink&quot; title=&quot;导入&quot;&gt;&lt;/a&gt;导入&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;compile &amp;apos;io.reactivex:rxandroid:1.2.1&amp;apos;
compile &amp;apos;io.reactivex:rxjava:1.1.6&amp;apos;

compile &amp;apos;top.zibin:Luban:1.0.5&amp;apos;
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;使用&quot;&gt;&lt;a href=&quot;#使用&quot; class=&quot;headerlink&quot; title=&quot;使用&quot;&gt;&lt;/a&gt;使用&lt;/h1&gt;&lt;h2 id=&quot;Listener方式&quot;&gt;&lt;a href=&quot;#Listener方式&quot; class=&quot;headerlink&quot; title=&quot;Listener方式&quot;&gt;&lt;/a&gt;Listener方式&lt;/h2&gt;&lt;p&gt;Luban内部采用io线程进行图片压缩，外部调用只需设置好结果监听即可&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Luban.get(this)
    .load(File)                     //传人要压缩的图片
    .putGear(Luban.THIRD_GEAR)      //设定压缩档次，默认三挡
    .setCompressListener(new OnCompressListener() { //设置回调

        @Override
        public void onStart() {
            //TODO 压缩开始前调用，可以在方法内启动 loading UI
        }
        @Override
        public void onSuccess(File file) {
            //TODO 压缩成功后调用，返回压缩后的图片文件
        }

        @Override
        public void onError(Throwable e) {
            //TODO 当压缩过去出现问题时调用
        }
    }).launch();    //启动压缩
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;RxJava方式&quot;&gt;&lt;a href=&quot;#RxJava方式&quot; class=&quot;headerlink&quot; title=&quot;RxJava方式&quot;&gt;&lt;/a&gt;RxJava方式&lt;/h2&gt;&lt;p&gt;RxJava 调用方式请自行随意控制线程&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Luban.get(this)
        .load(file)
        .putGear(Luban.THIRD_GEAR)
        .asObservable()
        .subscribeOn(Schedulers.io())
        .observeOn(AndroidSchedulers.mainThread())
        .doOnError(new Action1&amp;lt;Throwable&amp;gt;() {
            @Override
            public void call(Throwable throwable) {
                throwable.printStackTrace();
            }
        })
        .onErrorResumeNext(new Func1&amp;lt;Throwable, Observable&amp;lt;? extends File&amp;gt;&amp;gt;() {
            @Override
            public Observable&amp;lt;? extends File&amp;gt; call(Throwable throwable) {
                return Observable.empty();
            }
        })
        .subscribe(new Action1&amp;lt;File&amp;gt;() {
            @Override
            public void call(File file) {
                //TODO 压缩成功后调用，返回压缩后的图片文件
            }
        });
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;License&quot;&gt;&lt;a href=&quot;#License&quot; class=&quot;headerlink&quot; title=&quot;License&quot;&gt;&lt;/a&gt;License&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;Copyright 2016 Zheng Zibin

Licensed under the Apache License, Version 2.0 (the &amp;quot;License&amp;quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &amp;quot;AS IS&amp;quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩使用/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/11/Android/图片压缩/类微信图片压缩使用/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;原文出处：&lt;a href=&quot;https://github.com/Curzibn/Luban/blob/master/README.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Curzibn/Luban/blo
    
    </summary>
    
      <category term="Android_图片压缩" scheme="https://fengqingxiuyi.github.io/categories/Android-%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/"/>
    
    
  </entry>
  
  <entry>
    <title>细说Android事件传递机制(dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent)</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/11/Android/%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6/%E7%BB%86%E8%AF%B4Android%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6(dispatchTouchEvent%E3%80%81onInterceptTouchEvent%E3%80%81onTouchEvent)/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/11/Android/事件传递机制/细说Android事件传递机制(dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent)/</id>
    <published>2016-08-11T02:17:45.000Z</published>
    <updated>2016-08-11T03:34:34.000Z</updated>
    
    <content type="html">&lt;p&gt;原文出处：&lt;a href=&quot;http://blog.csdn.net/yanzi1225627/article/details/22592831&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/yanzi1225627/article/details/22592831&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;作者: yanzi1225627&lt;/p&gt;
&lt;div id=&quot;article_content&quot; class=&quot;article_content&quot;&gt;&lt;br&gt;&lt;p&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;    &lt;/span&gt;本文背景:前些天用到了之前写的&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/yanzi1225627/article/details/8633872&quot;&gt;自定义图片文字复合控件&lt;/a&gt;，在给他设置监听时遇到了麻烦。虽然最后解决了问题，但发现在不重写LinearLayout的onInterceptTouchEvent时，子ImageView、子TextView、父Linearlayout三者不同的属性配置(android:clickable android:focuseable)会造成自定义控件onClick监听失败、或成功。复写了父Linearlayout 的onInterceptTouchEvent时，监听不受子图片、子文字的属性影响。为知其所以然，深入研究android的事件传递机制，记录于此。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;h1&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;一、View的dispatchTouchEvent和onTouchEvent&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;探讨Android事件传递机制前，明确android的两大基础控件类型:View和ViewGroup。View即普通的控件，没有子布局的，如Button、TextView. ViewGroup继承自View，表示可以有子控件，如Linearlayout、Listview这些。而事件即MotionEvent，最重要的有3个:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;(1)MotionEvent.ACTION_DOWN &amp;nbsp;按下View，是所有事件的开始&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;(2)MotionEvent.ACTION_MOVE &amp;nbsp; 滑动事件&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;(3)MotionEvent.ACTION_UP &amp;nbsp; &amp;nbsp; &amp;nbsp; 与down对应，表示抬起&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;另外，明确事件传递机制的最终目的都是为了触发执行View的点击监听和触摸监听:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;        &lt;/span&gt;&lt;strong&gt;**&lt;/strong&gt;.setOnClickListener(new View.OnClickListener() {&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;@Override&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;public void onClick(View v) {&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;                &lt;/span&gt;// TODO Auto-generated method stub&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;                &lt;/span&gt;Log.i(tag, &amp;quot;testLinelayout—onClick…&amp;quot;);&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;}&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;        &lt;/span&gt;});&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;        &lt;/span&gt;&lt;strong&gt;&lt;em&gt;*&lt;/em&gt;&lt;/strong&gt;.setOnTouchListener(new View.OnTouchListener() {&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;@Override&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;public boolean onTouch(View v, MotionEvent event) {&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;                &lt;/span&gt;// TODO Auto-generated method stub&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;                &lt;/span&gt;return false;&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;}&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;        &lt;/span&gt;});&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;我们简称为onClick监听和onTouch监听，一般程序会注册这两个监听。从上面可以看到，onTouch监听里默认return false。不要小看了这个return false，后面可以看到它有大用。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;对于View来说，事件传递机制有两个函数：&lt;span style=&quot;color:#ff0000;&quot;&gt;dispatchTouchEvent&lt;/span&gt;负责分发事件，在dispatch&lt;strong&gt;*里又会调用&lt;span style=&quot;color:#ff0000;&quot;&gt;onTouchEvent&lt;/span&gt;表示执行事件，或者说消费事件，结合源码分析其流程。事件传递的入口是View的dispatchTouchEvent()函数:&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_1_7835809&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;    /&lt;br&gt;     &lt;em&gt; Pass the touch screen motion event down to the target view, or this
     &lt;/em&gt; view if it is the target.&lt;br&gt;     &lt;em&gt;
     &lt;/em&gt; @param event The motion event to be dispatched.&lt;br&gt;     &lt;em&gt; @return True if the event was handled by the view, false otherwise.
     &lt;/em&gt;/&lt;br&gt;    public boolean dispatchTouchEvent(MotionEvent event) {&lt;br&gt;        if (mInputEventConsistencyVerifier != null) {&lt;br&gt;            mInputEventConsistencyVerifier.onTouchEvent(event, 0);&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        if (onFilterTouchEventForSecurity(event)) {&lt;br&gt;            //noinspection SimplifiableIfStatement&lt;br&gt;            ListenerInfo li = mListenerInfo;&lt;br&gt;            if (li != null &amp;amp;&amp;amp; li.mOnTouchListener != null &amp;amp;&amp;amp; (mViewFlags &amp;amp; ENABLED_MASK) == ENABLED&lt;br&gt;                    &amp;amp;&amp;amp; li.mOnTouchListener.onTouch(this, event)) {&lt;br&gt;                return true;&lt;br&gt;            }&lt;br&gt;&lt;br&gt;            if (onTouchEvent(event)) {&lt;br&gt;                return true;&lt;br&gt;            }&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        if (mInputEventConsistencyVerifier != null) {&lt;br&gt;            mInputEventConsistencyVerifier.onUnhandledEvent(event, 0);&lt;br&gt;        }&lt;br&gt;        return false;&lt;br&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;找到这个判断:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;color:#ff0000;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (li != null &amp;amp;&amp;amp; li.mOnTouchListener != null &amp;amp;&amp;amp; (mViewFlags &amp;amp; ENABLED_MASK) == ENABLED&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;amp;&amp;amp; li.mOnTouchListener.onTouch(this, event)) {&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return true;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;他会执行View的OnTouchListener.onTouch这个函数，也就是上面说的onTouch监听。里面有三个判断，如果三个都为1，就会执行return true，不往下走了。而默认的onTouch监听返回false，只要一个是false，就不会返回true。接着往下看，程序执行onTouchEvent：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_2_3419135&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;            if (onTouchEvent(event)) {&lt;br&gt;                return true;&lt;br&gt;            }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;onTouchEvent的源码比较多，贴最重要的:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_3_9450183&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;                        if (!mHasPerformedLongPress) {&lt;br&gt;                            // This is a tap, so remove the longpress check&lt;br&gt;                            removeLongPressCallback();&lt;br&gt;&lt;br&gt;                            // Only perform take click actions if we were in the pressed state&lt;br&gt;                            if (!focusTaken) {&lt;br&gt;                                // Use a Runnable and post this rather than calling&lt;br&gt;                                // performClick directly. This lets other visual state&lt;br&gt;                                // of the view update before click actions start.&lt;br&gt;                                if (mPerformClick == null) {&lt;br&gt;                                    mPerformClick = new PerformClick();&lt;br&gt;                                }&lt;br&gt;                                if (!post(mPerformClick)) {&lt;br&gt;                                   &lt;span style=&quot;color:#ff0000;&quot;&gt; performClick();&lt;/span&gt;&lt;br&gt;                                }&lt;br&gt;                            }&lt;br&gt;                        }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;可以看到有个&lt;span style=&quot;color:#ff0000;&quot;&gt;performClick()&lt;/span&gt;,它的源码里有这么一句&lt;span style=&quot;color:#ff0000;&quot;&gt;&amp;nbsp;li.mOnClickListener.onClick(this);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_4_5829896&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;    public boolean performClick() {&lt;br&gt;        sendAccessibilityEvent(AccessibilityEvent.TYPE_VIEW_CLICKED);&lt;br&gt;&lt;br&gt;        ListenerInfo li = mListenerInfo;&lt;br&gt;        if (li != null &amp;amp;&amp;amp; li.mOnClickListener != null) {&lt;br&gt;            playSoundEffect(SoundEffectConstants.CLICK);&lt;br&gt;            &lt;span style=&quot;color:#ff0000;&quot;&gt;&lt;strong&gt;li.mOnClickListener.onClick(this);&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;            return true;&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        return false;&lt;br&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;终于对上了，它执行了我们注册的onClick监听。当然执行前会经过一系列判断，是否注册了监听等。&lt;br&gt;总结:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;1、事件入口是dispatchTouchEvent(),它会先执行注册的onTouch监听,如果一切顺利的话，接着执行onTouchEvent，在onTouchEvent里会执行onClick监听。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;2、无论是dispatchTouchEvent还是onTouchEvent，如果返回true表示这个事件已经被消费、处理了，不再往下传了。在dispathTouchEvent的源码里可以看到，如果onTouchEvent返回了true，那么它也返回true。如果dispatch&lt;strong&gt;&lt;em&gt;在执行onTouch监听的时候，onTouch返回了true，那么它也返回true，这个事件提前被onTouch消费掉了。就不再执行onTouchEvent了，更别说onClick监听了。&lt;/em&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;3、我们通常在onTouch监听了设置图片一旦被触摸就改变它的背景、透明度之类的，这个onTouch表示事件的时机。而在onClick监听了去具体干某些事。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;下面通过代码来说明,自定义一个TestButton继承自Button，重写它的dispath和onTouchEvent方法，为了简单只关注down和up事件。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_5_8796282&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;package org.yanzi.ui;&lt;br&gt;&lt;br&gt;import android.content.Context;&lt;br&gt;import android.util.AttributeSet;&lt;br&gt;import android.util.Log;&lt;br&gt;import android.view.MotionEvent;&lt;br&gt;import android.widget.Button;&lt;br&gt;&lt;br&gt;public class TestButton extends Button {&lt;br&gt;    private final static String tag = &amp;quot;yan&amp;quot;;&lt;br&gt;    public TestButton(Context context, AttributeSet attrs) {&lt;br&gt;        super(context, attrs);&lt;br&gt;        // TODO Auto-generated constructor stub&lt;br&gt;    }&lt;br&gt;    @Override&lt;br&gt;    public boolean onTouchEvent(MotionEvent event) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(event.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;TestButton-onTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;TestButton-onTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.onTouchEvent(event);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    @Override&lt;br&gt;    public boolean dispatchTouchEvent(MotionEvent event) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(event.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;TestButton-dispatchTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;TestButton-dispatchTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        return super.dispatchTouchEvent(event);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;在Activity里注册两个监听:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_6_6255790&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;        testBtn.setOnClickListener(new View.OnClickListener() {&lt;br&gt;&lt;br&gt;            @Override&lt;br&gt;            public void onClick(View v) {&lt;br&gt;                // TODO Auto-generated method stub&lt;br&gt;                Log.i(tag, &amp;quot;testBtn—onClick…&amp;quot;);&lt;br&gt;            }&lt;br&gt;        });&lt;br&gt;        testBtn.setOnTouchListener(new View.OnTouchListener() {&lt;br&gt;&lt;br&gt;            @Override&lt;br&gt;            public boolean onTouch(View v, MotionEvent event) {&lt;br&gt;                // TODO Auto-generated method stub&lt;br&gt;                switch(event.getAction()){&lt;br&gt;                case MotionEvent.ACTION_DOWN:&lt;br&gt;                    Log.i(tag, &amp;quot;testBtn-onTouch-ACTION_DOWN…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                case MotionEvent.ACTION_UP:&lt;br&gt;                    Log.i(tag, &amp;quot;testBtn-onTouch-ACTION_UP…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                default:break;&lt;br&gt;&lt;br&gt;                }&lt;br&gt;                return false;&lt;br&gt;            }&lt;br&gt;        });&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;同时复写Activity的dispatch方法和onTouchEvent方法：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_7_683656&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;@Override&lt;br&gt;    public boolean dispatchTouchEvent(MotionEvent ev) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(ev.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;MainActivity-dispatchTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;MainActivity-dispatchTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.dispatchTouchEvent(ev);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    @Override&lt;br&gt;    public boolean onTouchEvent(MotionEvent event) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(event.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;MainActivity-onTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;MainActivity-onTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.onTouchEvent(event);&lt;br&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;最终一次点击，打印信息如下:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 33: 01-08 14:59:45.847 I/yan &amp;nbsp; &amp;nbsp; ( 4613): MainActivity-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 35: 01-08 14:59:45.849 I/yan &amp;nbsp; &amp;nbsp; ( 4613): TestButton-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 37: 01-08 14:59:45.849 I/yan &amp;nbsp; &amp;nbsp; ( 4613): testBtn-onTouch-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 39: 01-08 14:59:45.849 I/yan &amp;nbsp; &amp;nbsp; ( 4613): TestButton-onTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 41: 01-08 14:59:45.939 I/yan &amp;nbsp; &amp;nbsp; ( 4613): MainActivity-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 43: 01-08 14:59:45.941 I/yan &amp;nbsp; &amp;nbsp; ( 4613): TestButton-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 45: 01-08 14:59:45.944 I/yan &amp;nbsp; &amp;nbsp; ( 4613): testBtn-onTouch-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 47: 01-08 14:59:45.946 I/yan &amp;nbsp; &amp;nbsp; ( 4613): TestButton-onTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 49: 01-08 14:59:45.974 I/yan &amp;nbsp; &amp;nbsp; ( 4613): testBtn—onClick…&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;事件先由Activity的dispatchTouchEvent进行分发，然后TestButton的dispatchTouchEvent进行分发，接着执行onTouch监听，然后执行onTouchEvent。第二次UP动作的时候，在onTouchEvent里又执行了onClick监听。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;如果我们想这个TestButton只能执行onTouch监听不能执行onClick监听，方法有很多。在onTouch监听里默认返回false改为true，如下:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_8_3475319&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;testBtn.setOnTouchListener(new View.OnTouchListener() {&lt;br&gt;&lt;br&gt;            @Override&lt;br&gt;            public boolean onTouch(View v, MotionEvent event) {&lt;br&gt;                // TODO Auto-generated method stub&lt;br&gt;                switch(event.getAction()){&lt;br&gt;                case MotionEvent.ACTION_DOWN:&lt;br&gt;                    Log.i(tag, &amp;quot;testBtn-onTouch-ACTION_DOWN…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                case MotionEvent.ACTION_UP:&lt;br&gt;                    Log.i(tag, &amp;quot;testBtn-onTouch-ACTION_UP…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                default:break;&lt;br&gt;&lt;br&gt;                }&lt;br&gt;                return true;&lt;br&gt;            }&lt;br&gt;        });&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;事件流程为:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 75: 01-08 15:05:51.627 I/yan &amp;nbsp; &amp;nbsp; ( 5262): MainActivity-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 77: 01-08 15:05:51.628 I/yan &amp;nbsp; &amp;nbsp; ( 5262): TestButton-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 79: 01-08 15:05:51.629 I/yan &amp;nbsp; &amp;nbsp; ( 5262): testBtn-onTouch-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 81: 01-08 15:05:51.689 I/yan &amp;nbsp; &amp;nbsp; ( 5262): MainActivity-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 83: 01-08 15:05:51.691 I/yan &amp;nbsp; &amp;nbsp; ( 5262): TestButton-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 85: 01-08 15:05:51.695 I/yan &amp;nbsp; &amp;nbsp; ( 5262): testBtn-onTouch-ACTION_UP…&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;可以看到压根就没执行onTouchEvent。因为onTouch返回了true，已提前将这个事件消费了，就不往下传了，dispatch流程提前终止。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;h1&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;二、ViewGroup的dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;再来看ViewGroup，在复写ViewGroup时可以发现它的onTouchEvent在在View里的，表示这两个方法是一样的。但dispatchTouchEvent是在ViewGroup里的，表示和View的dispatchTouchEvent不一样，多了一个onInterceptTouchEvent函数，表示拦截的意思。&lt;a target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/xiaoQLu/archive/2012/04/28/2474443.html&quot;&gt;链接&lt;/a&gt;&amp;nbsp;打个很形象的比喻，这玩意就像个秘书、谋士。为啥View没有呢，因为它级别不够，一个Button里面是不可能有子View的。但LinearLayout(继承ViewGroup)就有孩子(子布局)，这个onInterceptTouchEvent就会判断事件要不要通知它的孩子呢。它的源码如下：&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_9_378420&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;    public boolean dispatchTouchEvent(MotionEvent ev) {&lt;br&gt;        if (mInputEventConsistencyVerifier != null) {&lt;br&gt;            mInputEventConsistencyVerifier.onTouchEvent(ev, 1);&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        boolean handled = false;&lt;br&gt;        if (onFilterTouchEventForSecurity(ev)) {&lt;br&gt;            final int action = ev.getAction();&lt;br&gt;            final int actionMasked = action &amp;amp; MotionEvent.ACTION_MASK;&lt;br&gt;&lt;br&gt;            // Handle an initial down.&lt;br&gt;            if (actionMasked == MotionEvent.ACTION_DOWN) {&lt;br&gt;                // Throw away all previous state when starting a new touch gesture.&lt;br&gt;                // The framework may have dropped the up or cancel event for the previous gesture&lt;br&gt;                // due to an app switch, ANR, or some other state change.&lt;br&gt;                cancelAndClearTouchTargets(ev);&lt;br&gt;                resetTouchState();&lt;br&gt;            }&lt;br&gt;&lt;br&gt;            // Check for interception.&lt;br&gt;            final boolean intercepted;&lt;br&gt;            if (actionMasked == MotionEvent.ACTION_DOWN&lt;br&gt;                    || mFirstTouchTarget != null) {&lt;br&gt;                final boolean disallowIntercept = (mGroupFlags &amp;amp; FLAG_DISALLOW_INTERCEPT) != 0;&lt;br&gt;                if (!disallowIntercept) {&lt;br&gt;                    &lt;strong&gt;&lt;span style=&quot;color:#ff0000;&quot;&gt;intercepted = onInterceptTouchEvent(ev);&lt;/span&gt;&lt;/strong&gt;&lt;br&gt;                    ev.setAction(action); // restore action in case it was changed&lt;br&gt;                } else {&lt;br&gt;                    intercepted = false;&lt;br&gt;                }&lt;br&gt;            } else {&lt;br&gt;                // There are no touch targets and this action is not an initial down&lt;br&gt;                // so this view group continues to intercept touches.&lt;br&gt;                intercepted = true;&lt;br&gt;            }&lt;br&gt;&lt;br&gt;            // Check for cancelation.&lt;br&gt;            final boolean canceled = resetCancelNextUpFlag(this)&lt;br&gt;                    || actionMasked == MotionEvent.ACTION_CANCEL;&lt;br&gt;&lt;br&gt;            // Update list of touch targets for pointer down, if needed.&lt;br&gt;            final boolean split = (mGroupFlags &amp;amp; FLAG_SPLIT_MOTION_EVENTS) != 0;&lt;br&gt;            TouchTarget newTouchTarget = null;&lt;br&gt;            boolean alreadyDispatchedToNewTouchTarget = false;&lt;br&gt;            &lt;strong&gt;&lt;span style=&quot;color:#ff0000;&quot;&gt;if (!canceled &amp;amp;&amp;amp; !intercepted)&lt;/span&gt;&lt;/strong&gt; {&lt;br&gt;                if (actionMasked == MotionEvent.ACTION_DOWN&lt;br&gt;                        || (split &amp;amp;&amp;amp; actionMasked == MotionEvent.ACTION_POINTER_DOWN)&lt;br&gt;                        || actionMasked == MotionEvent.ACTION_HOVER_MOVE) {&lt;br&gt;                    final int actionIndex = ev.getActionIndex(); // always 0 for down&lt;br&gt;                    final int idBitsToAssign = split ? 1 &amp;lt;&amp;lt; ev.getPointerId(actionIndex)&lt;br&gt;                            : TouchTarget.ALL_POINTER_IDS;&lt;br&gt;&lt;br&gt;                    // Clean up earlier touch targets for this pointer id in case they&lt;br&gt;                    // have become out of sync.&lt;br&gt;                    removePointersFromTouchTargets(idBitsToAssign);&lt;br&gt;&lt;br&gt;                    final int childrenCount = mChildrenCount;&lt;br&gt;                    if (childrenCount != 0) {&lt;br&gt;                        // Find a child that can receive the event.&lt;br&gt;                        // Scan children from front to back.&lt;br&gt;                        final View[] children = mChildren;&lt;br&gt;                        final float x = ev.getX(actionIndex);&lt;br&gt;                        final float y = ev.getY(actionIndex);&lt;br&gt;&lt;br&gt;                        final boolean customOrder = isChildrenDrawingOrderEnabled();&lt;br&gt;                        for (int i = childrenCount - 1; i &amp;gt;= 0; i–) {&lt;br&gt;                            final int childIndex = customOrder ?&lt;br&gt;                                    getChildDrawingOrder(childrenCount, i) : i;&lt;br&gt;                            final View child = children[childIndex];&lt;br&gt;                            if (!canViewReceivePointerEvents(child)&lt;br&gt;                                    || !isTransformedTouchPointInView(x, y, child, null)) {&lt;br&gt;                                continue;&lt;br&gt;                            }&lt;br&gt;&lt;br&gt;                            newTouchTarget = getTouchTarget(child);&lt;br&gt;                            if (newTouchTarget != null) {&lt;br&gt;                                // Child is already receiving touch within its bounds.&lt;br&gt;                                // Give it the new pointer in addition to the ones it is handling.&lt;br&gt;                                newTouchTarget.pointerIdBits |= idBitsToAssign;&lt;br&gt;                                break;&lt;br&gt;                            }&lt;br&gt;&lt;br&gt;                            resetCancelNextUpFlag(child);&lt;br&gt;                            if (dispatchTransformedTouchEvent(ev, false, child, idBitsToAssign)) {&lt;br&gt;                                // Child wants to receive touch within its bounds.&lt;br&gt;                                mLastTouchDownTime = ev.getDownTime();&lt;br&gt;                                mLastTouchDownIndex = childIndex;&lt;br&gt;                                mLastTouchDownX = ev.getX();&lt;br&gt;                                mLastTouchDownY = ev.getY();&lt;br&gt;                                newTouchTarget = addTouchTarget(child, idBitsToAssign);&lt;br&gt;                                alreadyDispatchedToNewTouchTarget = true;&lt;br&gt;                                break;&lt;br&gt;                            }&lt;br&gt;                        }&lt;br&gt;                    }&lt;br&gt;&lt;br&gt;                    if (newTouchTarget == null &amp;amp;&amp;amp; mFirstTouchTarget != null) {&lt;br&gt;                        // Did not find a child to receive the event.&lt;br&gt;                        // Assign the pointer to the least recently added target.&lt;br&gt;                        newTouchTarget = mFirstTouchTarget;&lt;br&gt;                        while (newTouchTarget.next != null) {&lt;br&gt;                            newTouchTarget = newTouchTarget.next;&lt;br&gt;                        }&lt;br&gt;                        newTouchTarget.pointerIdBits |= idBitsToAssign;&lt;br&gt;                    }&lt;br&gt;                }&lt;br&gt;            }&lt;br&gt;&lt;br&gt;            // Dispatch to touch targets.&lt;br&gt;            if (mFirstTouchTarget == null) {&lt;br&gt;                // No touch targets so treat this as an ordinary view.&lt;br&gt;                handled = dispatchTransformedTouchEvent(ev, canceled, null,&lt;br&gt;                        TouchTarget.ALL_POINTER_IDS);&lt;br&gt;            } else {&lt;br&gt;                // Dispatch to touch targets, excluding the new touch target if we already&lt;br&gt;                // dispatched to it.  Cancel touch targets if necessary.&lt;br&gt;                TouchTarget predecessor = null;&lt;br&gt;                TouchTarget target = mFirstTouchTarget;&lt;br&gt;                while (target != null) {&lt;br&gt;                    final TouchTarget next = target.next;&lt;br&gt;                    if (alreadyDispatchedToNewTouchTarget &amp;amp;&amp;amp; target == newTouchTarget) {&lt;br&gt;                        handled = true;&lt;br&gt;                    } else {&lt;br&gt;                        final boolean cancelChild = resetCancelNextUpFlag(target.child)&lt;br&gt;                        || intercepted;&lt;br&gt;                        if (dispatchTransformedTouchEvent(ev, cancelChild,&lt;br&gt;                                target.child, target.pointerIdBits)) {&lt;br&gt;                            handled = true;&lt;br&gt;                        }&lt;br&gt;                        if (cancelChild) {&lt;br&gt;                            if (predecessor == null) {&lt;br&gt;                                mFirstTouchTarget = next;&lt;br&gt;                            } else {&lt;br&gt;                                predecessor.next = next;&lt;br&gt;                            }&lt;br&gt;                            target.recycle();&lt;br&gt;                            target = next;&lt;br&gt;                            continue;&lt;br&gt;                        }&lt;br&gt;                    }&lt;br&gt;                    predecessor = target;&lt;br&gt;                    target = next;&lt;br&gt;                }&lt;br&gt;            }&lt;br&gt;&lt;br&gt;            // Update list of touch targets for pointer up or cancel, if needed.&lt;br&gt;            if (canceled&lt;br&gt;                    || actionMasked == MotionEvent.ACTION_UP&lt;br&gt;                    || actionMasked == MotionEvent.ACTION_HOVER_MOVE) {&lt;br&gt;                resetTouchState();&lt;br&gt;            } else if (split &amp;amp;&amp;amp; actionMasked == MotionEvent.ACTION_POINTER_UP) {&lt;br&gt;                final int actionIndex = ev.getActionIndex();&lt;br&gt;                final int idBitsToRemove = 1 &amp;lt;&amp;lt; ev.getPointerId(actionIndex);&lt;br&gt;                removePointersFromTouchTargets(idBitsToRemove);&lt;br&gt;            }&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        if (!handled &amp;amp;&amp;amp; mInputEventConsistencyVerifier != null) {&lt;br&gt;            mInputEventConsistencyVerifier.onUnhandledEvent(ev, 1);&lt;br&gt;        }&lt;br&gt;        return handled;&lt;br&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;可以看到标红的有两句(&lt;span style=&quot;color:#ff0000;&quot;&gt;intercepted = onInterceptTouchEvent(ev); &amp;nbsp;&amp;nbsp;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color:#ff0000;&quot;&gt;if (!canceled &amp;amp;&amp;amp; !intercepted)&amp;nbsp;&amp;nbsp;&lt;/span&gt;)，它会先调用&amp;nbsp;intercepted = onInterceptTouchEvent(ev);然后通过if判断。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_10_7489263&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;  public boolean onInterceptTouchEvent(MotionEvent ev) {&lt;br&gt;        return false;&lt;br&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;它就一句话，默认false。也就是说这个谋士默认的意见是，&lt;span style=&quot;color:#ff0000;&quot;&gt;&lt;strong&gt;永远不拦截！！！！只要有孩子，就&lt;/strong&gt;&lt;/span&gt;交给孩子们处理吧。下面给出实例说明，新建TestLinearLayout继承自Linearlayout。&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_11_6344211&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;package org.yanzi.ui;&lt;br&gt;&lt;br&gt;import android.content.Context;&lt;br&gt;import android.util.AttributeSet;&lt;br&gt;import android.util.Log;&lt;br&gt;import android.view.MotionEvent;&lt;br&gt;import android.widget.LinearLayout;&lt;br&gt;&lt;br&gt;public class TestLinearLayout extends LinearLayout{&lt;br&gt;    private final static String tag = &amp;quot;yan&amp;quot;;&lt;br&gt;    public TestLinearLayout(Context context, AttributeSet attrs) {&lt;br&gt;        super(context, attrs);&lt;br&gt;        // TODO Auto-generated constructor stub&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    @Override&lt;br&gt;    public boolean dispatchTouchEvent(MotionEvent ev) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(ev.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-dispatchTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-dispatchTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.dispatchTouchEvent(ev);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    @Override&lt;br&gt;    public boolean onInterceptTouchEvent(MotionEvent ev) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(ev.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-onInterceptTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-onInterceptTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.onInterceptTouchEvent(ev);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    @Override&lt;br&gt;    public boolean onTouchEvent(MotionEvent event) {&lt;br&gt;        // TODO Auto-generated method stub&lt;br&gt;        switch(event.getAction()){&lt;br&gt;        case MotionEvent.ACTION_DOWN:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-onTouchEvent-ACTION_DOWN…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        case MotionEvent.ACTION_UP:&lt;br&gt;            Log.i(tag, &amp;quot;TestLinearLayout-onTouchEvent-ACTION_UP…&amp;quot;);&lt;br&gt;            break;&lt;br&gt;        default:break;&lt;br&gt;        }&lt;br&gt;        return super.onTouchEvent(event);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;布局文件改成:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_12_215670&quot; name=&quot;code&quot; class=&quot;html&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&amp;lt;RelativeLayout xmlns:android=&amp;quot;&lt;a href=&quot;http://schemas.android.com/apk/res/android&amp;amp;quot&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://schemas.android.com/apk/res/android&amp;amp;quot&lt;/a&gt;;&lt;br&gt;    xmlns:tools=&amp;quot;&lt;a href=&quot;http://schemas.android.com/tools&amp;amp;quot&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://schemas.android.com/tools&amp;amp;quot&lt;/a&gt;;&lt;br&gt;    android:layout_width=&amp;quot;match_parent&amp;quot;&lt;br&gt;    android:layout_height=&amp;quot;match_parent&amp;quot;&lt;br&gt;    android:paddingBottom=&amp;quot;@dimen/activity_vertical_margin&amp;quot;&lt;br&gt;    android:paddingLeft=&amp;quot;@dimen/activity_horizontal_margin&amp;quot;&lt;br&gt;    android:paddingRight=&amp;quot;@dimen/activity_horizontal_margin&amp;quot;&lt;br&gt;    android:paddingTop=&amp;quot;@dimen/activity_vertical_margin&amp;quot;&lt;br&gt;    tools:context=&amp;quot;.MainActivity&amp;quot; &amp;gt;&lt;br&gt;&lt;br&gt;    &amp;lt;TextView&lt;br&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;br&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;br&gt;        android:text=&amp;quot;@string/hello_world&amp;quot; /&amp;gt;&lt;br&gt;&lt;br&gt;    &amp;lt;org.yanzi.ui.TestLinearLayout&lt;br&gt;        android:id=&amp;quot;@+id/linearlayout_test&amp;quot;&lt;br&gt;        android:layout_width=&amp;quot;200dip&amp;quot;&lt;br&gt;        android:layout_height=&amp;quot;200dip&amp;quot; &amp;gt;&lt;br&gt;&lt;br&gt;        &amp;lt;org.yanzi.ui.TestButton&lt;br&gt;            android:id=&amp;quot;@+id/btn_test&amp;quot;&lt;br&gt;            android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;br&gt;            android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;br&gt;            android:text=&amp;quot;测试按钮&amp;quot; /&amp;gt;&lt;br&gt;    &amp;lt;/org.yanzi.ui.TestLinearLayout&amp;gt;&lt;br&gt;&lt;br&gt;&amp;lt;/RelativeLayout&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;在Activity里给这个自定义LinearLayout也注册上onClick监听、onTouch监听。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;pre code_snippet_id=&quot;271353&quot; snippet_file_name=&quot;blog_20140402_13_9103636&quot; name=&quot;code&quot; class=&quot;java&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;testLinelayout = (TestLinearLayout)findViewById(R.id.linearlayout_test);&lt;br&gt;        testLinelayout.setOnTouchListener(new View.OnTouchListener() {&lt;br&gt;&lt;br&gt;            @Override&lt;br&gt;            public boolean onTouch(View v, MotionEvent event) {&lt;br&gt;                // TODO Auto-generated method stub&lt;br&gt;                switch(event.getAction()){&lt;br&gt;                case MotionEvent.ACTION_DOWN:&lt;br&gt;                    Log.i(tag, &amp;quot;testLinelayout-onTouch-ACTION_DOWN…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                case MotionEvent.ACTION_UP:&lt;br&gt;                    Log.i(tag, &amp;quot;testLinelayout-onTouch-ACTION_UP…&amp;quot;);&lt;br&gt;                    break;&lt;br&gt;                default:break;&lt;br&gt;&lt;br&gt;                }&lt;br&gt;                return false;&lt;br&gt;            }&lt;br&gt;        });&lt;br&gt;&lt;br&gt;        testLinelayout.setOnClickListener(new View.OnClickListener() {&lt;br&gt;&lt;br&gt;            @Override&lt;br&gt;            public void onClick(View v) {&lt;br&gt;                // TODO Auto-generated method stub&lt;br&gt;                Log.i(tag, &amp;quot;testLinelayout—onClick…&amp;quot;);&lt;br&gt;            }&lt;br&gt;        });&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;不复写事件传递里的 任何方法，流程如下:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 57: 01-08 15:29:42.167 I/yan &amp;nbsp; &amp;nbsp; ( 5826): MainActivity-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 59: 01-08 15:29:42.169 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestLinearLayout-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 61: 01-08 15:29:42.169 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestLinearLayout-onInterceptTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 63: 01-08 15:29:42.169 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestButton-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 65: 01-08 15:29:42.170 I/yan &amp;nbsp; &amp;nbsp; ( 5826): testBtn-onTouch-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 67: 01-08 15:29:42.170 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestButton-onTouchEvent-ACTION_DOWN…&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;—————————————————————————————————————————&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 69: 01-08 15:29:42.279 I/yan &amp;nbsp; &amp;nbsp; ( 5826): MainActivity-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 71: 01-08 15:29:42.280 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestLinearLayout-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 73: 01-08 15:29:42.283 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestLinearLayout-onInterceptTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 75: 01-08 15:29:42.287 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestButton-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 81: 01-08 15:29:42.298 I/yan &amp;nbsp; &amp;nbsp; ( 5826): testBtn-onTouch-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 83: 01-08 15:29:42.301 I/yan &amp;nbsp; &amp;nbsp; ( 5826): TestButton-onTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 85: 01-08 15:29:42.313 I/yan &amp;nbsp; &amp;nbsp; ( 5826): testBtn—onClick…&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;由Activity的dispatchTouchEvent—-Linearlayout的dispatchTouchEvent————问问它的谋士要不要让孩子知道onInterceptTouchEvent———孩子的dispatchTouchEvent—–孩子的onTouch监听——孩子的onTouchEvent—-孩子的onClick监听。为了更清晰这个流程，下面作如下改动：&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;1、如果事件传给了孩子们，但孩子没有onTouch和onClick监听怎么办？即将button的onclick和onTouch都注释掉:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;流程如下:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 131: 01-08 15:36:16.574 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestLinearLayout-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 133: 01-08 15:36:16.574 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestLinearLayout-onInterceptTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 135: 01-08 15:36:16.574 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestButton-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 137: 01-08 15:36:16.575 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestButton-onTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 143: 01-08 15:36:16.746 I/yan &amp;nbsp; &amp;nbsp; ( 6124): MainActivity-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 145: 01-08 15:36:16.747 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestLinearLayout-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 147: 01-08 15:36:16.747 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestLinearLayout-onInterceptTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 149: 01-08 15:36:16.748 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestButton-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 151: 01-08 15:36:16.748 I/yan &amp;nbsp; &amp;nbsp; ( 6124): TestButton-onTouchEvent-ACTION_UP…&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;因为事件给了孩子们，它没监听也关系不到父亲了，父亲的onClick和onTouch都没执行。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;2,如果将TestLinearlayout的onInterceptTouchEvent 改成return true，即不让孩子们知道。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 57: 01-08 15:40:06.832 I/yan &amp;nbsp; &amp;nbsp; ( 6640): MainActivity-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 59: 01-08 15:40:06.835 I/yan &amp;nbsp; &amp;nbsp; ( 6640): TestLinearLayout-dispatchTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 61: 01-08 15:40:06.836 I/yan &amp;nbsp; &amp;nbsp; ( 6640): TestLinearLayout-onInterceptTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 63: 01-08 15:40:06.836 I/yan &amp;nbsp; &amp;nbsp; ( 6640): testLinelayout-onTouch-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 65: 01-08 15:40:06.836 I/yan &amp;nbsp; &amp;nbsp; ( 6640): TestLinearLayout-onTouchEvent-ACTION_DOWN…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 67: 01-08 15:40:07.016 I/yan &amp;nbsp; &amp;nbsp; ( 6640): MainActivity-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 69: 01-08 15:40:07.017 I/yan &amp;nbsp; &amp;nbsp; ( 6640): TestLinearLayout-dispatchTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 73: 01-08 15:40:07.025 I/yan &amp;nbsp; &amp;nbsp; ( 6640): testLinelayout-onTouch-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 75: 01-08 15:40:07.026 I/yan &amp;nbsp; &amp;nbsp; ( 6640): TestLinearLayout-onTouchEvent-ACTION_UP…&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;Line 77: 01-08 15:40:07.052 I/yan &amp;nbsp; &amp;nbsp; ( 6640): testLinelayout—onClick…&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;果然事件就此打住，孩子们压根不知道，父亲执行了onClick和onTouch监听。可见父亲还是伟大的啊，只要谋士不拦截事件，那么事件就给孩子。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;最后的结论:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;1、如果是自定义复合控件，如图片+文字，我再Activity里给你注册了onClick监听，期望点击它执行。那么最简单的方法就是将图片+文字的父布局，也即让其容器ViewGroup的秘书将事件拦下，这样父亲就可以执行onClick了。这时候的父亲就像一个独立的孩子一样了(View)，无官一身轻，再也不用管它的孩子了,可以正常onClick onTouch.&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;2、如果希望一个View只onTouch而不onClick，在onTouch里return true就ok了。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;3、dispatch是为了onTouch监听，onTouchEvent是为了onClick监听。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;4、自定义布局时，一般情况下：&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;@Override&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;public boolean onTouchEvent(MotionEvent event) {return super.onTouchEvent(event);} &amp;nbsp;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;@Override&lt;br&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;public boolean dispatchTouchEvent(MotionEvent event) {return super.dispatchTouchEvent(event);&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;我们可以复写，但是最后的super.&lt;strong&gt;&lt;em&gt;是万万不能少滴。如果少了，表示连dispatch&lt;/em&gt;&lt;/strong&gt; onTouchEvent压根就不调用了，事件就此打住。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;貌似真相水落石出了，但究竟清楚了没有请看下篇根据自定义复合控件的监听问题再探讨下。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;参考: &amp;nbsp;&amp;nbsp;&lt;a target=&quot;_blank&quot; href=&quot;http://ryantang.me/blog/2014/01/02/android-event-dispatch/&quot;&gt;链接1&lt;/a&gt;&amp;nbsp;(灰常感谢前辈的大作啊) &amp;nbsp; &amp;nbsp;&lt;a target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/xiaoQLu/archive/2012/04/28/2474443.html&quot;&gt;链接2&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;测试代码: &amp;nbsp;&lt;a target=&quot;_blank&quot; href=&quot;http://download.csdn.net/detail/yanzi1225627/7121063&quot;&gt;http://download.csdn.net/detail/yanzi1225627/7121063&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Comic Sans MS&#39;;&quot;&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;—————————本文系原创，转载注明作者:yanzi1225627&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;


&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/11/Android/事件传递机制/细说Android事件传递机制(dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent)/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/11/Android/事件传递机制/细说Android事件传递机制(dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent)/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;原文出处：&lt;a href=&quot;http://blog.csdn.net/yanzi1225627/article/details/22592831&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/yanzi122562
    
    </summary>
    
      <category term="Android_事件传递机制" scheme="https://fengqingxiuyi.github.io/categories/Android-%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6/"/>
    
    
  </entry>
  
  <entry>
    <title>View注意点</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/View%E6%B3%A8%E6%84%8F%E7%82%B9/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/View注意点/</id>
    <published>2016-08-10T09:38:15.000Z</published>
    <updated>2016-08-10T09:55:18.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;Fresco图片框架注意点&quot;&gt;&lt;a href=&quot;#Fresco图片框架注意点&quot; class=&quot;headerlink&quot; title=&quot;Fresco图片框架注意点&quot;&gt;&lt;/a&gt;Fresco图片框架注意点&lt;/h1&gt;&lt;p&gt;Fresco官方文档：&lt;a href=&quot;http://fresco-cn.org/docs/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://fresco-cn.org/docs/getting-started.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;注意点1：凡是使用Fresco设置的图片，必须设置具体的宽高才可以正常显示&quot;&gt;&lt;a href=&quot;#注意点1：凡是使用Fresco设置的图片，必须设置具体的宽高才可以正常显示&quot; class=&quot;headerlink&quot; title=&quot;注意点1：凡是使用Fresco设置的图片，必须设置具体的宽高才可以正常显示&quot;&gt;&lt;/a&gt;注意点1：凡是使用Fresco设置的图片，必须设置具体的宽高才可以正常显示&lt;/h2&gt;&lt;p&gt;例如：SHImageView&lt;/p&gt;
&lt;p&gt;模块地址：&lt;br&gt;同级目录下的SHImageView.java文件&lt;br&gt;或&lt;br&gt;&lt;a href=&quot;http://git.showjoy.net/android/showjoyandroid_image/tree/master&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://git.showjoy.net/android/showjoyandroid_image/tree/master&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;注意点2：为Fresco图片设置圆形背景&quot;&gt;&lt;a href=&quot;#注意点2：为Fresco图片设置圆形背景&quot; class=&quot;headerlink&quot; title=&quot;注意点2：为Fresco图片设置圆形背景&quot;&gt;&lt;/a&gt;注意点2：为Fresco图片设置圆形背景&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 去除fresco:roundedCornerRadius=&quot;5dp&quot;可预览&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;com.showjoy.image.SHCircleImageView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&lt;span class=&quot;string&quot;&gt;&quot;@+id/home_best_seller_img&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fresco:actualImageScaleType=&lt;span class=&quot;string&quot;&gt;&quot;centerCrop&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fresco:backgroundImage=&lt;span class=&quot;string&quot;&gt;&quot;@color/white&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fresco:roundedCornerRadius=&lt;span class=&quot;string&quot;&gt;&quot;5dp&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fresco:roundingBorderColor=&lt;span class=&quot;string&quot;&gt;&quot;@color/grey2&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fresco:roundingBorderWidth=&lt;span class=&quot;string&quot;&gt;&quot;2dp&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;答：因为已经设置了round属性，所以已经是圆形了，这个时候，如果想要设置其圆形边框内的背景，需要通过这个属性backgroundImage设置背景才是圆形边框内的背景色&lt;/p&gt;
&lt;h1 id=&quot;ShopEditText&quot;&gt;&lt;a href=&quot;#ShopEditText&quot; class=&quot;headerlink&quot; title=&quot;ShopEditText&quot;&gt;&lt;/a&gt;ShopEditText&lt;/h1&gt;&lt;p&gt;ShopEditText必须设置字体大小（注：已提供属性），否则字体显示特别小&lt;br&gt;模块地址：同级目录下ShopEditText文件夹下的ShopEditText.java文件&lt;/p&gt;
&lt;h1 id=&quot;tools-Designtime-Attributes&quot;&gt;&lt;a href=&quot;#tools-Designtime-Attributes&quot; class=&quot;headerlink&quot; title=&quot;tools-Designtime Attributes&quot;&gt;&lt;/a&gt;tools-Designtime Attributes&lt;/h1&gt;&lt;p&gt;Google文档地址：&lt;a href=&quot;http://tools.android.com/tips/layout-designtime-attributes&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://tools.android.com/tips/layout-designtime-attributes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;中文翻译：这些属性用于渲染布局，而不会影响到程序运行。也就是说只在预览布局时出现，在程序运行时相当于该属性不存在。&lt;/p&gt;
&lt;p&gt;例子：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&quot;match_parent&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        tools:text=&quot;test&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/RelativeLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;更加全面的tools详解：&lt;a href=&quot;http://blog.csdn.net/zhengdan66/article/details/46960985&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/zhengdan66/article/details/46960985&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;android-paddingstart-paddingend&quot;&gt;&lt;a href=&quot;#android-paddingstart-paddingend&quot; class=&quot;headerlink&quot; title=&quot;android:paddingstart(paddingend)&quot;&gt;&lt;/a&gt;android:paddingstart(paddingend)&lt;/h1&gt;&lt;p&gt;android:paddingstart(paddingend)：左右对齐时使用。左对齐时：paddingstart对应paddingleft；paddingend对应paddingright；右对齐时则刚好相反；&lt;/p&gt;
&lt;h1 id=&quot;附&quot;&gt;&lt;a href=&quot;#附&quot; class=&quot;headerlink&quot; title=&quot;附&quot;&gt;&lt;/a&gt;附&lt;/h1&gt;&lt;font color=&quot;red&quot;&gt;本文持续更新&lt;/font&gt;

&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/View注意点/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/View注意点/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Fresco图片框架注意点&quot;&gt;&lt;a href=&quot;#Fresco图片框架注意点&quot; class=&quot;headerlink&quot; title=&quot;Fresco图片框架注意点&quot;&gt;&lt;/a&gt;Fresco图片框架注意点&lt;/h1&gt;&lt;p&gt;Fresco官方文档：&lt;a href=&quot;http:/
    
    </summary>
    
      <category term="ShowJoy_View" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-View/"/>
    
    
  </entry>
  
  <entry>
    <title>ShopEditText</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/ShopEditText/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/ShopEditText/</id>
    <published>2016-08-10T09:35:15.000Z</published>
    <updated>2016-08-10T10:17:40.000Z</updated>
    
    <content type="html">&lt;p&gt;本文介绍 统一文本编辑框 的制作与使用，统一文本编辑框继承于RelativeLayout，同时也支持大范围区域的点击效果！&lt;/p&gt;
&lt;h1 id=&quot;统一文本编辑框-的制作&quot;&gt;&lt;a href=&quot;#统一文本编辑框-的制作&quot; class=&quot;headerlink&quot; title=&quot;统一文本编辑框 的制作&quot;&gt;&lt;/a&gt;统一文本编辑框 的制作&lt;/h1&gt;&lt;h2 id=&quot;Java文件内容&quot;&gt;&lt;a href=&quot;#Java文件内容&quot; class=&quot;headerlink&quot; title=&quot;Java文件内容&quot;&gt;&lt;/a&gt;Java文件内容&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;84&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;85&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;86&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;87&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;88&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;89&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;90&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;91&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;92&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;93&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;94&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;95&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;96&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;97&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;98&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;99&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;100&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;101&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;102&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;103&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;104&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;105&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;106&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;107&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;108&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;109&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;110&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;111&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;112&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;113&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;114&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;115&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;116&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;117&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;118&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;119&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;120&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;121&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;122&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;123&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;124&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;125&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;126&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;127&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;128&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;129&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;130&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;131&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;132&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;133&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;134&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;135&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;136&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;137&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;138&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;139&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;140&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;141&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;142&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;143&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; com.showjoy.shop.common.view;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.content.Context;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.content.res.TypedArray;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.text.InputType;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.text.TextUtils;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.util.AttributeSet;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.util.TypedValue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.Gravity;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.View;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.EditText;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.LinearLayout;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.RelativeLayout;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.TextView;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; com.showjoy.shop.R;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; com.showjoy.view.SHIconFontTextView;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 达人店专用的统一编辑框&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * Created by lufei on 7/20/16.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ShopEditText&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;RelativeLayout&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; RelativeLayout viewShopEditRoot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; SHIconFontTextView viewShopEditLeftIcon;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; SHIconFontTextView viewShopEditRightIcon;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; EditText viewShopEditInput;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; LinearLayout inviteErrorTip;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; SHIconFontTextView inviteErrorIcon;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; TextView inviteErrorTextView;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ShopEditText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init(context, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ShopEditText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init(context, attrs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ShopEditText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; defStyleAttr)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs, defStyleAttr);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init(context, attrs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inflate(context, R.layout.view_shop_edit, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditRoot = (RelativeLayout) findViewById(R.id.view_shop_edit_root);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditLeftIcon = (SHIconFontTextView) findViewById(R.id.view_shop_edit_left_icon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditRightIcon = (SHIconFontTextView) findViewById(R.id.view_shop_edit_right_icon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditInput = (EditText) findViewById(R.id.view_shop_edit_input);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inviteErrorTip = (LinearLayout) findViewById(R.id.invite_error_tip);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inviteErrorIcon = (SHIconFontTextView) findViewById(R.id.invite_error_icon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inviteErrorTextView = (TextView) findViewById(R.id.invite_error_text_view);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != attrs) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            TypedArray typeArray = context.obtainStyledAttributes(attrs, R.styleable.ShopEditText);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String emptyText = typeArray.getString(R.styleable.ShopEditText_shop_edit_empty_text);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(emptyText)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                inviteErrorTextView.setText(emptyText);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String hint = typeArray.getString(R.styleable.ShopEditText_shop_edit_hint);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(hint)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditInput.setHint(hint);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String leftIcon = typeArray.getString(R.styleable.ShopEditText_shop_edit_left_icon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(leftIcon)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditLeftIcon.setText(leftIcon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String rightIcon = typeArray.getString(R.styleable.ShopEditText_shop_edit_right_icon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!TextUtils.isEmpty(rightIcon)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditRightIcon.setText(rightIcon);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; gravity = typeArray.getInt(R.styleable.ShopEditText_shop_edit_gravity, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (gravity == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditInput.setGravity(Gravity.LEFT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                inviteErrorTip.setGravity(Gravity.LEFT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (gravity == &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditInput.setGravity(Gravity.CENTER);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                inviteErrorTip.setGravity(Gravity.CENTER);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (gravity == &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewShopEditInput.setGravity(Gravity.RIGHT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                inviteErrorTip.setGravity(Gravity.RIGHT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; size = typeArray.getDimension(R.styleable.ShopEditText_shop_edit_text_size, &lt;span class=&quot;number&quot;&gt;14f&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewShopEditInput.setTextSize(TypedValue.COMPLEX_UNIT_PX, size);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            typeArray.recycle();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inviteErrorTip.setOnClickListener(v -&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            setErrorVisible(&lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setInputType&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; inputType)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditInput.setInputType(inputType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; viewShopEditInput.getText().toString();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setErrorText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String text)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        inviteErrorTextView.setText(text);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setErrorVisible&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; visible)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (visible) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            inviteErrorTip.setVisibility(VISIBLE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewShopEditInput.setVisibility(GONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            inviteErrorTip.setVisibility(GONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewShopEditInput.setVisibility(VISIBLE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setReadOnly&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; readOnly)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (readOnly) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewShopEditInput.setInputType(InputType.TYPE_NULL);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewShopEditInput.setInputType(InputType.TYPE_CLASS_TEXT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String text)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditInput.setText(text);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; View &lt;span class=&quot;title&quot;&gt;getRightIcon&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; viewShopEditRightIcon;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setOnClickListener&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(OnClickListener l)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setOnClickListener(l);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewShopEditInput.setOnClickListener(l);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;属性文件内容&quot;&gt;&lt;a href=&quot;#属性文件内容&quot; class=&quot;headerlink&quot; title=&quot;属性文件内容&quot;&gt;&lt;/a&gt;属性文件内容&lt;/h2&gt;&lt;font color=&quot;red&quot;&gt;PS: 以下内容位于styles.xml文件中&lt;/font&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;declare-styleable name=&quot;ShopEditText&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&quot;shop_edit_hint&quot; format=&quot;string&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&quot;shop_edit_empty_text&quot; format=&quot;string&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&quot;shop_edit_left_icon&quot; format=&quot;string&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&quot;shop_edit_right_icon&quot; format=&quot;string&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&quot;shop_edit_text_size&quot; format=&quot;dimension&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;attr name=&quot;shop_edit_gravity&quot; format=&quot;integer&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;flag name=&quot;left&quot; value=&quot;0&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;flag name=&quot;center&quot; value=&quot;1&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;flag name=&quot;right&quot; value=&quot;2&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/attr&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/declare-styleable&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;布局文件内容&quot;&gt;&lt;a href=&quot;#布局文件内容&quot; class=&quot;headerlink&quot; title=&quot;布局文件内容&quot;&gt;&lt;/a&gt;布局文件内容&lt;/h2&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&quot;@+id/view_shop_edit_root&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:orientation=&quot;vertical&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;LinearLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&quot;@+id/view_shop_edit&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:orientation=&quot;horizontal&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:gravity=&quot;center&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;com.showjoy.view.SHIconFontTextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&quot;@+id/view_shop_edit_left_icon&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_marginRight=&quot;5.5dp&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textColor=&quot;@color/grey4&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textSize=&quot;18sp&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;EditText&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&quot;@+id/view_shop_edit_input&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&quot;0dp&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_weight=&quot;1&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:background=&quot;@null&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:hint=&quot;请填写邀请码&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textSize=&quot;18sp&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;com.showjoy.view.SHIconFontTextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&quot;@+id/view_shop_edit_right_icon&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textColor=&quot;@color/grey4&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textSize=&quot;18sp&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/LinearLayout&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;View&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&quot;@+id/view_shop_edit_line&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&quot;1px&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_marginTop=&quot;10dp&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_below=&quot;@id/view_shop_edit&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:background=&quot;@color/grey4&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;LinearLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&quot;@+id/invite_error_tip&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:orientation=&quot;horizontal&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_marginTop=&quot;10dp&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_below=&quot;@+id/view_shop_edit_line&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:visibility=&quot;gone&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;com.showjoy.view.SHIconFontTextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&quot;@+id/invite_error_icon&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textSize=&quot;18sp&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&quot;@+id/invite_error_text_view&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:gravity=&quot;center&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textColor=&quot;@color/redPink&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:textSize=&quot;18sp&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/LinearLayout&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/RelativeLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;统一文本编辑框-的使用&quot;&gt;&lt;a href=&quot;#统一文本编辑框-的使用&quot; class=&quot;headerlink&quot; title=&quot;统一文本编辑框 的使用&quot;&gt;&lt;/a&gt;统一文本编辑框 的使用&lt;/h1&gt;&lt;com.showjoy.shop.common.view.shopedittext android:id=&quot;@+id/login_user_name&quot; android:layout_width=&quot;250dp&quot; android:layout_height=&quot;wrap_content&quot; android:layout_below=&quot;@+id/login_logo&quot; android:layout_centerhorizontal=&quot;true&quot; android:layout_margintop=&quot;35dp&quot; app:shop_edit_hint=&quot;输入用户名&quot; app:shop_edit_text_size=&quot;16sp&quot;&gt;

&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/ShopEditText/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/ShopEditText/&lt;/a&gt;&lt;/p&gt;
&lt;/com.showjoy.shop.common.view.shopedittext&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍 统一文本编辑框 的制作与使用，统一文本编辑框继承于RelativeLayout，同时也支持大范围区域的点击效果！&lt;/p&gt;
&lt;h1 id=&quot;统一文本编辑框-的制作&quot;&gt;&lt;a href=&quot;#统一文本编辑框-的制作&quot; class=&quot;headerlink&quot; title=&quot;统
    
    </summary>
    
      <category term="ShowJoy_View" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-View/"/>
    
    
  </entry>
  
  <entry>
    <title>SHImageView</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/SHImageView/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/SHImageView/</id>
    <published>2016-08-10T09:35:15.000Z</published>
    <updated>2016-08-10T09:54:36.000Z</updated>
    
    <content type="html">&lt;p&gt;本文介绍 统一图片组件 的制作与使用&lt;/p&gt;
&lt;p&gt;本图片组件封装于Fresco组件，本文用于介绍 统一图片组件 的制作与使用，可查看Fresco官方文档：&lt;a href=&quot;http://fresco-cn.org/docs/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://fresco-cn.org/docs/getting-started.html&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;统一图片组件-的制作&quot;&gt;&lt;a href=&quot;#统一图片组件-的制作&quot; class=&quot;headerlink&quot; title=&quot;统一图片组件 的制作&quot;&gt;&lt;/a&gt;统一图片组件 的制作&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;84&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;85&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;86&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;87&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;88&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;89&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;90&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;91&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;92&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;93&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;94&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;95&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;96&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;97&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;98&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;99&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;100&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;101&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;102&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;103&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;104&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;105&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;106&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;107&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;108&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;109&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; com.showjoy.image;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.content.Context;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.graphics.drawable.Drawable;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.text.TextUtils;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.util.AttributeSet;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; com.showjoy.image.base.ISHImageLoadListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; com.showjoy.image.fresco.FrescoImageView;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 尚妆统一图片组件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * Created by lufei on 3/30/16.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHImageView&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;FrescoImageView&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    String imageUrl;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ISHImageLoadListener loadListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHImageView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHImageView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHImageView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; defStyle)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs, defStyle);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHImageView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; defStyleAttr, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; defStyleRes)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs, defStyleAttr, defStyleRes);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (TextUtils.equals(imageUrl, url)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageUrl = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageUrl(url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setFailureImage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setFailureImage();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;placeholderImage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resource)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.placeholderImage(resource);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;placeholderImage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Drawable drawable)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.placeholderImage(drawable);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageRes&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resId)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageRes(resId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url, ISHImageLoadListener loadListener)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (TextUtils.equals(imageUrl, url) &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.loadListener == loadListener) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageUrl = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.loadListener = loadListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageUrl(url, loadListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (TextUtils.equals(imageUrl, url) &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.width == width &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.height == height) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageUrl = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.width = width;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.height = height;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageUrl(url, width, height);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height, ISHImageLoadListener loadListener)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (TextUtils.equals(imageUrl, url) &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.width == width &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.height == height&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.loadListener == loadListener) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageUrl = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.loadListener = loadListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.width = width;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.height = height;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageUrl(url, width, height, loadListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImageRes&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resId, ISHImageLoadListener loadListener)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.setImageRes(resId, loadListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;统一图片组件-的使用&quot;&gt;&lt;a href=&quot;#统一图片组件-的使用&quot; class=&quot;headerlink&quot; title=&quot;统一图片组件 的使用&quot;&gt;&lt;/a&gt;统一图片组件 的使用&lt;/h1&gt;&lt;com.showjoy.image.shimageview android:id=&quot;@+id/image&quot; android:layout_width=&quot;30dp&quot; android:layout_height=&quot;30dp&quot;&gt;

&lt;p&gt;注意：此 统一图片组件 的宽和高不能同时为wrap_content，具体参考Fresco文档。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/SHImageView/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/SHImageView/&lt;/a&gt;&lt;/p&gt;
&lt;/com.showjoy.image.shimageview&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍 统一图片组件 的制作与使用&lt;/p&gt;
&lt;p&gt;本图片组件封装于Fresco组件，本文用于介绍 统一图片组件 的制作与使用，可查看Fresco官方文档：&lt;a href=&quot;http://fresco-cn.org/docs/getting-started.html&quot; ta
    
    </summary>
    
      <category term="ShowJoy_View" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-View/"/>
    
    
  </entry>
  
  <entry>
    <title>Android-Relativelayout属性总结</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/Android-Relativelayout%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/Android-Relativelayout属性总结/</id>
    <published>2016-08-10T09:34:15.000Z</published>
    <updated>2016-08-10T09:55:44.000Z</updated>
    
    <content type="html">&lt;p&gt;文章转载自：&lt;a href=&quot;http://blog.csdn.net/kimifdw/article/details/11981509&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/kimifdw/article/details/11981509&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;指定偏移量&quot;&gt;&lt;a href=&quot;#指定偏移量&quot; class=&quot;headerlink&quot; title=&quot;指定偏移量&quot;&gt;&lt;/a&gt;指定偏移量&lt;/h1&gt;&lt;p&gt;1.android:paddingleft(paddingright/paddingtop/paddingbottom)：控件内部内容（如文本距离该控件的边距）；&lt;br&gt;2.android:paddingstart(paddingend)：左右对齐时使用。左对齐时：paddingstart对应paddingleft；paddingend对应paddingright；右对齐时则刚好相反；&lt;br&gt;3.android:layout_margin：该控件距离父控件的边距；（layout_marginleft/layout_marginright/layout_margintop/layout_marginbottom）；&lt;/p&gt;
&lt;h1 id=&quot;给定控件ID&quot;&gt;&lt;a href=&quot;#给定控件ID&quot; class=&quot;headerlink&quot; title=&quot;给定控件ID&quot;&gt;&lt;/a&gt;给定控件ID&lt;/h1&gt;&lt;p&gt;4.android:layout_above ：将该控件的底部至于给定ID的控件之上；&lt;br&gt;5.android:layout_below ：将该控件的顶部至于给定ID的控件之下；&lt;br&gt;6.android:layout_toLeftOf ：将该控件的右边缘和给定ID的控件的左边缘对齐；&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;android:layout_toRightOf：将该控件的左边缘和给定ID的控件的右边缘对齐；&lt;br&gt;8.android:layout_alignBaseline： 该控件的baseline和给定ID的控件的baseline对齐；（baseline为控件的基准线）；&lt;br&gt;9.android:layout_alignBottom：将该控件的底部边缘与给定ID控件的底部边缘；&lt;/li&gt;
&lt;li&gt;android:layout_alignLeft：将该控件的左边缘与给定ID控件的左边缘对齐；&lt;br&gt;11.android:layout_alignRight ：将该控件的右边缘与给定ID控件的右边缘对齐；&lt;br&gt;12.android:layout_alignTop ： 将给定控件的顶部边缘与给定ID控件的顶部对齐；&lt;h1 id=&quot;相对于父组件&quot;&gt;&lt;a href=&quot;#相对于父组件&quot; class=&quot;headerlink&quot; title=&quot;相对于父组件&quot;&gt;&lt;/a&gt;相对于父组件&lt;/h1&gt;13.android:alignParentBottom ：如果该值为true，则将该控件的底部和父控件的底部对齐；&lt;br&gt;14.android:layout_alignParentLeft：如果该值为true，则将该控件的左边与父控件的左边对齐；&lt;br&gt;15.android:layout_alignParentRight ：如果该值为true，则将该控件的右边与父控件的右边对齐；&lt;br&gt;16.android:layout_alignParentTop：如果该值为true，则将空间的顶部与父控件的顶部对齐；&lt;br&gt;17.android:layout_alignWithParentIfMissing 如果对应的兄弟元素找不到的话就以父元素做参照物；&lt;h1 id=&quot;居中&quot;&gt;&lt;a href=&quot;#居中&quot; class=&quot;headerlink&quot; title=&quot;居中&quot;&gt;&lt;/a&gt;居中&lt;/h1&gt;18.android:layout_centerHorizontal ：如果值为真，该控件将被至于水平方向的中央；&lt;br&gt;19.android:layout_centerInParent：如果值为真，该控件将被至于父控件水平方向和垂直方向的中央；&lt;br&gt;20.android:layout_centerVertical： 如果值为真，该控件将被至于垂直方向的中央；&lt;h1 id=&quot;其它&quot;&gt;&lt;a href=&quot;#其它&quot; class=&quot;headerlink&quot; title=&quot;其它&quot;&gt;&lt;/a&gt;其它&lt;/h1&gt;21.android:gravity：设置容器中的内容的位置，默认为靠左；&lt;br&gt;22.android:layout_gravity：设置容器中内容相对于容器的位置（无法在relativelayout中使用）；&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/Android-Relativelayout属性总结/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/View/Android-Relativelayout属性总结/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;文章转载自：&lt;a href=&quot;http://blog.csdn.net/kimifdw/article/details/11981509&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/kimifdw/article
    
    </summary>
    
      <category term="ShowJoy_View" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-View/"/>
    
    
  </entry>
  
  <entry>
    <title>网络请求注意点</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E6%B3%A8%E6%84%8F%E7%82%B9/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/网络请求注意点/</id>
    <published>2016-08-10T09:14:35.000Z</published>
    <updated>2016-08-13T02:14:22.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;快速创建数据实体类&quot;&gt;&lt;a href=&quot;#快速创建数据实体类&quot; class=&quot;headerlink&quot; title=&quot;快速创建数据实体类&quot;&gt;&lt;/a&gt;快速创建数据实体类&lt;/h1&gt;&lt;p&gt;步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在AndroidStudio上安装GsonFormat插件，重启AndroidStudio。&lt;/li&gt;
&lt;li&gt;创建实体类，如GoodsResult类。&lt;/li&gt;
&lt;li&gt;复制接口返回的data下的数据，如{…}，如果data是JSONArray类型，则取其中一个{…}即可。&lt;/li&gt;
&lt;li&gt;将光标置于GoodsResult类的{}中，然后按快捷键option+s，出现GsonFormat弹框后，粘贴即可&lt;/li&gt;
&lt;li&gt;如果数据格式正确，点击OK会自动生成实体类，否则会出现错误提示：data err!&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;返回数据类型问题&quot;&gt;&lt;a href=&quot;#返回数据类型问题&quot; class=&quot;headerlink&quot; title=&quot;返回数据类型问题&quot;&gt;&lt;/a&gt;返回数据类型问题&lt;/h1&gt;&lt;p&gt;如果有数据返回，则服务端返回的数据格式有以下两种形式：&lt;/p&gt;
&lt;h2 id=&quot;形式1：data是JSONObject类型&quot;&gt;&lt;a href=&quot;#形式1：data是JSONObject类型&quot; class=&quot;headerlink&quot; title=&quot;形式1：data是JSONObject类型&quot;&gt;&lt;/a&gt;形式1：data是JSONObject类型&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;count&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;data&quot;&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;isRedirect&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;isSuccess&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;login&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;形式2：data是JSONArray类型&quot;&gt;&lt;a href=&quot;#形式2：data是JSONArray类型&quot; class=&quot;headerlink&quot; title=&quot;形式2：data是JSONArray类型&quot;&gt;&lt;/a&gt;形式2：data是JSONArray类型&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;count&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;data&quot;&lt;/span&gt;: [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;isRedirect&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;isSuccess&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;login&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;根据不同的数据格式，我们需要创建不同的请求类：&lt;/p&gt;
&lt;h2 id=&quot;形式1：data是JSONObject类型-1&quot;&gt;&lt;a href=&quot;#形式1：data是JSONObject类型-1&quot; class=&quot;headerlink&quot; title=&quot;形式1：data是JSONObject类型&quot;&gt;&lt;/a&gt;形式1：data是JSONObject类型&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;HomeRequest&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHGetRequest&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;HomeResult&lt;/span&gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; Class&amp;lt;HomeResult&amp;gt; &lt;span class=&quot;title&quot;&gt;getDataClass&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; HomeResult.class;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; TypeReference&amp;lt;HomeResult&amp;gt; &lt;span class=&quot;title&quot;&gt;getDataTypeReference&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getRequestUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; SHHost.getMainHost()+&lt;span class=&quot;string&quot;&gt;&quot;/api/shop&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;形式2：data是JSONArray类型-1&quot;&gt;&lt;a href=&quot;#形式2：data是JSONArray类型-1&quot; class=&quot;headerlink&quot; title=&quot;形式2：data是JSONArray类型&quot;&gt;&lt;/a&gt;形式2：data是JSONArray类型&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GoodsRequest&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHGetRequest&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;GoodsRequest&lt;/span&gt;&amp;gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; Class&amp;lt;List&amp;lt;GoodsRequest&amp;gt;&amp;gt; getDataClass() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 因为TypeReference是抽象类，不可以直接new，所以需要在最后添加&amp;#123;&amp;#125;，作为匿名内部类。&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; TypeReference&amp;lt;List&amp;lt;GoodsRequest&amp;gt;&amp;gt; getDataTypeReference() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TypeReference&amp;lt;List&amp;lt;GoodsRequest&amp;gt;&amp;gt;()&amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getRequestUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; SHHost.getMainHost()+&lt;span class=&quot;string&quot;&gt;&quot;/api/shop/products&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;addParam问题&quot;&gt;&lt;a href=&quot;#addParam问题&quot; class=&quot;headerlink&quot; title=&quot;addParam问题&quot;&gt;&lt;/a&gt;addParam问题&lt;/h1&gt;&lt;p&gt;例如：request.addParam(“page”, page);&lt;br&gt;案例：在一开始的时候我们添加了page字段，此时page值为1；当我们需要加载下一页的时候，怎么修改page字段的值呢？&lt;br&gt;答：有人说直接page++即可实现，但是由于配置参数，开启请求这些操作都是在presenter类里面实现的，我们无法在viewModel类里面直接修改；此时我们只需要覆盖page字段即可，如下所示：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;loadNext&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// page如果存在, 则会被覆盖&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    goodsRequest.addParam(&lt;span class=&quot;string&quot;&gt;&quot;page&quot;&lt;/span&gt;, page);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    goodsRequest.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;显示调用接口时，手机网络请求响应过程&quot;&gt;&lt;a href=&quot;#显示调用接口时，手机网络请求响应过程&quot; class=&quot;headerlink&quot; title=&quot;显示调用接口时，手机网络请求响应过程&quot;&gt;&lt;/a&gt;显示调用接口时，手机网络请求响应过程&lt;/h1&gt;&lt;p&gt;核心思想：使用Charles软件，利用电脑代理手机网络进行监测&lt;br&gt;步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;打开手机上已经的网络的详情页&lt;/li&gt;
&lt;li&gt;在代理选项下“主机名”文本框中输入电脑上已连接网络的IP地址&lt;/li&gt;
&lt;li&gt;在代理选项下“端口”文本框中输入端口号：8888&lt;/li&gt;
&lt;li&gt;打开Charles软件，在Structure对应的文本框中选择我们请求的接口地址，进行数据监测。&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;附&quot;&gt;&lt;a href=&quot;#附&quot; class=&quot;headerlink&quot; title=&quot;附&quot;&gt;&lt;/a&gt;附&lt;/h1&gt;&lt;font color=&quot;red&quot;&gt;本文持续更新&lt;/font&gt;

&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/网络请求注意点/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/网络请求注意点/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;快速创建数据实体类&quot;&gt;&lt;a href=&quot;#快速创建数据实体类&quot; class=&quot;headerlink&quot; title=&quot;快速创建数据实体类&quot;&gt;&lt;/a&gt;快速创建数据实体类&lt;/h1&gt;&lt;p&gt;步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在AndroidStudio上安装GsonForm
    
    </summary>
    
      <category term="ShowJoy_网络请求" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
    
      <category term="网络请求" scheme="https://fengqingxiuyi.github.io/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
  </entry>
  
  <entry>
    <title>达人店-网络请求过程</title>
    <link href="https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/%E8%BE%BE%E4%BA%BA%E5%BA%97-%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E8%BF%87%E7%A8%8B/"/>
    <id>https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/达人店-网络请求过程/</id>
    <published>2016-08-10T09:04:14.000Z</published>
    <updated>2016-08-13T02:14:10.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;1、创建BaseActivity，执行onCreate方法，发现如下代码：&quot;&gt;&lt;a href=&quot;#1、创建BaseActivity，执行onCreate方法，发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;1、创建BaseActivity，执行onCreate方法，发现如下代码：&quot;&gt;&lt;/a&gt;1、创建BaseActivity，执行onCreate方法，发现如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;viewModel = getViewModel();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;2、进入getViewModel-方法，发现如下代码：&quot;&gt;&lt;a href=&quot;#2、进入getViewModel-方法，发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;2、进入getViewModel()方法，发现如下代码：&quot;&gt;&lt;/a&gt;2、进入getViewModel()方法，发现如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;T &lt;span class=&quot;title&quot;&gt;getViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;可以得知它是在BaseActivity的子类实现的，随便进入一个子类看看，发现原来是创建了一个子类对象，即如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; CategoryViewModel &lt;span class=&quot;title&quot;&gt;getViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; CategoryViewModel(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;3、再进入这个子类的构造方法可以发现如下代码：&quot;&gt;&lt;a href=&quot;#3、再进入这个子类的构造方法可以发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;3、再进入这个子类的构造方法可以发现如下代码：&quot;&gt;&lt;/a&gt;3、再进入这个子类的构造方法可以发现如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;CategoryViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(BaseActivity activity)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(activity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;4、继续进入查看-发现了如下代码：&quot;&gt;&lt;a href=&quot;#4、继续进入查看-发现了如下代码：&quot; class=&quot;headerlink&quot; title=&quot;4、继续进入查看,发现了如下代码：&quot;&gt;&lt;/a&gt;4、继续进入查看,发现了如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(BaseActivity activity)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.activity = activity;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.context = activity.getApplicationContext();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    init();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;5、进入init-方法发现如下代码：&quot;&gt;&lt;a href=&quot;#5、进入init-方法发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;5、进入init()方法发现如下代码：&quot;&gt;&lt;/a&gt;5、进入init()方法发现如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    presenter = getPresenter();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != presenter) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        presenter.initParams(getParams());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (presenter.requestOnStart()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            presenter.startRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;至此可以明白：在getViewModel的时候已经开始请求数据了！！！&lt;/p&gt;
&lt;h1 id=&quot;6、重新回到BaseActivity的onCreate方法中，发现它继续执行如下代码：&quot;&gt;&lt;a href=&quot;#6、重新回到BaseActivity的onCreate方法中，发现它继续执行如下代码：&quot; class=&quot;headerlink&quot; title=&quot;6、重新回到BaseActivity的onCreate方法中，发现它继续执行如下代码：&quot;&gt;&lt;/a&gt;6、重新回到BaseActivity的onCreate方法中，发现它继续执行如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;setContentView(getContentViewRes());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;activity = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;context = activity.getApplicationContext();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;viewModel.initView();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;viewModel.viewCreated();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这里我们主要查看viewCreated方法就可以了。&lt;/p&gt;
&lt;h1 id=&quot;7、进入viewCreated方法，可以发现如下代码：&quot;&gt;&lt;a href=&quot;#7、进入viewCreated方法，可以发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;7、进入viewCreated方法，可以发现如下代码：&quot;&gt;&lt;/a&gt;7、进入viewCreated方法，可以发现如下代码：&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;viewCreated&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    initData();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    viewCreated = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != presenter) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        presenter.updateView();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这里我们发现了重要方法，即updateView，显而易见它是用来显示数据的，继续进入可以发现如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;updateView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!responsed) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        showCache();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (responseSuccess) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        responseSuccess(response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        responseError(responseErrorCode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;8、好，到这里重点来了，之前我们已经说过，在getViewModel的时候已经开始网络请求的，因为是异步请求，所以我们无法得知在执行第7步的时候，是否已经请求完毕，这里分两种情况：&lt;/p&gt;
&lt;h1 id=&quot;情况一：网络请求尚未完成&quot;&gt;&lt;a href=&quot;#情况一：网络请求尚未完成&quot; class=&quot;headerlink&quot; title=&quot;情况一：网络请求尚未完成&quot;&gt;&lt;/a&gt;情况一：网络请求尚未完成&lt;/h1&gt;&lt;p&gt;继续执行updateView中的代码，因为responsed默认为false，所以，此时页面是以缓存的数据进行展示的（注：如果有缓存的话）；&lt;br&gt;之后网络请求完成了，假设请求成功，则执行如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResponseSuccess&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(R r)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responsed = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseSuccess = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    response = r;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (viewModel.isViewCreated()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        updateView();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;因为responsed和viewCreated都已经是true，所以再次执行updateView方法，但因为responsed是true，所以此时的updateView方法执行以下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (responseSuccess) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseSuccess(response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseError(responseErrorCode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;即使用网络请求得到的数据重新展示页面&lt;/p&gt;
&lt;h1 id=&quot;情况二：网络请求已完成&quot;&gt;&lt;a href=&quot;#情况二：网络请求已完成&quot; class=&quot;headerlink&quot; title=&quot;情况二：网络请求已完成&quot;&gt;&lt;/a&gt;情况二：网络请求已完成&lt;/h1&gt;&lt;p&gt;这里以响应成功为例，则会执行onResponseSuccess方法，即如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResponseSuccess&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(R r)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responsed = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseSuccess = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    response = r;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (viewModel.isViewCreated()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        updateView();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;此时因为尚未执行viewCreated方法，所以不执行updateView方法，然后代码继续向下执行，即执行viewCreated方法，即如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;viewCreated&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    initData();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    viewCreated = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != presenter) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        presenter.updateView();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;显而易见，执行的是updateView方法，只不过此时responsed已经为true，所以updateView执行的是以下内容：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (responseSuccess) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseSuccess(response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    responseError(responseErrorCode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;即显示数据的时候不再使用缓存显示，而是用响应的数据进行展示。&lt;/p&gt;
&lt;p&gt;9、至此我们就讲完了目前 达人店 项目的网络请求过程。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/达人店-网络请求过程/&quot;&gt;https://fengqingxiuyi.github.io/2016/08/10/ShowJoy/网络请求/达人店-网络请求过程/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1、创建BaseActivity，执行onCreate方法，发现如下代码：&quot;&gt;&lt;a href=&quot;#1、创建BaseActivity，执行onCreate方法，发现如下代码：&quot; class=&quot;headerlink&quot; title=&quot;1、创建BaseActivity，执
    
    </summary>
    
      <category term="ShowJoy_网络请求" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
    
      <category term="网络请求" scheme="https://fengqingxiuyi.github.io/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
  </entry>
  
  <entry>
    <title>MVP思想复杂使用</title>
    <link href="https://fengqingxiuyi.github.io/2016/07/24/ShowJoy/MVP/MVP%E6%80%9D%E6%83%B3%E5%A4%8D%E6%9D%82%E4%BD%BF%E7%94%A8/"/>
    <id>https://fengqingxiuyi.github.io/2016/07/24/ShowJoy/MVP/MVP思想复杂使用/</id>
    <published>2016-07-24T02:10:30.000Z</published>
    <updated>2016-08-13T02:12:44.000Z</updated>
    
    <content type="html">&lt;p&gt;由于和前文&lt;a href=&quot;../MVP思想简单使用/index.html&quot;&gt;MVP思想简单使用&lt;/a&gt;类似，所以此处不做过多阐述，以情况二为例：&lt;/p&gt;
&lt;h1 id=&quot;情况二：打开的页面需要直接调用一个或多个接口&quot;&gt;&lt;a href=&quot;#情况二：打开的页面需要直接调用一个或多个接口&quot; class=&quot;headerlink&quot; title=&quot;情况二：打开的页面需要直接调用一个或多个接口&quot;&gt;&lt;/a&gt;情况二：打开的页面需要直接调用一个或多个接口&lt;/h1&gt;&lt;p&gt;&lt;font color=&quot;red&quot;&gt;注意：&lt;/font&gt;本情况最好是只调用一个接口，以&lt;code&gt;搜索页面&lt;/code&gt;为例！！！&lt;/p&gt;
&lt;h2 id=&quot;创建实体类&quot;&gt;&lt;a href=&quot;#创建实体类&quot; class=&quot;headerlink&quot; title=&quot;创建实体类&quot;&gt;&lt;/a&gt;创建实体类&lt;/h2&gt;&lt;p&gt;因为需要直接调用接口，所以我们必须的先创建好实体类，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchResult&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * shareId : 26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; shareId;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;创建请求类&quot;&gt;&lt;a href=&quot;#创建请求类&quot; class=&quot;headerlink&quot; title=&quot;创建请求类&quot;&gt;&lt;/a&gt;创建请求类&lt;/h2&gt;&lt;p&gt;接着就需要创建请求类了，即SearchRequest类，主要用于请求地址的拼接与请求服务器，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchRequest&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHGetRequest&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchResult&lt;/span&gt;&amp;gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; Class&amp;lt;List&amp;lt;SearchResult&amp;gt;&amp;gt; getDataClass() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; TypeReference&amp;lt;List&amp;lt;SearchResult&amp;gt;&amp;gt; getDataTypeReference() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TypeReference&amp;lt;List&amp;lt;SearchResult&amp;gt;&amp;gt;()&amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getRequestUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; SHHost.getMainHost() + &lt;span class=&quot;string&quot;&gt;&quot;individuation/brands&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String id, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; iddd)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        addParam(&lt;span class=&quot;string&quot;&gt;&quot;id&quot;&lt;/span&gt;, id);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        addParam(&lt;span class=&quot;string&quot;&gt;&quot;iddd&quot;&lt;/span&gt;, iddd);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;创建数据操作类&quot;&gt;&lt;a href=&quot;#创建数据操作类&quot; class=&quot;headerlink&quot; title=&quot;创建数据操作类&quot;&gt;&lt;/a&gt;创建数据操作类&lt;/h2&gt;&lt;p&gt;然后我们需要创建数据操作类，即searchPresenter类，主要用于开启请求，处理请求成功或失败后返回的数据，进行解析、处理等操作，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchPresenter&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BasePresenter&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchViewModel&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;SHResponse&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchResult&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    SplashRequest splashRequest;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchPresenter&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(SearchViewModel viewModel)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(viewModel);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; BaseRequest &lt;span class=&quot;title&quot;&gt;getRequest&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SearchRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//添加参数&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.addParam(&lt;span class=&quot;string&quot;&gt;&quot;type&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; request;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;responseSuccess&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(SHResponse&amp;lt;List&amp;lt;SearchResult&amp;gt;&amp;gt; response)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;responseError&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; error)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;needRequestData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;startSearchRequest&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; id)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        splashRequest = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SplashRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        splashRequest.addParam(&lt;span class=&quot;string&quot;&gt;&quot;id&quot;&lt;/span&gt;, id);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        splashRequest.setCallBack(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; IRequestCallBack&amp;lt;SHResponse&amp;lt;SplashResult&amp;gt;&amp;gt;() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResponseSuccess&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(SHResponse&amp;lt;SplashResult&amp;gt; splashResultSHResponse)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        splashRequest.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;创建ViewModel类&quot;&gt;&lt;a href=&quot;#创建ViewModel类&quot; class=&quot;headerlink&quot; title=&quot;创建ViewModel类&quot;&gt;&lt;/a&gt;创建ViewModel类&lt;/h2&gt;&lt;p&gt;再然后我们需要创建数据展示类，即SearchViewModel类，主要用于接收searchPresenter类传递过来的数据，并进行展示，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchViewModel&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseViewModel&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchPresenter&lt;/span&gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; SwipeListView searchListView;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; SearchListAdapter searchListAdapter;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; SHListViewFooterView listViewFootView;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(BaseActivity activity)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(activity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        searchListView = (SwipeListView) findViewById(R.id.search_list_view);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        listViewFootView = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SHListViewFooterView(context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        searchListAdapter = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SearchListAdapter(activity, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        searchListAdapter.setFooter(listViewFootView);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        searchListView.setAdapter(searchListAdapter);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//TODO adapter init&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; SearchPresenter &lt;span class=&quot;title&quot;&gt;getPresenter&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SearchPresenter(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//添加不同函数用于界面更新&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;updateListView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(List&amp;lt;SearchResult&amp;gt; results)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        presenter.startSearchRequest(&lt;span class=&quot;number&quot;&gt;23&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;创建Activity类&quot;&gt;&lt;a href=&quot;#创建Activity类&quot; class=&quot;headerlink&quot; title=&quot;创建Activity类&quot;&gt;&lt;/a&gt;创建Activity类&lt;/h2&gt;&lt;p&gt;最后就和情况一一样了，只需要创建SearchActivity类，实现相应的方法即可，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseActivity&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchViewModel&lt;/span&gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; SearchViewModel &lt;span class=&quot;title&quot;&gt;getViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SearchViewModel(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getContentViewRes&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; R.layout.search_activity;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/07/24/ShowJoy/MVP/MVP思想复杂使用/&quot;&gt;https://fengqingxiuyi.github.io/2016/07/24/ShowJoy/MVP/MVP思想复杂使用/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;由于和前文&lt;a href=&quot;../MVP思想简单使用/index.html&quot;&gt;MVP思想简单使用&lt;/a&gt;类似，所以此处不做过多阐述，以情况二为例：&lt;/p&gt;
&lt;h1 id=&quot;情况二：打开的页面需要直接调用一个或多个接口&quot;&gt;&lt;a href=&quot;#情况二：打开的页面需要直接调用一个
    
    </summary>
    
      <category term="ShowJoy_MVP" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-MVP/"/>
    
    
      <category term="MVP" scheme="https://fengqingxiuyi.github.io/tags/MVP/"/>
    
  </entry>
  
  <entry>
    <title>MVP思想简单使用</title>
    <link href="https://fengqingxiuyi.github.io/2016/07/24/ShowJoy/MVP/MVP%E6%80%9D%E6%83%B3%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
    <id>https://fengqingxiuyi.github.io/2016/07/24/ShowJoy/MVP/MVP思想简单使用/</id>
    <published>2016-07-24T01:45:55.000Z</published>
    <updated>2016-08-13T02:12:48.000Z</updated>
    
    <content type="html">&lt;p&gt;由于MVC导致了Activity负担过程，而且View和Model之间耦合严重，所里本文就MVP思想简单做了以下两种情况：&lt;/p&gt;
&lt;h1 id=&quot;情况一：打开的页面不需要立刻调用接口&quot;&gt;&lt;a href=&quot;#情况一：打开的页面不需要立刻调用接口&quot; class=&quot;headerlink&quot; title=&quot;情况一：打开的页面不需要立刻调用接口&quot;&gt;&lt;/a&gt;情况一：打开的页面不需要立刻调用接口&lt;/h1&gt;&lt;p&gt;&lt;font color=&quot;red&quot;&gt;注意：&lt;/font&gt;本情况以&lt;code&gt;关于我们&lt;/code&gt;页面为例！！！&lt;/p&gt;
&lt;h2 id=&quot;创建ViewModel类&quot;&gt;&lt;a href=&quot;#创建ViewModel类&quot; class=&quot;headerlink&quot; title=&quot;创建ViewModel类&quot;&gt;&lt;/a&gt;创建ViewModel类&lt;/h2&gt;&lt;p&gt;创建AboutViewModel类继承于BaseViewModel，并实现需要实现的方法，主要用于实现相关的业务逻辑。参考案例如下：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AboutViewModel&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseViewModel&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AboutViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(BaseActivity activity)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(activity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;startRequest&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; BaseRequest &lt;span class=&quot;title&quot;&gt;getRequest&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;handleResponse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(SHResponse response)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResume&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onResume();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;创建Activity类&quot;&gt;&lt;a href=&quot;#创建Activity类&quot; class=&quot;headerlink&quot; title=&quot;创建Activity类&quot;&gt;&lt;/a&gt;创建Activity类&lt;/h2&gt;&lt;p&gt;创建AboutActivity类继承于BaseActivity&lt;aboutviewmodel&gt;，并实现需要实现的方法即可，参考案例如下：&lt;/aboutviewmodel&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AboutActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseActivity&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;AboutViewModel&lt;/span&gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; AboutViewModel &lt;span class=&quot;title&quot;&gt;getViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AboutViewModel(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getContentViewRes&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; R.layout.about_activity;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;情况二：打开的页面需要直接调用一个或多个接口&quot;&gt;&lt;a href=&quot;#情况二：打开的页面需要直接调用一个或多个接口&quot; class=&quot;headerlink&quot; title=&quot;情况二：打开的页面需要直接调用一个或多个接口&quot;&gt;&lt;/a&gt;情况二：打开的页面需要直接调用一个或多个接口&lt;/h1&gt;&lt;p&gt;&lt;font color=&quot;red&quot;&gt;注意：&lt;/font&gt;本情况最好是只调用一个接口，以&lt;code&gt;搜索页面&lt;/code&gt;为例！！！&lt;/p&gt;
&lt;h2 id=&quot;创建实体类&quot;&gt;&lt;a href=&quot;#创建实体类&quot; class=&quot;headerlink&quot; title=&quot;创建实体类&quot;&gt;&lt;/a&gt;创建实体类&lt;/h2&gt;&lt;p&gt;因为需要直接调用接口，所以我们必须的先创建好实体类，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchResult&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * shareId : 26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; shareId;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;创建请求类&quot;&gt;&lt;a href=&quot;#创建请求类&quot; class=&quot;headerlink&quot; title=&quot;创建请求类&quot;&gt;&lt;/a&gt;创建请求类&lt;/h2&gt;&lt;p&gt;然后就需要创建请求类了，即SearchRequest类，主要用于请求地址的拼接与请求服务器，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchRequest&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHGetRequest&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchResult&lt;/span&gt;&amp;gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; Class&amp;lt;List&amp;lt;SearchResult&amp;gt;&amp;gt; getDataClass() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; TypeReference&amp;lt;List&amp;lt;SearchResult&amp;gt;&amp;gt; getDataTypeReference() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TypeReference&amp;lt;List&amp;lt;SearchResult&amp;gt;&amp;gt;()&amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getRequestUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; SHHost.getMainHost() + &lt;span class=&quot;string&quot;&gt;&quot;individuation/brands&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String id, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; iddd)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        addParam(&lt;span class=&quot;string&quot;&gt;&quot;id&quot;&lt;/span&gt;, id);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        addParam(&lt;span class=&quot;string&quot;&gt;&quot;iddd&quot;&lt;/span&gt;, iddd);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;创建ViewModel类-1&quot;&gt;&lt;a href=&quot;#创建ViewModel类-1&quot; class=&quot;headerlink&quot; title=&quot;创建ViewModel类&quot;&gt;&lt;/a&gt;创建ViewModel类&lt;/h2&gt;&lt;p&gt;全部准备完毕之后，就需要编写SearchViewModel类了，由于不清楚服务器返回的数据类型，所以我们在接受数据的时候，必须编写相对应的数据类型，如果返回的是JSON字符串类型则只需要把List去掉即可，即：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchViewModel&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseViewModel&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchRequest&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;SHResponse&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchResult&lt;/span&gt;&amp;gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;；&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;此处返回的是JSON数组类型，所以我们以集合的形式进行接收，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchViewModel&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseViewModel&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchRequest&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;SHResponse&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchResult&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    AllBrandRequest allBrandRequest;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(BaseActivity activity)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(activity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//TODO findviewbyid , init&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//TODO adapter init&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;startRequest&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.start(&lt;span class=&quot;string&quot;&gt;&quot;331&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;33&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//TODO 其他请求，&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        allBrandRequest = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AllBrandRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        allBrandRequest.setCallBack(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; IRequestCallBack&amp;lt;SHResponse&amp;lt;AllBrandResult&amp;gt;&amp;gt;() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResponseSuccess&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(SHResponse&amp;lt;AllBrandResult&amp;gt; response)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        allBrandRequest.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; SearchRequest &lt;span class=&quot;title&quot;&gt;getRequest&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SearchRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;handleResponse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(SHResponse&amp;lt;List&amp;lt;SearchResult&amp;gt;&amp;gt; response)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//TODO 处理请求结果&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onDestroy&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onDestroy();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (allBrandRequest != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            allBrandRequest.stop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;创建Activity类-1&quot;&gt;&lt;a href=&quot;#创建Activity类-1&quot; class=&quot;headerlink&quot; title=&quot;创建Activity类&quot;&gt;&lt;/a&gt;创建Activity类&lt;/h2&gt;&lt;p&gt;最后就和情况一一样了，只需要创建SearchActivity类，实现相应的方法即可，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SearchActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseActivity&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SearchViewModel&lt;/span&gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; SearchViewModel &lt;span class=&quot;title&quot;&gt;getViewModel&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SearchViewModel(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getContentViewRes&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; R.layout.search_activity;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/07/24/ShowJoy/MVP/MVP思想简单使用/&quot;&gt;https://fengqingxiuyi.github.io/2016/07/24/ShowJoy/MVP/MVP思想简单使用/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;由于MVC导致了Activity负担过程，而且View和Model之间耦合严重，所里本文就MVP思想简单做了以下两种情况：&lt;/p&gt;
&lt;h1 id=&quot;情况一：打开的页面不需要立刻调用接口&quot;&gt;&lt;a href=&quot;#情况一：打开的页面不需要立刻调用接口&quot; class=&quot;header
    
    </summary>
    
      <category term="ShowJoy_MVP" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-MVP/"/>
    
    
      <category term="MVP" scheme="https://fengqingxiuyi.github.io/tags/MVP/"/>
    
  </entry>
  
  <entry>
    <title>图片拼接+布局转换为图片</title>
    <link href="https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/View/%E5%9B%BE%E7%89%87%E6%8B%BC%E6%8E%A5+%E5%B8%83%E5%B1%80%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%9B%BE%E7%89%87/"/>
    <id>https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/View/图片拼接+布局转换为图片/</id>
    <published>2016-07-23T13:03:15.000Z</published>
    <updated>2016-08-10T10:00:38.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;font color=&quot;blue&quot;&gt;业务需求详细描述：&lt;/font&gt;最近产品说要在分享的商品图中添加一些其他图片和文字，然后拼接为一张图片，再分享到微信朋友圈，于是我就一脸懵逼了，但是没办法还是得做额！&lt;/p&gt;
&lt;p&gt;然后整理了一下思路，主要有这么两条路线：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;自己手动绘制。&lt;/li&gt;
&lt;li&gt;将布局转换为图片。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;很显然第一种方式是不合适的，无论是开发前还是开发后，成本都很大，所以果断选择了第二种方式。&lt;/p&gt;
&lt;p&gt;一开始的时候，我没有经过大脑思考，果断的使用了getDrawingCache这个方法来解决这个业务需求，大致流程如下：&lt;br&gt;（1）创建需要显示成图片的布局，代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&quot;@+id/picmontage_root&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:orientation=&quot;vertical&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;RelativeLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_weight=&quot;1&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:background=&quot;@android:color/white&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;ImageView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&quot;@+id/img_shop&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_margin=&quot;20dp&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;RelativeLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_alignParentBottom=&quot;true&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_centerHorizontal=&quot;true&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_marginBottom=&quot;20dp&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;ImageView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:id=&quot;@+id/img_price&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_height=&quot;wrap_content&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:id=&quot;@+id/txt_price&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_centerInParent=&quot;true&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;/RelativeLayout&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/RelativeLayout&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;LinearLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:background=&quot;@android:color/white&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;ImageView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&quot;@+id/img_qrcode&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_margin=&quot;20dp&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;LinearLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_marginBottom=&quot;20dp&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_marginRight=&quot;20dp&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_marginTop=&quot;20dp&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:orientation=&quot;vertical&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:text=&quot;黄老五 提子味皇式烤芙条 300g 沙琪玛 休闲办公室零食...\n&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:textColor=&quot;@android:color/black&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:text=&quot;长按识别二维码或扫一扫购买\n&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:textColor=&quot;@android:color/darker_gray&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:text=&quot;From 萌店&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:textColor=&quot;@android:color/darker_gray&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;/LinearLayout&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/LinearLayout&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/LinearLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（2）设置图片和文字信息，这里为了方便，直接把文字放到了布局中，设置图片的代码如下所示：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;addLinearLayout&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    view = View.inflate(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, R.layout.activity_picmontage, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    LinearLayout picmontageRoot = (LinearLayout) view.findViewById(R.id.picmontage_root);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageView shopImg = (ImageView) view.findViewById(R.id.img_shop);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageView priceImg = (ImageView) view.findViewById(R.id.img_price);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    TextView priceTxt = (TextView) view.findViewById(R.id.txt_price);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageView qrcodeImg = (ImageView) view.findViewById(R.id.img_qrcode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    shopImg.setImageResource(R.mipmap.shop);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    priceImg.setImageResource(R.mipmap.price);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    priceTxt.setText(&lt;span class=&quot;string&quot;&gt;&quot;$ 20.00&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    priceTxt.setTextSize(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    priceTxt.setTextColor(Color.WHITE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    qrcodeImg.setImageResource(R.mipmap.qrcode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    addViewContent.addView(view);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（3）然后就可以将布局转换成图片了，代码如下所示：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;drawingCacheShow&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Bitmap cacheBitmap = convertViewToBitmap(addViewContent);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//Bitmap cacheBitmap = getMagicDrawingCache(addViewContent);&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//addViewContent.removeView(view);&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(cacheBitmap != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Bitmap newBitmap = Bitmap.createBitmap(cacheBitmap);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (newBitmap != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            imgAddViewCache.setImageBitmap(newBitmap);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Log.i(&lt;span class=&quot;string&quot;&gt;&quot;123&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;newBitmap=null&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Log.i(&lt;span class=&quot;string&quot;&gt;&quot;123&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;cacheBitmap=null&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Bitmap &lt;span class=&quot;title&quot;&gt;convertViewToBitmap&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View view)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    view.measure(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            View.MeasureSpec.makeMeasureSpec(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, View.MeasureSpec.UNSPECIFIED),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            View.MeasureSpec.makeMeasureSpec(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, View.MeasureSpec.UNSPECIFIED));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    view.layout(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, view.getMeasuredWidth(), view.getMeasuredHeight());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    view.buildDrawingCache();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Bitmap bitmap = view.getDrawingCache();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (bitmap != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Bitmap.Config cfg = bitmap.getConfig();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Log.d(&lt;span class=&quot;string&quot;&gt;&quot;123&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;----------------------- cache.getConfig() = &quot;&lt;/span&gt; + cfg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; bitmap;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（4）然后发现图片不能正确显示，经过debug之后发现原来是图片过大的缘故，一脸懵逼，虽然使用了这样的压缩算法，但总是不尽如人意：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;addLinearLayout&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    view = View.inflate(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, R.layout.activity_picmontage, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    LinearLayout picmontageRoot = (LinearLayout) view.findViewById(R.id.picmontage_root);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageView shopImg = (ImageView) view.findViewById(R.id.img_shop);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageView priceImg = (ImageView) view.findViewById(R.id.img_price);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    TextView priceTxt = (TextView) view.findViewById(R.id.txt_price);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageView qrcodeImg = (ImageView) view.findViewById(R.id.img_qrcode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 压缩shop&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.mipmap.shop);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    shopImg.setImageBitmap(resizeBm(bitmap, &lt;span class=&quot;number&quot;&gt;600&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    priceImg.setImageResource(R.mipmap.price);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    priceTxt.setText(&lt;span class=&quot;string&quot;&gt;&quot;$ 20.00&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    priceTxt.setTextSize(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    priceTxt.setTextColor(Color.WHITE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    qrcodeImg.setImageResource(R.mipmap.qrcode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    addViewContent.addView(view);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Bitmap &lt;span class=&quot;title&quot;&gt;resizeBm&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bitmap bitmap, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; scaleWidth)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 原始宽高&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; rawWidth = bitmap.getWidth();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; rawHeight = bitmap.getHeight();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 新宽高&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; newWidth = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; newHeight = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 将宽度缩放到scaleWidth&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(rawWidth&amp;gt;scaleWidth) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        newWidth = scaleWidth;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        newHeight = rawHeight*(scaleWidth/rawWidth);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        newWidth = rawWidth;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        newHeight = rawHeight;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 计算缩放比例&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; widthScale = newWidth/rawWidth;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; heightScale = newHeight/rawHeight;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Log.i(&lt;span class=&quot;string&quot;&gt;&quot;123&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;widthScale=&quot;&lt;/span&gt;+widthScale+&lt;span class=&quot;string&quot;&gt;&quot;, heightScale=&quot;&lt;/span&gt;+heightScale);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 显示&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Matrix matrix = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Matrix();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    matrix.postScale(widthScale,heightScale);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Bitmap resizeBmp = Bitmap.createBitmap(bitmap,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,bitmap.getWidth(),bitmap.getHeight(),matrix,&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; resizeBmp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;之后有了大神的帮助，终于顿悟了，发现了神奇的方法：&lt;font color=&quot;red&quot;&gt;view.draw(canvas)&lt;/font&gt;。然后就很简单了：&lt;br&gt;这里的第1步和第2步流程与上面的1、2步流程一模一样，我们直接进入第3步，我先给出主界面中的布局：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&quot;@+id/main_root&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:orientation=&quot;vertical&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;ScrollView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&quot;wrap_content&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;LinearLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:orientation=&quot;vertical&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:onClick=&quot;showPic&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:text=&quot;显示绘制的图片&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;ImageView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:id=&quot;@+id/img&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_width=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_height=&quot;wrap_content&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;LinearLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:id=&quot;@+id/main_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:visibility=&quot;invisible&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_width=&quot;match_parent&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:layout_height=&quot;wrap_content&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                android:orientation=&quot;vertical&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;/LinearLayout&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/ScrollView&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/LinearLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（3）然后将该布局添加到主界面中，并设置为invisible，但不能设置为gone，否则不能成功渲染，同样不能生成图片了：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;mainContent.addView(v);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（4）最后我们就可以在点击事件里面将布局生成图片了，代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;showPic&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View view)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width = picmontageRoot.getMeasuredWidth();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height = picmontageRoot.getMeasuredHeight();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Bitmap b = Bitmap.createBitmap(width, height, Bitmap.Config.RGB_565);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Canvas canvas = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Canvas(b);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    picmontageRoot.draw(canvas);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    img.setImageBitmap(b);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/View/图片拼接+布局转换为图片/&quot;&gt;https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/View/图片拼接+布局转换为图片/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;font color=&quot;blue&quot;&gt;业务需求详细描述：&lt;/font&gt;最近产品说要在分享的商品图中添加一些其他图片和文字，然后拼接为一张图片，再分享到微信朋友圈，于是我就一脸懵逼了，但是没办法还是得做额！&lt;/p&gt;
&lt;p&gt;然后整理了一下思路，主要有这么两条路线：&lt;/p&gt;
&lt;o
    
    </summary>
    
      <category term="ShowJoy_View" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-View/"/>
    
    
  </entry>
  
  <entry>
    <title>网络请求的使用与查找</title>
    <link href="https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9A%84%E4%BD%BF%E7%94%A8%E4%B8%8E%E6%9F%A5%E6%89%BE/"/>
    <id>https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/网络请求/网络请求的使用与查找/</id>
    <published>2016-07-23T00:57:55.000Z</published>
    <updated>2016-08-13T02:14:16.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;情况一：网络请求的使用：&quot;&gt;&lt;a href=&quot;#情况一：网络请求的使用：&quot; class=&quot;headerlink&quot; title=&quot;情况一：网络请求的使用：&quot;&gt;&lt;/a&gt;情况一：网络请求的使用：&lt;/h1&gt;&lt;p&gt;由于路飞已经把网络请求封装的很好了，所以实现起来是很方便的，目前网络请求是通过volley+okhttp3+fastjson来实现的。&lt;/p&gt;
&lt;p&gt;以GET请求而言，主要的继承机构如下：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;BaseRequest&amp;lt;T&amp;gt; -&amp;gt; BaseGetRequest&amp;lt;T&amp;gt; -&amp;gt; SHGetRequest&amp;lt;T&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;所以当我们有新的业务需要进行网络请求时，只需要新建一个继承于SHGetRequest&lt;t&gt;的子类，例如：GetShareIdRequest。然后除了要实现必要的方法外，还需要根据实际情况判断是否需要实现start方法，用于参数的拼接。例如：&lt;/t&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GetShareIdRequest&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SHGetRequest&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;ShareID&lt;/span&gt;&amp;gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; Class&amp;lt;ShareID&amp;gt; &lt;span class=&quot;title&quot;&gt;getDataClass&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ShareID.class;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; TypeReference&amp;lt;ShareID&amp;gt; &lt;span class=&quot;title&quot;&gt;getDataTypeReference&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getRequestUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; SHHost.getHost() + &lt;span class=&quot;string&quot;&gt;&quot;/activity/share/create&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String outProductId, String activityId, String userId)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        addParam(&lt;span class=&quot;string&quot;&gt;&quot;outProductId&quot;&lt;/span&gt;, outProductId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        addParam(&lt;span class=&quot;string&quot;&gt;&quot;outProductId&quot;&lt;/span&gt;, activityId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        addParam(&lt;span class=&quot;string&quot;&gt;&quot;userId&quot;&lt;/span&gt;, userId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后创建GetShareIdRequest的对象，并对它设置回调，实现IRequestCallBack抽象类中需要实现的方法：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;getShareIdRequest.setCallBack(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; IRequestCallBack&amp;lt;SHResponse&amp;lt;ShareID&amp;gt;&amp;gt;() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResponseSuccess&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(SHResponse&amp;lt;ShareID&amp;gt; response)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (response.isSuccess) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (shareUrl.contains(&lt;span class=&quot;string&quot;&gt;&quot;?&quot;&lt;/span&gt;)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                shareUrl = shareUrl + &lt;span class=&quot;string&quot;&gt;&quot;&amp;amp;trackId=&quot;&lt;/span&gt; + response.data.shareId;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                shareUrl = shareUrl + &lt;span class=&quot;string&quot;&gt;&quot;?trackId=&quot;&lt;/span&gt; + response.data.shareId;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mMoreWindow = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ShareWindow(activity, title, shareTxt, shareUrl, shareImg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;最后调用start方法，开启请求即可，即以下语句：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;getShareIdRequest.start(&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;, activityId, UserDataManager.getUserId());&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;情况二：网络请求的查找：&quot;&gt;&lt;a href=&quot;#情况二：网络请求的查找：&quot; class=&quot;headerlink&quot; title=&quot;情况二：网络请求的查找：&quot;&gt;&lt;/a&gt;情况二：网络请求的查找：&lt;/h1&gt;&lt;p&gt;&lt;font color=&quot;red&quot;&gt;案例：&lt;/font&gt;购给利商品详情页点击分享按钮时无法弹出分享弹框，提示“网络错误，请重试”。&lt;/p&gt;
&lt;p&gt;为了知道哪里出了问题，所以我们首先需要查找到它真正的URL地址究竟是什么，在哪里。&lt;/p&gt;
&lt;h2 id=&quot;查找URL地址过程：&quot;&gt;&lt;a href=&quot;#查找URL地址过程：&quot; class=&quot;headerlink&quot; title=&quot;查找URL地址过程：&quot;&gt;&lt;/a&gt;查找URL地址过程：&lt;/h2&gt;&lt;p&gt;（1）首页我们找到点击分享按钮这个点击事件的触发位置：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;showShareDialog&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; View view)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; == shareDialog) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String shareUrl = SHHost.getMobileUrl() + &lt;span class=&quot;string&quot;&gt;&quot;/product/&quot;&lt;/span&gt; + outProductId + &lt;span class=&quot;string&quot;&gt;&quot;.html&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (UserDataManager.isLogin()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            getShareIdRequest = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; GetShareIdRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            getShareIdRequest.start(outProductId, activityId, UserDataManager.getUserId());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            shareDialog = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ShareWindow(activity, skuVo.getName(), skuVo.description, shareUrl, skuVo.getImage());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        shareDialog.show(view);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;我们可以发现在&lt;font color=&quot;red&quot;&gt;第5行&lt;/font&gt;创建了一个GetShareIdRequest请求，然后点进去看看：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@NonNull&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getRequestUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; SHHost.getHost() + &lt;span class=&quot;string&quot;&gt;&quot;/activity/share/create&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String outProductId, String activityId, String userId)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    addParam(&lt;span class=&quot;string&quot;&gt;&quot;outProductId&quot;&lt;/span&gt;, outProductId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    addParam(&lt;span class=&quot;string&quot;&gt;&quot;outProductId&quot;&lt;/span&gt;, activityId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    addParam(&lt;span class=&quot;string&quot;&gt;&quot;userId&quot;&lt;/span&gt;, userId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;发现只是进行请求地址和参数的拼接，并没有我们需要的部分，所以继续查找其父类SHGetRequest：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; SHResponse &lt;span class=&quot;title&quot;&gt;parseResponse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(SHResponse response)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != response.data &amp;amp;&amp;amp; response.data &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; JSON) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Class dataClazz = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getDataClass();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != dataClazz) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            response.data = JSON.toJavaObject((JSON)response.data, dataClazz);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            TypeReference typeReference = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getDataTypeReference();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != typeReference) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                response.data = JSON.parseObject(((JSON)response.data).toJSONString(), typeReference, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Feature[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; response;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;发现最重要的代码只是一个解析响应数据的方法，仍然与我们的需求不一致，所以依然继续查找其父类：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;BaseGetRequest：&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseGetRequest&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getRequestMethod&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;发现只有这两个方法，所以不多说了，继续前进吧，看看它的父类BaseRequest，终于不再继承了，辛苦额，答案肯定就在其中了：&lt;/p&gt;
&lt;p&gt;代码还是比较多的，那么我们怎么查找呢，因为开始第一步的时候我们只看了它创建对象的过程：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;getShareIdRequest = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; GetShareIdRequest();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;所以我们首先得找到一个创建请求的方法，即createRequest：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Request &lt;span class=&quot;title&quot;&gt;createRequest&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    String url = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getRequestUrl();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(TextUtils.isEmpty(url)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; method = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getRequestMethod();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Listener listener = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Listener() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ErrorListener errorListener = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ErrorListener() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Object params = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getParams();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; == params) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            params = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; HashMap();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        SHNetworkLog.d(&lt;span class=&quot;string&quot;&gt;&quot;request:&quot;&lt;/span&gt;, url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        SHNetworkLog.d(&lt;span class=&quot;string&quot;&gt;&quot;request params:&quot;&lt;/span&gt;, params.toString());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; == method?&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; FastJsonRequest(method, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getRealUrl(url, (Map)params), &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getTypeReference(), listener, errorListener):(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.multipartRequestParams.hasFile()?&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; FastJsonRequest(method, url, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.multipartRequestParams, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getTypeReference(), listener, errorListener):&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; FastJsonRequest(method, url, (Map)params, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getTypeReference(), listener, errorListener));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;因为我们的最终目的是查找URL地址，所以Listener监听器与我们无关，此处省略，最后发现了return语句，其中包含了URL地址，但是调用的是哪个方法呢？这个时候就需要我们使用&lt;code&gt;debug&lt;/code&gt;技术来进行判断了！debug之后发现它调用的是前一个函数，我们点进去看看：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;FastJsonRequest&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; method, String url, TypeReference&amp;lt;T&amp;gt; typeReference, Listener&amp;lt;T&amp;gt; listener, ErrorListener errorListener)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;(method, url, (Map)(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; HashMap()), typeReference, listener, errorListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;发现它接收五个参数，分别是请求方法类型（GET或POST）、请求地址，引用类型、监听器，至此我们终于发现了请求地址的存在，然后返回，继续在BaseGetRequest类中查看，发现主要代码是：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getRealUrl(url, (Map)params)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;再进入这个方法看看：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getRealUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url, Map&amp;lt;String, String&amp;gt; mParams)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; == mParams) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Uri uri = Uri.parse(url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Builder builder = uri.buildUpon();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Iterator realUrl = mParams.entrySet().iterator();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt;(realUrl.hasNext()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Entry entry = (Entry)realUrl.next();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            builder.appendQueryParameter((String)entry.getKey(), (String)entry.getValue());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        String realUrl1 = builder.build().toString();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        SHNetworkLog.d(&lt;span class=&quot;string&quot;&gt;&quot;RealUrl:&quot;&lt;/span&gt;, realUrl1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; realUrl1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;原来这是将URL和参数进行拼接的方法，最后的realUrl1即真正的请求地址。&lt;/p&gt;
&lt;h1 id=&quot;情况二：操作流程图&quot;&gt;&lt;a href=&quot;#情况二：操作流程图&quot; class=&quot;headerlink&quot; title=&quot;情况二：操作流程图&quot;&gt;&lt;/a&gt;情况二：操作流程图&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;../../../../../../images/ShowJoy/网络请求的使用与查找-情况二.gif&quot; alt=&quot;网络请求的使用与查找-情况二&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/网络请求/网络请求的使用与查找/&quot;&gt;https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/网络请求/网络请求的使用与查找/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;情况一：网络请求的使用：&quot;&gt;&lt;a href=&quot;#情况一：网络请求的使用：&quot; class=&quot;headerlink&quot; title=&quot;情况一：网络请求的使用：&quot;&gt;&lt;/a&gt;情况一：网络请求的使用：&lt;/h1&gt;&lt;p&gt;由于路飞已经把网络请求封装的很好了，所以实现起来是很方便的，
    
    </summary>
    
      <category term="ShowJoy_网络请求" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
    
      <category term="网络请求" scheme="https://fengqingxiuyi.github.io/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
  </entry>
  
  <entry>
    <title>Intent统一跳转协议</title>
    <link href="https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/Intent/Intent%E7%BB%9F%E4%B8%80%E8%B7%B3%E8%BD%AC%E5%8D%8F%E8%AE%AE/"/>
    <id>https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/Intent/Intent统一跳转协议/</id>
    <published>2016-07-23T00:08:35.000Z</published>
    <updated>2016-08-13T02:13:42.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;目的&lt;/h1&gt;&lt;p&gt;Intent统一跳转协议就是为了解决模块之间的耦合而存在的，不再以&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;startActivity(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Intent(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, OtherActivity.class));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;的方式进行页面跳转，而是以路径的形式进行跳转，去除了模块之间的引用，从而解决了模块之间的耦合问题。&lt;/p&gt;
&lt;p&gt;其中路径形式一般是以下形式：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;跳转Uri：scheme://host/path&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;但是因为这样形式的路径都是在Androidmanifset.xml文件中进行定义的，根据业务的需要，不一定会完整定义跳转Uri，所以有以下两种情况。&lt;/p&gt;
&lt;h1 id=&quot;情况一：定义完整&quot;&gt;&lt;a href=&quot;#情况一：定义完整&quot; class=&quot;headerlink&quot; title=&quot;情况一：定义完整&quot;&gt;&lt;/a&gt;情况一：定义完整&lt;/h1&gt;&lt;p&gt;情况一：在清单文件中已经定义完整了data中的scheme、host和path后，一般不需要在Activity中接收处理，除非含有其他参数，例如&lt;code&gt;gougeli://page.sh/detail?userId=123456&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;Intent统一跳转协议分为以下几步：&lt;/p&gt;
&lt;p&gt;（1）在Androidmanifest.xml文件中配置intent-filter，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;activity&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:name=&quot;.module.detail.DetailActivity&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:exported=&quot;true&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:screenOrientation=&quot;portrait&quot; &amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;intent-filter&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;action android:name=&quot;android.intent.action.VIEW&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;data android:scheme=&quot;gougeili&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:host=&quot;page.sh&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:path=&quot;/detail&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/intent-filter&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/activity&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（2）新建一个枚举类型的文件ActivityType，定义名称为Androidmanifest.xml文件中的intent-filter字段下的data字段下的&lt;font color=&quot;red&quot;&gt;android:path&lt;/font&gt;的值，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;enum&lt;/span&gt;  ActivityType &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    DETAIL(&lt;span class=&quot;string&quot;&gt;&quot;detail&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String text;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ActivityType(&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String text) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.text = text;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; text;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（3）编写SHIntent类，获取统一跳转所需的intent意图，通过之前设置的ActivityType实现路径的拼接，具体实现如下：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String SCHEME = &lt;span class=&quot;string&quot;&gt;&quot;gougeili://&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String HOST = &lt;span class=&quot;string&quot;&gt;&quot;page.sh/&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Intent &lt;span class=&quot;title&quot;&gt;getIntent&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ActivityType activityType)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Intent(Intent.ACTION_VIEW, Uri.parse(getUrl(activityType.toString())));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String type)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    StringBuilder builder = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; StringBuilder(SCHEME);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    builder.append(HOST);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    builder.append(type);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; builder.toString();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（4）到此我们就设置好了接收方，接下来就是设置发送方了。我们可以设置一个SHJump类，编写跳转到detail的方法，参数可填写bean类，用于数据的传递。例如：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;goToDetail&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Activity activity, SkuVo skuVo)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Intent intent = SHIntent.getIntent(ActivityType.DETAIL);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    intent.putExtra(DetailConstants.EXTRA_ID, skuVo.outProductId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    intent.putExtra(DetailConstants.EXTRA_PRICE, skuVo.price);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    intent.putExtra(DetailConstants.EXTRA_IMAGE, skuVo.skuPicture);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    intent.putExtra(DetailConstants.EXTRA_TITLE, skuVo.name);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    activity.startActivity(intent);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;当然也可以是其他的参数类型，但是你也应该发现了，如果在SHJump类中写好了，也意味着写死了，如果需要灵活的实现数据的传递，可以通过SHIntent实现，其实是一样的，只不过不封装在SHJump类中了，因为SHJump类中存放的是通用方法。&lt;/p&gt;
&lt;h2 id=&quot;情况一：操作流程图&quot;&gt;&lt;a href=&quot;#情况一：操作流程图&quot; class=&quot;headerlink&quot; title=&quot;情况一：操作流程图&quot;&gt;&lt;/a&gt;情况一：操作流程图&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;../../../../../../images/ShowJoy/Intent统一跳转协议-情况一.gif&quot; alt=&quot;Intent统一跳转协议-情况一&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;情况二：未定义完整&quot;&gt;&lt;a href=&quot;#情况二：未定义完整&quot; class=&quot;headerlink&quot; title=&quot;情况二：未定义完整&quot;&gt;&lt;/a&gt;情况二：未定义完整&lt;/h1&gt;&lt;p&gt;情况二：在清单文件中未定义完整data中的参数，例如只定义了scheme，那么就需要在该Activity中进行接收处理，例如：&lt;code&gt;gglapp://2836482321&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;Intent统一跳转协议分为以下几步：&lt;/p&gt;
&lt;p&gt;（1）在Androidmanifest.xml文件中配置intent-filter，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;activity&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:name=&quot;.module.splash.StartActivity&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:exported=&quot;true&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:theme=&quot;@style/Theme.Activity.Start&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:screenOrientation=&quot;portrait&quot; &amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;intent-filter&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;action android:name=&quot;android.intent.action.MAIN&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/intent-filter&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &amp;lt;intent-filter&amp;gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;action android:name=&quot;android.intent.action.VIEW&quot;/&amp;gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&amp;gt;               &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&amp;gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;data android:scheme=&quot;gglapp&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;/intent-filter&amp;gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/activity&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;（2）此处并未使用统一跳转协议，所以以详细情况为例：&lt;/p&gt;
&lt;p&gt;&lt;font color=&quot;red&quot;&gt;问：&lt;/font&gt;将购给利中的商品分享到微信后，用浏览器打开该链接，再点击其中的某个商品，只是跳转到客户端的首页，不能够跳转到购给利的商品详情页？&lt;/p&gt;
&lt;p&gt;&lt;font color=&quot;blue&quot;&gt;答：&lt;/font&gt;使用intent接收并传递数据时，使用的intent对象出现错误，导致uri为空。&lt;/p&gt;
&lt;p&gt;&lt;font color=&quot;purple&quot;&gt;代码解析：&lt;/font&gt;因为从外部浏览器跳转到内部Activity，必然有一个Uri地址，再由上述清单文件中只是定义了scheme，最后根据问题得知最终目的是跳转到商品详情页，所以StartActivity必然有通过getIntent方法接收Uri地址的代码，通过搜索getIntent发现如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Intent intent = getIntent();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Uri uri = intent.getData();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Intent mainIntent = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Intent(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, MainActivity.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Bundle bundle = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Bundle();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mainIntent.putExtra(AppConstants.EXTRA_URI, uri);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    startActivity(mainIntent);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    finish();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上述代码表示从浏览器接收到了&lt;code&gt;Uri地址&lt;/code&gt;之后，并将其传递到了MainActivity这个类中。&lt;/p&gt;
&lt;p&gt;（3）然后我们可以在MainActivity中查找相关代码，这样比较复杂，我们可以将光标移动到EXTRA_URI处，然后按option+F7，即可迅速定位到相关代码位置，代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bundle savedInstanceState)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Uri uri = getIntent().getParcelableExtra(AppConstants.EXTRA_URI);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	UriHandler.handle(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, uri);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;于是我们发现它将Uri交给了UriHandler进行处理，再到UriHandler类中进行查看：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Activity activity, Uri uri)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; == uri) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    LogUtils.d(&lt;span class=&quot;string&quot;&gt;&quot;uri:&quot;&lt;/span&gt;, uri.toString());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    String host = uri.getHost();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (TextUtils.isEmpty(host)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (host.equals(&lt;span class=&quot;string&quot;&gt;&quot;gglappFulishe&quot;&lt;/span&gt;)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        activity.startActivity(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Intent(activity, AddressActivity.class));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Set&amp;lt;String&amp;gt; params = uri.getQueryParameterNames();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Intent intent = SHIntent.getIntent(ActivityType.DETAIL);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        intent.putExtra(DetailConstants.EXTRA_ID, host);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (String param : params) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            intent.putExtra(param, uri.getQueryParameter(param));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        activity.startActivity(intent);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;最终发现了处理Uri的详细操作，原来它是通过匹配host来进行区分处理的。&lt;/p&gt;
&lt;h2 id=&quot;情况二：操作流程图&quot;&gt;&lt;a href=&quot;#情况二：操作流程图&quot; class=&quot;headerlink&quot; title=&quot;情况二：操作流程图&quot;&gt;&lt;/a&gt;情况二：操作流程图&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;../../../../../../images/ShowJoy/Intent统一跳转协议-情况二.gif&quot; alt=&quot;Intent统一跳转协议-情况二&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;附&quot;&gt;&lt;a href=&quot;#附&quot; class=&quot;headerlink&quot; title=&quot;附&quot;&gt;&lt;/a&gt;附&lt;/h1&gt;&lt;p&gt;另外还需要注意的是，我们定义这样形式的路径只是定义了接收方而已，而发送方是谁都可以进行发送的。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/Intent/Intent统一跳转协议/&quot;&gt;https://fengqingxiuyi.github.io/2016/07/23/ShowJoy/Intent/Intent统一跳转协议/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;目的&lt;/h1&gt;&lt;p&gt;Intent统一跳转协议就是为了解决模块之间的耦合而存在的，不再以&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;
    
    </summary>
    
      <category term="ShowJoy_Intent" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-Intent/"/>
    
    
      <category term="Intent" scheme="https://fengqingxiuyi.github.io/tags/Intent/"/>
    
  </entry>
  
  <entry>
    <title>Jenkins项目构建过程详解</title>
    <link href="https://fengqingxiuyi.github.io/2016/07/19/ShowJoy/Jenkins/Jenkins%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B%E8%AF%A6%E8%A7%A3/"/>
    <id>https://fengqingxiuyi.github.io/2016/07/19/ShowJoy/Jenkins/Jenkins项目构建过程详解/</id>
    <published>2016-07-18T17:03:45.000Z</published>
    <updated>2016-08-13T02:12:08.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;首页网址：&quot;&gt;&lt;a href=&quot;#首页网址：&quot; class=&quot;headerlink&quot; title=&quot;首页网址：&quot;&gt;&lt;/a&gt;首页网址：&lt;/h1&gt;&lt;p&gt;网站首页地址如下所示：&lt;a href=&quot;http://192.168.0.62:8080/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://192.168.0.62:8080/&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;构建项目过程：&quot;&gt;&lt;a href=&quot;#构建项目过程：&quot; class=&quot;headerlink&quot; title=&quot;构建项目过程：&quot;&gt;&lt;/a&gt;构建项目过程：&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;在网页右侧选择需要进行项目构建的项目选项，如&lt;code&gt;尚妆&lt;/code&gt;、&lt;code&gt;购给利&lt;/code&gt;等，网址如：&lt;a href=&quot;http://192.168.0.62:8080/view/购给利/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://192.168.0.62:8080/view/购给利/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;点击网页左侧第一栏：新建，进行构建项目所需要的配置信息，如：&lt;br&gt;Enter an item name：gougeli-1.5.3&lt;br&gt;类别：构建一个自由风格的软件项目&lt;br&gt;Copy from：输入字符就会自动列出可能需要的结果，如：gougeili-1.5.2&lt;/li&gt;
&lt;li&gt;&lt;p&gt;输入完毕后点击OK会进入详细的配置信息页面，网址如：&lt;a href=&quot;http://192.168.0.62:8080/view/购给利/job/gougeili-1.5.3/configure&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://192.168.0.62:8080/view/购给利/job/gougeili-1.5.3/configure&lt;/a&gt;&lt;br&gt;一般需要修改的地方如下：描述、Branches to build -&amp;gt; Branch Specifier (blank for ‘any’)中的分支名、Execute shell -&amp;gt; Command中的分支名，其他的地方慎重处理，最后点击Apply或者保存按钮进行保存。&lt;/p&gt;
&lt;p&gt; &lt;font color=&quot;red&quot;&gt;&lt;strong&gt;&lt;em&gt;注意：&lt;/em&gt;&lt;/strong&gt;&lt;/font&gt;点击Apply不会关闭本页面，点击保存会关闭页面，并跳转到：&lt;a href=&quot;http://192.168.0.62:8080/view/购给利/job/gougeili-1.5.3/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://192.168.0.62:8080/view/购给利/job/gougeili-1.5.3/&lt;/a&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;然后点击左侧&lt;code&gt;立即构建&lt;/code&gt;按钮，就会开始构建，构建完成或失败后可以在左侧最下面的&lt;code&gt;构建历史&lt;/code&gt;中详细查看相对应的信息。&lt;/li&gt;
&lt;li&gt;具体操作流程请查看“项目构建GIF操作流程图”&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;操作流程图&quot;&gt;&lt;a href=&quot;#操作流程图&quot; class=&quot;headerlink&quot; title=&quot;操作流程图&quot;&gt;&lt;/a&gt;操作流程图&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;../../../../../../images/ShowJoy/Jenkins项目构建.gif&quot; alt=&quot;Jenkins项目构建过程详解&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/07/19/ShowJoy/Jenkins/Jenkins项目构建过程详解/&quot;&gt;https://fengqingxiuyi.github.io/2016/07/19/ShowJoy/Jenkins/Jenkins项目构建过程详解/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;首页网址：&quot;&gt;&lt;a href=&quot;#首页网址：&quot; class=&quot;headerlink&quot; title=&quot;首页网址：&quot;&gt;&lt;/a&gt;首页网址：&lt;/h1&gt;&lt;p&gt;网站首页地址如下所示：&lt;a href=&quot;http://192.168.0.62:8080/&quot; target=&quot;_bl
    
    </summary>
    
      <category term="ShowJoy_Jenkins" scheme="https://fengqingxiuyi.github.io/categories/ShowJoy-Jenkins/"/>
    
    
      <category term="Jenkins" scheme="https://fengqingxiuyi.github.io/tags/Jenkins/"/>
    
  </entry>
  
  <entry>
    <title>Mac+GitHub+Hexo+NexT（五）偏好设置+Markdown</title>
    <link href="https://fengqingxiuyi.github.io/2016/07/18/MGHN/Mac+GitHub+Hexo+NexT%EF%BC%88%E4%BA%94%EF%BC%89%E5%81%8F%E5%A5%BD%E8%AE%BE%E7%BD%AE+Markdown/"/>
    <id>https://fengqingxiuyi.github.io/2016/07/18/MGHN/Mac+GitHub+Hexo+NexT（五）偏好设置+Markdown/</id>
    <published>2016-07-18T15:16:21.000Z</published>
    <updated>2016-08-13T02:11:10.000Z</updated>
    
    <content type="html">&lt;p&gt;上文主要讲述了NexT的偏好设置，接下来就让我们开始Hexo的偏好设置吧。&lt;/p&gt;
&lt;p&gt;首先进行相关重要说明，请仔细阅读：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;本人是在Mac搭建博客的，所以不会包含和Windows相关的内容，操作系统参数如下：&lt;code&gt;MacBook Pro OS X EI Capitan 10.11.5&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;因为搭建博客的过程中会经常输命令，所以：&lt;ol&gt;
&lt;li&gt;如果文中代码区块是以&lt;code&gt;$&lt;/code&gt;开头的话，代表的是终端默认目录，如：&lt;code&gt;QingFengdeMacBook-Pro:~ qingfeng$&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;如果文中代码区块是以&lt;code&gt;Blog $&lt;/code&gt;开头的话，代表的是&lt;font color=&quot;blue&quot;&gt;站点根目录&lt;/font&gt;，如：&lt;code&gt;QingFengdeMacBook-Pro:Blog qingfeng$&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;如果文中代码区块是以&lt;code&gt;next $&lt;/code&gt;开头的话，代表的是&lt;font color=&quot;purple&quot;&gt;主题根目录&lt;/font&gt;，如：&lt;code&gt;QingFengdeMacBook-Pro:next qingfeng$&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;所有输出类文字或者是提示性文字或者是重点文字都会有自带背景色。&lt;/li&gt;
&lt;li&gt;需要掌握vim的基本知识和用法。&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;网站基本设置&quot;&gt;&lt;a href=&quot;#网站基本设置&quot; class=&quot;headerlink&quot; title=&quot;网站基本设置&quot;&gt;&lt;/a&gt;网站基本设置&lt;/h1&gt;&lt;p&gt;网站基本设置主要包括：标题、个性签名、用户名、语言和头像，即以下所示：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# Site&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;title:	# 网站标题&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;subtitle:	# 网站副标题&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;description:	# 个人描述即个性签名&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;author:	# 用户名&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;language: # 网站语言，如：zh-Hans即为简体中文&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;timezone:	# 网站时区&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# 头像&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;avatar: /images/avatar.png&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;搜索&quot;&gt;&lt;a href=&quot;#搜索&quot; class=&quot;headerlink&quot; title=&quot;搜索&quot;&gt;&lt;/a&gt;搜索&lt;/h1&gt;&lt;p&gt;搜索功能对于每个网站都是很重要的，它可以帮助我们快速查找需要查找的内容，本网站也不例外，官网所推荐的搜索服务是&lt;code&gt;Swiftype&lt;/code&gt;，但是效果不是太好，所以我们使用&lt;code&gt;本地搜索&lt;/code&gt;功能。&lt;/p&gt;
&lt;p&gt;首先我们需要安装search插件，在&lt;font color=&quot;blue&quot;&gt;站点根目录&lt;/font&gt;下执行以下命令：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Blog $ npm install hexo-generator-search --save&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后我们打开&lt;font color=&quot;blue&quot;&gt;站配置文件&lt;/font&gt;，在其中新增search字段，具体填写内容如下所示：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;search:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  path: search.xml&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  field: post&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;最后我们需要修改网站的&lt;code&gt;url&lt;/code&gt;，具体修改内容如下所示：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# URL&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;## If your site is put in a subdirectory, set url as &amp;apos;http://yoursite.com/child&amp;apos; and root as &amp;apos;/child/&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;url: https://fengqingxiuyi.github.io/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;root: /&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;permalink: :year/:month/:day/:title/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;permalink_defaults:&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;其实就是把其中&lt;code&gt;url&lt;/code&gt;对应的默认值修改为你的网站域名。&lt;/p&gt;
&lt;h1 id=&quot;Markdown&quot;&gt;&lt;a href=&quot;#Markdown&quot; class=&quot;headerlink&quot; title=&quot;Markdown&quot;&gt;&lt;/a&gt;Markdown&lt;/h1&gt;&lt;p&gt;Hexo博客是基于Markdown来进行编写的，由于相关的编辑器也有很多，所以这里就不做太多阐述了，大家有兴趣可以去&lt;a href=&quot;https://linux.cn/article-2994-1.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;看看。&lt;/p&gt;
&lt;p&gt;Mac下主要是用&lt;a href=&quot;http://25.io/mou/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Mou&lt;/a&gt;编辑器进行编写的。界面效果如下所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;../../../../../images/Mac-GitHub-Hexo-NexT/Mou.png&quot; alt=&quot;Mou&quot;&gt;&lt;/p&gt;
&lt;p&gt;并附上教程地址：&lt;a href=&quot;https://wizardforcel.gitbooks.io/markdown-simple-world/content/hexo-tutor-1.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Markdown简单的世界&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;附&quot;&gt;&lt;a href=&quot;#附&quot; class=&quot;headerlink&quot; title=&quot;附&quot;&gt;&lt;/a&gt;附&lt;/h1&gt;&lt;p&gt;最后推荐几篇个人认为&lt;code&gt;Hexo博客搭建&lt;/code&gt;写的比较好的文章（包括官方教程）：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://hexo.io/zh-cn/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo中文官方教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://theme-next.iissnan.com/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NexT开始使用教程&lt;/a&gt;，注意：右上角还有其他方面的教程&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://ibruce.info/2015/04/04/busuanzi/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;不蒜子-搞定你的网站计数&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://wizardforcel.gitbooks.io/markdown-simple-world/content/hexo-tutor-1.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Markdown简单的世界&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/u014595668/article/details/51854259&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;在github上搭建blog(基于Node.js的Hexo+next)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.jianshu.com/p/f66103553c45&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;使用Hexo + Next搭建静态博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.tuicool.com/articles/aQriym3&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo+Next搭建Github个人静态博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://zhiho.github.io/2015/09/21/start-hexo/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo搭建GitHub博客（一）- 环境搭建&lt;/a&gt;，注意：还有第二、三部分哦！&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://ezlippi.com/blog/2016/02/jekyll-to-hexo.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Jekyll迁移到Hexo搭建个人博客&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/07/18/MGHN/Mac+GitHub+Hexo+NexT（五）偏好设置+Markdown/&quot;&gt;https://fengqingxiuyi.github.io/2016/07/18/MGHN/Mac+GitHub+Hexo+NexT（五）偏好设置+Markdown/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;上文主要讲述了NexT的偏好设置，接下来就让我们开始Hexo的偏好设置吧。&lt;/p&gt;
&lt;p&gt;首先进行相关重要说明，请仔细阅读：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;本人是在Mac搭建博客的，所以不会包含和Windows相关的内容，操作系统参数如下：&lt;code&gt;MacBook Pro O
    
    </summary>
    
      <category term="MGHN" scheme="https://fengqingxiuyi.github.io/categories/MGHN/"/>
    
    
  </entry>
  
  <entry>
    <title>Mac+GitHub+Hexo+NexT（四）NexT</title>
    <link href="https://fengqingxiuyi.github.io/2016/07/18/MGHN/Mac+GitHub+Hexo+NexT%EF%BC%88%E5%9B%9B%EF%BC%89NexT/"/>
    <id>https://fengqingxiuyi.github.io/2016/07/18/MGHN/Mac+GitHub+Hexo+NexT（四）NexT/</id>
    <published>2016-07-18T01:55:54.000Z</published>
    <updated>2016-08-13T02:10:58.000Z</updated>
    
    <content type="html">&lt;p&gt;博客框架我们已经全部搭建完成了，但是大部分人都不喜欢默认的landscape主题，因此，在本文中我就讲解一下很热门的NexT主题。&lt;/p&gt;
&lt;p&gt;首先进行相关重要说明，请仔细阅读：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;本人是在Mac搭建博客的，所以不会包含和Windows相关的内容，操作系统参数如下：&lt;code&gt;MacBook Pro OS X EI Capitan 10.11.5&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;因为搭建博客的过程中会经常输命令，所以：&lt;ol&gt;
&lt;li&gt;如果文中代码区块是以&lt;code&gt;$&lt;/code&gt;开头的话，代表的是终端默认目录，如：&lt;code&gt;QingFengdeMacBook-Pro:~ qingfeng$&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;如果文中代码区块是以&lt;code&gt;Blog $&lt;/code&gt;开头的话，代表的是&lt;font color=&quot;blue&quot;&gt;站点根目录&lt;/font&gt;，如：&lt;code&gt;QingFengdeMacBook-Pro:Blog qingfeng$&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;如果文中代码区块是以&lt;code&gt;next $&lt;/code&gt;开头的话，代表的是&lt;font color=&quot;purple&quot;&gt;主题根目录&lt;/font&gt;，如：&lt;code&gt;QingFengdeMacBook-Pro:next qingfeng$&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;所有输出类文字或者是提示性文字或者是重点文字都会有自带背景色。&lt;/li&gt;
&lt;li&gt;需要掌握vim的基本知识和用法。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;关于NexT主题的下载安装与使用，在&lt;a href=&quot;http://theme-next.iissnan.com/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官方文档&lt;/a&gt;中已经描述的十分详细了，所以这里我就讲一些个人认为比较重要的部分。&lt;/p&gt;
&lt;h1 id=&quot;favicon&quot;&gt;&lt;a href=&quot;#favicon&quot; class=&quot;headerlink&quot; title=&quot;favicon&quot;&gt;&lt;/a&gt;favicon&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# Put your favicon.ico into `hexo-site/source/` directory.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;favicon: /images/favicon.ico&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;显而易见，favicon的起始目录就是source下，所以对我而言：favicon的完整目录就是&lt;code&gt;/Blog/source/images/favicon.ico&lt;/code&gt;。&lt;/p&gt;
&lt;h1 id=&quot;RSS&quot;&gt;&lt;a href=&quot;#RSS&quot; class=&quot;headerlink&quot; title=&quot;RSS&quot;&gt;&lt;/a&gt;RSS&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# Set rss to false to disable feed link.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Leave rss as empty to use site&amp;apos;s feed link.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Set rss to specific value if you have burned your feed already.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;rss:&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;有需要的可以设置一下，这里我就简要阐述一下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;在&lt;font color=&quot;blue&quot;&gt;站点根目录&lt;/font&gt;下，新建一个字段&lt;code&gt;plugins&lt;/code&gt;，然后进行如下配置：&lt;/p&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;plugins:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;- hexo-generator-feed # 插件名&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;然后再配置显示你站点的RSS，文件路径&lt;code&gt;\atom.xml&lt;/code&gt;，即：&lt;/p&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# Set rss to false to disable feed link.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Leave rss as empty to use site&amp;apos;s feed link.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Set rss to specific value if you have burned your 	feed already.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;rss: \atom.xml&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;最后你可以使用RSS作为迁移工具，用如下命令读取其他位置的RSS：&lt;/p&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Blog $ hexo migrate rss &amp;lt;source&amp;gt; # source是本地或网络文件路径&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;网站创建日期&quot;&gt;&lt;a href=&quot;#网站创建日期&quot; class=&quot;headerlink&quot; title=&quot;网站创建日期&quot;&gt;&lt;/a&gt;网站创建日期&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# Specify the date when the site was setup&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;since: 2016&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;一般显示在网页最底部&lt;/p&gt;
&lt;h1 id=&quot;菜单栏设置&quot;&gt;&lt;a href=&quot;#菜单栏设置&quot; class=&quot;headerlink&quot; title=&quot;菜单栏设置&quot;&gt;&lt;/a&gt;菜单栏设置&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash (/archives -&amp;gt; archives)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;menu:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  home: /			# 主页&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  categories: /categories	# 分类页（需手动创建）&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  #about: /about		# 关于页面（需手动创建）&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  archives: /archives		# 归档页&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  tags: /tags			# 标签页（需手动创建）&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  #commonweal: /404.html	# 404页面（需手动创建）&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在这里我们直接将&lt;code&gt;categories&lt;/code&gt;和&lt;code&gt;tags&lt;/code&gt;前面的&lt;code&gt;#&lt;/code&gt;去掉，如果你想在首页显示&lt;code&gt;关于页面&lt;/code&gt;和&lt;code&gt;404页面&lt;/code&gt;的话，同样也可以将前面的&lt;code&gt;#&lt;/code&gt;去掉。但是这样还不能让去掉&lt;code&gt;#&lt;/code&gt;的页面正常显示，需要我们进行一些操作，请这里只介绍&lt;code&gt;分类页&lt;/code&gt;和&lt;code&gt;标签页&lt;/code&gt;修改。&lt;/p&gt;
&lt;h2 id=&quot;分类页&quot;&gt;&lt;a href=&quot;#分类页&quot; class=&quot;headerlink&quot; title=&quot;分类页&quot;&gt;&lt;/a&gt;分类页&lt;/h2&gt;&lt;p&gt;我们回到&lt;font color=&quot;blue&quot;&gt;站点根目录&lt;/font&gt;下，然后输入命令：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Blog $ hexo new page &amp;quot;categories&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;会在source目录下新建一个&lt;code&gt;categories&lt;/code&gt;文件夹，里面包含一个&lt;code&gt;index.md&lt;/code&gt;文件，然后用文本编辑器打开该文件，并将其头文件修改成一下格式：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;---&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;title: categories&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;date: 2016-07-14 18:35:46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;type: &amp;quot;categories&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;---&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;标签页&quot;&gt;&lt;a href=&quot;#标签页&quot; class=&quot;headerlink&quot; title=&quot;标签页&quot;&gt;&lt;/a&gt;标签页&lt;/h2&gt;&lt;p&gt;修改完&lt;code&gt;分类页&lt;/code&gt;后，继续输入命令：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Blog $ hexo new page &amp;quot;tags&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;会在source目录下新建一个&lt;code&gt;tags&lt;/code&gt;文件夹，里面包含一个&lt;code&gt;index.md&lt;/code&gt;文件，同样的用文本编辑器打开该文件，并将其头文件修改成一下格式：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;---&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;title: tags&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;date: 2016-07-14 18:31:07&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;type: &amp;quot;tags&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;---&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;主题样式&quot;&gt;&lt;a href=&quot;#主题样式&quot; class=&quot;headerlink&quot; title=&quot;主题样式&quot;&gt;&lt;/a&gt;主题样式&lt;/h1&gt;&lt;p&gt;NexT主题一共有一下三种样式，分别有不同的显示效果，具体功能显示如下所示：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# ---------------------------------------------------------------&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Scheme Settings&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# ---------------------------------------------------------------&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Schemes&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#scheme: Muse	# 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;scheme: Mist	# Muse 的紧凑版本，整洁有序的单栏外观&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#scheme: Pisces	# 双栏 Scheme，小家碧玉似的清新&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;字体&quot;&gt;&lt;a href=&quot;#字体&quot; class=&quot;headerlink&quot; title=&quot;字体&quot;&gt;&lt;/a&gt;字体&lt;/h1&gt;&lt;p&gt;字体的设置就看个人兴趣了，以下是我的字体设置，有兴趣的可以看一下，默认配置与我的配置只有一个不同点：它们很多都没有设置&lt;code&gt;family&lt;/code&gt;的值。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# ---------------------------------------------------------------&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Font Settings&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# - Find fonts on Google Fonts (https://www.google.com/fonts)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# - All fonts set here will have the following styles:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#     light, light italic, normal, normal intalic, bold, bold italic&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# - Be aware that setting too much fonts will cause site running slowly&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# - Introduce in 5.0.1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# ---------------------------------------------------------------&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;font:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  enable: true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # Uri of fonts host. E.g. //fonts.googleapis.com (Default)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  host:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # Global font settings used on &amp;lt;body&amp;gt; element.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  global:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    # external: true will load this font family from host.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    external: true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    family: Monda&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # Font settings for Headlines (h1, h2, h3, h4, h5, h6)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # Fallback to `global` font settings.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  headings:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    external: true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    family: Roboto Slab&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # Font settings for posts&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # Fallback to `global` font settings.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  posts:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    external: true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    family:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # Font settings for Logo&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # Fallback to `global` font settings.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # The `size` option use `px` as unit&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  logo:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    external: true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    family: Lobster Two&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    size: 24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # Font settings for &amp;lt;code&amp;gt; and code blocks.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  codes:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    external: true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    family: PT Monos&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;Social-Links&quot;&gt;&lt;a href=&quot;#Social-Links&quot; class=&quot;headerlink&quot; title=&quot;Social Links&quot;&gt;&lt;/a&gt;Social Links&lt;/h1&gt;&lt;p&gt;这里没有写中文标题的原因是：直接翻译过来总感觉不合适，在我看来，这边一般都是存放和自己有直接关联的地址，如：自己的博客地址，微博地址等，像我的就是这样：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# Social Links&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Key is the link label showing to end users.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Value is the target link (E.g. GitHub: https://github.com/iissnan)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;social:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  #LinkLabel: Link&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  GitHub: https://github.com/fengqingxiuyi&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  CSDN: http://blog.csdn.net/u012505400&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  新浪微博: http://weibo.com/sd323&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  # 等等&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;友情链接&quot;&gt;&lt;a href=&quot;#友情链接&quot; class=&quot;headerlink&quot; title=&quot;友情链接&quot;&gt;&lt;/a&gt;友情链接&lt;/h1&gt;&lt;p&gt;不多说了，直接上我的配置：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# Blogrolls&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;links_title: 友情链接&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#links_layout: block&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#links_layout: inline&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;links:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  #Title: http://example.com/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Cribug: http://notes.cribug.com/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  郭朝的博客: http://blog.csdn.net/smartbetter/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  郭霖的专栏: http://blog.csdn.net/guolin_blog/&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;代码高亮主题&quot;&gt;&lt;a href=&quot;#代码高亮主题&quot; class=&quot;headerlink&quot; title=&quot;代码高亮主题&quot;&gt;&lt;/a&gt;代码高亮主题&lt;/h1&gt;&lt;p&gt;顾名思义，适用于将代码块区域高亮显示的，当然不同语言的代码块区域高亮规则是不一样的，它的默认主题是&lt;code&gt;normal&lt;/code&gt;，一般有以下几个主题，我这边选择了&lt;code&gt;night bright&lt;/code&gt;：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# Code Highlight theme&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Available value:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#    normal | night | night eighties | night blue | night bright&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# https://github.com/chriskempson/tomorrow-theme&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;highlight_theme: night bright&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;第三方服务&quot;&gt;&lt;a href=&quot;#第三方服务&quot; class=&quot;headerlink&quot; title=&quot;第三方服务&quot;&gt;&lt;/a&gt;第三方服务&lt;/h1&gt;&lt;p&gt;关于&lt;a href=&quot;http://duoshuo.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;多说评论&lt;/a&gt;和&lt;a href=&quot;https://leancloud.cn/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;LeanCloud&lt;/a&gt;，这里就不做过多阐述了，大家看官方文档就可以了，点击超链接即可进入他们各自的官方网站。&lt;/p&gt;
&lt;p&gt;这里我们主要讲述以下另外一种&lt;font color=&quot;red&quot;&gt;站点访问计数&lt;/font&gt;方法，即&lt;a href=&quot;http://ibruce.info/2015/04/04/busuanzi/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;不蒜子&lt;/a&gt;，在这里我要对博主&lt;code&gt;zhiho&lt;/code&gt;表示感谢，&lt;a href=&quot;http://zhiho.github.io/2015/09/29/hexo-next/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;文中第6章&lt;/a&gt;对于此&lt;font color=&quot;red&quot;&gt;站点访问计数&lt;/font&gt;方法写的十分详细，虽然看起来有点小复杂，但是只要细心就不会出现奇葩问题的，所以我也就不做阐述了。&lt;/p&gt;
&lt;p&gt;如果你有兴趣的话，你也可以看看&lt;a href=&quot;http://zhiho.github.io/2015/09/29/hexo-next/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这篇文章&lt;/a&gt;中对于&lt;code&gt;sitemap&lt;/code&gt;插件，也是有很大帮助的。&lt;/p&gt;
&lt;h1 id=&quot;网站背景&quot;&gt;&lt;a href=&quot;#网站背景&quot; class=&quot;headerlink&quot; title=&quot;网站背景&quot;&gt;&lt;/a&gt;网站背景&lt;/h1&gt;&lt;p&gt;如果你想要给自己的网站加一个背景图片也很简单，你只需要一下两步就行了：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;首先将背景图片存放到该目录下：&lt;/p&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Blog $ cd themes/next/source/images/&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;接着打开你的scheme所在的目录，比如我的scheme是Mist，然后编辑index.styl文件，即以下两条命令：&lt;/p&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Blog $ cd themes/next/source/css/_schemes/Mist(Pisces和Muse也行)/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Blog $ vim index.styl&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;打开index.styl文件之后，在&lt;code&gt;Components&lt;/code&gt;上面新增设置背景图片的代码，具体内容如下所示：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@import &amp;quot;sidebar/sidebar-blogroll&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;body &amp;#123; background:url(/images/back.png);&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// Components&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;ol&gt;
&lt;li&gt;最后重新部署就可以了！&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;附&quot;&gt;&lt;a href=&quot;#附&quot; class=&quot;headerlink&quot; title=&quot;附&quot;&gt;&lt;/a&gt;附&lt;/h1&gt;&lt;p&gt;至此，我们已经讲解完了NexT主题的使用，如果你有其他个性化设置，欢迎留言；相信在前面讲解Hexo的时候，大家早就迫不及待的修改了一些Hexo中的个性化配置了吧，接下来我们来详细的配置一下。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;版权声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;知识共享许可协议&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot;&gt;&lt;/a&gt;&lt;br&gt;本网站如未注明，均由&lt;a href=&quot;https://fengqingxiuyi.github.io/&quot;&gt;青峰&lt;/a&gt;创作并维护；本网站采用&lt;a rel=&quot;external&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议&lt;/a&gt;进行许可。转载请注明作者及出处。&lt;/p&gt;
&lt;p&gt;本文永久链接：&lt;a href=&quot;https://fengqingxiuyi.github.io/2016/07/18/MGHN/Mac+GitHub+Hexo+NexT（四）NexT/&quot;&gt;https://fengqingxiuyi.github.io/2016/07/18/MGHN/Mac+GitHub+Hexo+NexT（四）NexT/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;博客框架我们已经全部搭建完成了，但是大部分人都不喜欢默认的landscape主题，因此，在本文中我就讲解一下很热门的NexT主题。&lt;/p&gt;
&lt;p&gt;首先进行相关重要说明，请仔细阅读：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;本人是在Mac搭建博客的，所以不会包含和Windows相关的内容，
    
    </summary>
    
      <category term="MGHN" scheme="https://fengqingxiuyi.github.io/categories/MGHN/"/>
    
    
  </entry>
  
</feed>
